"use strict";function checkFileFormat(file,validFormats){if(file){var value=file.name,ext=value.substring(value.lastIndexOf(".")+1).toLowerCase();return-1!==validFormats.indexOf(ext)}return!1}angular.module("getlancerApp.Bidding",["getlancerApp.Bidding.Constant","ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngFileUpload","infinite-scroll","ngTagsInput","angularMoment","bc.Flickity","afkl.lazyImage","angular-loading-bar","ngAnimate","oitozero.ngSweetAlert","slugifier","checklist-model","angularjs-dropdown-multiselect","rzModule","getlancerApp.Bidding.ProjectFlag","getlancerApp.Bidding.ProjectFollow"]).config(function($stateProvider,$urlRouterProvider){var getToken={TokenServiceData:function(TokenService,$q){return $q.all({AuthServiceData:TokenService.promise,SettingServiceData:TokenService.promiseSettings})}};$urlRouterProvider.otherwise("/"),$stateProvider.state("Bid_ProjectAdd",{url:"/projects/add",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/project_add.html",controller:"ProjectAddCtrl",resolve:getToken}).state("Bid_ProjectEdit",{url:"/projects/edit/:id?status",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/project_edit.html",controller:"ProjectEditCtrl",resolve:getToken}).state("Bid_ProjectView",{url:"/projects/view/:id/:slug?placebid&edit&action",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/project_view.html",controller:"ProjectViewCtrl",resolve:getToken}).state("Bid_Projects",{url:"/projects?q&page&type&project_categories&skills&price_range_min&price_range_max",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/projects.html",controller:"ProjectsListCtrl",resolve:getToken}).state("Bid_MeProjects",{url:"/projects/me?status",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/my_projects.html",controller:"MyProjectsCtrl",resolve:getToken}).state("Bid_MeBids",{url:"/projects/bids/me",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/my_bids.html",controller:"MyBidsCtrl",resolve:getToken}).state("Bid_ProjectPayment",{url:"/projects/order/:id/:slug",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/project_payment.html",controller:"ProjectPaymentController",resolve:getToken})}).filter("date_format",function($filter){return function(input,format){return $filter("date")(new Date(input),format)}}).filter("capitalize",function(){return function(input){return input?input.charAt(0).toUpperCase()+input.substr(1).toLowerCase():""}}).filter("milestone_status",function($filter){return function(input,format){return"Completed"}}).config(function(tagsInputConfigProvider){tagsInputConfigProvider.setDefaults("tagsInput",{placeholder:"",minLength:1,addOnEnter:!1}).setDefaults("autoComplete",{debounceDelay:200,loadOnDownArrow:!0,loadOnEmpty:!0})}),angular.module("getlancerApp.Bidding").controller("MyBidsCtrl",function($scope,$rootScope,$state,$filter,flash,MyBids,BidMilestone,BidRetake,MeMilestone,MilestoneStatusConstant,MeInvoice,SweetAlert){$scope.index=function(params){"milestone"===params.type?(delete params.type,(void 0===$state.params.status||"milestone"!==$state.params.status)&&$state.go("Bid_MeBids",{status:"milestone"},{notify:!1}),$scope.MilestoneStatusConstant=MilestoneStatusConstant,$scope.milestones=[],MeMilestone.get(params,function(response){0===parseInt(response.error.code)&&($scope.milestones=response.data)},function(error){})):"invoice"===params.type?((void 0===$state.params.status||"invoice"!==$state.params.status)&&$state.go("Bid_MeBids",{status:"invoice"},{notify:!1}),delete params.type,$scope.invoices=[],MeInvoice.get(params,function(response){0===parseInt(response.error.code)&&($scope.invoices=response.data)},function(error){})):("active"===params.type?(void 0===$state.params.status||"active"!==$state.params.status)&&$state.go("Bid_MeBids",{status:"active"},{notify:!1}):"my_bids"===params.type?(void 0===$state.params.status||"my_bids"!==$state.params.status)&&$state.go("Bid_MeBids",{status:"my_bids"},{notify:!1}):(void 0===$state.params.status||"past_projects"!==$state.params.status)&&$state.go("Bid_MeBids",{status:"past_projects"},{notify:!1}),MyBids.get(params,function(response){0===parseInt(response.error.code)&&($scope.currentPage=response._metadata.current_page,$scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page),0===parseInt(response.error.code)?$scope.mybids=response.data:($scope.mybids=[],$scope.errorMessage="",angular.isDefined(response.error)&&($scope.errorMessage=response.error.message),$scope.currentPage=0,$scope.totalItems=0,$scope.itemsPerPage=0,$scope.noOfPages=0)}))},$state.params.status?(alert("in bddd"),"my_bids"===$state.params.status?$scope.activeStatus=1:"past_projects"===$state.params.status?$scope.activeStatus=2:"milestone"===$state.params.status?$scope.activeStatus=3:"invoice"===$state.params.status?$scope.activeStatus=4:$scope.activeStatus=0,$scope.index({type:$state.params.status})):$scope.activeStatus=0,$scope.paginate=function(){$scope.currentPage=parseInt($scope.currentPage),$scope.index()},$scope.getBidsShow=function(tabType){$scope.params={type:tabType,page:void 0!==$scope.currentPage?$scope.currentPage:1},$scope.index($scope.params)},$scope.bidAction=function(indexVal,atype,bidId){if(parseInt(atype)){var title="",cbuton="";1==parseInt(atype)?(title=$filter("translate")("Are you sure you want to edit this bid?"),cbuton="Edit"):(title=$filter("translate")("Are you sure you want to withdraw this bid?"),cbuton="Withdraw"),SweetAlert.swal({title:title,text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var flashMessage="";if(1==parseInt(atype))$state.go("Bid_ProjectView",{id:$scope.mybids[indexVal].project.id,slug:$scope.mybids[indexVal].project.slug,placebid:!0,edit:!0});else{var params={};params.is_freelancer_withdrawn=1,BidRetake.put({id:bidId},params,function(response){if(0===response.error.code){flashMessage=$filter("translate")("Your bid withdrawn successfully."),flash.set(flashMessage,"success",!1);var params=$state.params;params.placebid=!0,$state.go("Bid_ProjectView",params)}else flashMessage=$filter("translate")("Please try again."),flash.set(flashMessage,"error",!1)})}}})}}}),angular.module("getlancerApp.Bidding").controller("ProjectPaymentController",function($rootScope,$scope,$window,countries,states,cities,$stateParams,usersAddresses,wallet,flash,$location,$filter,$state,paymentGateways,userSettings,ConstPaymentGateways,ProjectEditView,UserMeFactory,PaymentOrderFactory,$uibModalStack){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Confirm your Payment"),$scope.id=$stateParams.id,$scope.minimum_wallet_amount=$rootScope.settings.WALLET_MIN_WALLET_AMOUNT,$scope.maximum_wallet_amount=$rootScope.settings.WALLET_MAX_WALLET_AMOUNT,$scope.buyer={},$scope.plan={},$scope.paynow_is_disabled=!1,$scope.payment_note_enabled=!1,$scope.payer_form_enabled=!0,$scope.is_wallet_page=!0,$scope.plan_info={},$scope.save_btn=!1,$scope.first_gateway_id="",$scope.plan_info.price_final=10,$scope.index=function(){ProjectEditView.get({id:$state.params.id},function(response){$scope.projectadd=response.data,$scope.total_listing_fee=response.data.total_listing_fee,$scope.projectTitle=response.data.name}),$scope.loader=!0,$scope.payment=!0,UserMeFactory.get({},function(response){$scope.user_available_balance=response.data.available_wallet_amount});var payment_gateways=[];paymentGateways.get(function(payment_response){if(payment_response.wallet&&($scope.wallet_enabled=!0,0===parseInt($scope.user_available_balance)?$scope.is_show_wallet_paybtn=!1:$scope.is_show_wallet_paybtn=!0),payment_response.PayPalREST){var response=payment_response.PayPalREST;response.paypalrest_enabled&&($scope.paypal_enabled=!0)}$scope.group_gateway_id="",0===payment_response.error.code&&void 0!==payment_response.zazpay&&(angular.forEach(payment_response.zazpay.gateways,function(gateway_group_value,gateway_group_key){0===gateway_group_key&&($scope.group_gateway_id=gateway_group_value.id,$scope.first_gateway_id=gateway_group_value.id),angular.forEach(gateway_group_value.gateways,function(payment_geteway_value,payment_geteway_key){var payment_gateway={},suffix="sp_";0===gateway_group_key&&($scope.sel_payment_gateway="sp_"+payment_geteway_value.id),suffix+=payment_geteway_value.id,payment_gateway.id=payment_geteway_value.id,payment_gateway.payment_id=suffix,payment_gateway.group_id=gateway_group_value.id,payment_gateway.display_name=payment_geteway_value.display_name,payment_gateway.thumb_url=payment_geteway_value.thumb_url,payment_gateway.suffix=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.form_fields=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.instruction_for_manual=payment_geteway_value.instruction_for_manual,payment_gateways.push(payment_gateway)})}),$scope.gateway_groups=payment_response.zazpay.gateways,$scope.payment_gateways=payment_gateways,$scope.form_fields_tpls=payment_response.zazpay._form_fields_tpls,$scope.show_form=[],$scope.form_fields=[],angular.forEach($scope.form_fields_tpls,function(key,value){"buyer"===value&&($scope.form_fields[value]="views/buyer.html"),"credit_card"===value&&($scope.form_fields[value]="views/credit_card.html"),"manual"===value&&($scope.form_fields[value]="views/manual.html"),$scope.show_form[value]=!0}),$scope.gateway_id=ConstPaymentGateways.ZazPay),$scope.loader=!1})},$scope.applyCoupon=function(){var params={};params.coupon_code=$scope.plan.coupon,params.amount=$scope.project.zazpay_revised_amount,CouponGetStatusFactory.get(params,function(response){if($scope.discountCoupon=response,0===response.error.code)if($scope.discountCoupon.data.discount_type_id==ConstDiscountType.Amount)$scope.plan_info.price_final=parseFloat($scope.project.zazpay_revised_amount)-parseFloat(response.data.discount),$scope.show_discount=$filter("currency")(response.data.discount);else{var discount_amt=response.data.discount/100*$scope.project.zazpay_revised_amount;$scope.plan_info.price_final=$scope.project.zazpay_revised_amount-discount_amt,$scope.show_discount=$filter("translate")(response.data.discount+"%")}else flash.set($filter("translate")(response.error.message),"error",!1),$scope.plan.coupon=""})},$scope.ClearCoupon=function(){$scope.plan_info.price_final=$scope.project.zazpay_revised_amount,$scope.purchase_plan_coupon=!1,$scope.show_discount=!1},$scope.paneChanged=function(pane){"Manual / Offline"===pane&&($scope.payment_note_enabled=!0);var keepGoing=!0;$scope.buyer={},$scope.PaymentForm.$setPristine(),$scope.PaymentForm.$setUntouched(),angular.forEach($scope.form_fields_tpls,function(key,value){$scope.show_form[value]=!1}),$scope.gateway_id=ConstPaymentGateways.ZazPay,angular.forEach($scope.gateway_groups,function(res){if(res.display_name===pane&&"Wallet"!==pane){var selPayment="";angular.forEach($scope.payment_gateways,function(response){keepGoing&&response.group_id===res.id&&(selPayment=response,keepGoing=!1,$scope.rdoclick(selPayment.id,selPayment.form_fields))}),$scope.sel_payment_gateway="sp_"+selPayment.id,$scope.group_gateway_id=selPayment.group_id}}),"Wallet"===pane?$scope.gateway_id=ConstPaymentGateways.Wallet:"paypal"===pane&&($scope.gateway_id=ConstPaymentGateways.PayPal)},$scope.rdoclick=function(res,res1){$scope.paynow_is_disabled=!1,$scope.sel_payment_gateway="sp_"+res,$scope.array=res1.split(","),angular.forEach($scope.array,function(value){$scope.show_form[value]=!0})},$scope.PaymentFormSubmit=function(form){var payment_id="";if($scope.sel_payment_gateway&&$scope.gateway_id===ConstPaymentGateways.ZazPay&&(payment_id=$scope.sel_payment_gateway.split("_")[1]),$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]="Project",$scope.buyer.buyer_name=$scope.buyer.credit_card_name_on_card,$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=payment_id,$scope.buyer.coupon_code=$scope.plan.coupon,angular.isDefined($scope.buyer.credit_card_expired)&&($scope.buyer.credit_card_expired.month||$scope.buyer.credit_card_expired.year)&&($scope.buyer.credit_card_expire=$scope.buyer.credit_card_expired.month+"/"+$scope.buyer.credit_card_expired.year),form){$scope.paynow_is_disabled=!0;var flashMessage;if(parseFloat($scope.plan_info.price_final)>parseFloat($scope.user_available_balance)&&$scope.gateway_id===ConstPaymentGateways.Wallet)return flashMessage=$filter("translate")("Your wallet has insufficient money."),flash.set(flashMessage,"error",!1),$scope.paynow_is_disabled=!1,!0;PaymentOrderFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.error.code?("Captured"===response.payment_response.status&&($scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.total_listing_fee)),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload(),$state.go("user_dashboard")):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1,$uibModalStack.dismissAll()},function(error){console.log(error)})}},$scope.payNowPayPalClick=function(){var flashMessage;$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]="Project",$scope.buyer.payment_gateway_id=ConstPaymentGateways.PayPal,$scope.buyer.gateway_id=$scope.buyer.payment_gateway_id,$scope.paynow_is_disabled=!0,PaymentOrderFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.error.code?("Captured"===response.payment_response.status&&($scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.total_listing_fee)),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload(),$state.go("user_dashboard")):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1,$uibModalStack.dismissAll()},function(error){console.log(error)})},countries.get({limit:"all"},function(response){angular.isDefined(response.data)&&($scope.countries=response.data)}),$scope.index()}),angular.module("getlancerApp.Bidding").controller("ProjectAddCtrl",function($scope,$rootScope,$state,$filter,flash,Projects,ProjectStatus,ProjectSkills,ProjectCategory,ProjectRange,FileFormat,Upload,ProjectStatusConstant,$window,$timeout,AutocompleteUsers,ConstUserRole){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Post a Project"),$scope.data={},$timeout(function(){$scope.text_box=!0},1e3),$scope.show_custom_range=!0,$scope.project_bidding_fee=parseInt($rootScope.settings.PROJECT_MAX_BID_DURATION)||0,$scope.PROJECT_TOTAL_FEE=$rootScope.settings.PROJECT_LISTING_FEE,$scope.ProjectStatusConstant=ProjectStatusConstant,$scope.index=function(){$scope.data.skill_select=[],$scope.data.category_select=[],ProjectStatus.get(function(response){0===parseInt(response.error.code)?$scope.projectStatus=response.data:console.log("Status Error")},function(error){console.log("ProjectStatus Error",error)});var params={};params.limit="all",ProjectSkills.get(params,function(response){0===parseInt(response.error.code)?($scope.projectSkill=[],$scope.projectSkills=response.data,angular.forEach($scope.projectSkills,function(value){$scope.projectSkill.push({id:value.id,text:value.name}),void 0!==$scope.projectskillsList&&-1!=$scope.projectskillsList.indexOf(value.id)&&$scope.data.skill_select.push({id:value.id,text:value.name})})):console.log("Skills Error")},function(error){console.log("Skills Error",error)}),AutocompleteUsers.get(function(response){0===parseInt(response.error.code)?($scope.employerUser=[],$scope.employerUsers=response.data,angular.forEach($scope.employerUsers,function(value){$scope.employerUser.push({id:value.id,text:value.username}),void 0!==$scope.employerUsersList&&-1!=$scope.employerUsersList.indexOf(value.id)&&$scope.data.user_select.push({id:value.id,text:value.username})})):console.log("Users Error")},function(error){console.log("Users Error",error)}),ProjectRange.get(function(response){0===parseInt(response.error.code)?($scope.projectRanges=[],angular.forEach(response.data,function(value){$scope.projectRanges.push({id:value.id,name:value.name+" ("+$rootScope.settings.CURRENCY_SYMBOL+value.min_amount+" - "+$rootScope.settings.CURRENCY_SYMBOL+ +value.max_amount+")"})}),$scope.projectRanges.push({id:0,name:"Custom Range"})):console.log("Ranges Error")},function(error){console.log("projectRanges Error",error)}),ProjectCategory.get(function(response){0===parseInt(response.error.code)?($scope.projectCategories=response.data,$scope.projectCat=[],angular.forEach($scope.projectCategories,function(value){$scope.projectCat.push({id:value.id,text:value.name}),void 0!==$scope.projectCategoriesList&&-1!=$scope.projectCategoriesList.indexOf(value.id)&&$scope.data.category_select.push({id:value.id,text:value.name})})):console.log("Categories Error")},function(error){console.log("ProjectCategory Error",error)})},$scope.index(),$scope.loadCategories=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.projectCat,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items},$scope.loadSkills=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.projectSkill,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items},$scope.loadEmployers=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.employerUser,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items},$scope.save_btn=!1,$scope.postProject=function($valid,projectFrm,data,type){$valid&&!$scope.error_message?($scope.save_btn=!0,1===type?data.project_status_id=ProjectStatusConstant.Draft:data.project_status_id=ProjectStatusConstant.PaymentPending,'Custom Range"'===data.project_range_id&&($scope.custom_range={}),angular.isDefined(data.skill_select)&&Object.keys(data.skill_select).length>0&&($scope.seperate_skills=[],angular.forEach(data.skill_select,function(value){$scope.seperate_skills.push(value.text)}),data.skills=$scope.seperate_skills.toString()),angular.isDefined(data.category_select)&&Object.keys(data.category_select).length>0&&(data.project_categories=[],angular.forEach(data.category_select,function(value){data.project_categories.push({project_category_id:value.id})})),angular.isUndefined(data.user_id)&&(data.user_id=ConstUserRole.Admin),Projects.post($scope.data,function(response){var flashMessage;0===parseInt(response.error.code)?(1===type?(flashMessage=$filter("translate")("Project stored in draft successfully."),$state.go("user_dashboard",{type:"my_projects",status:"draft_payment_pending"})):(flashMessage=$filter("translate")("Project added successfully."),response.total_listing_fee>0?$state.go("Bid_ProjectPayment",{id:response.id,slug:response.slug}):$state.go("Bid_ProjectView",{id:response.id,slug:response.slug})),flash.set(flashMessage,"success",!1)):($scope.save_btn=!1,flashMessage=1===type?$filter("translate")("Project stored in draft failed."):$filter("translate")("Project added failed."),flash.set(flashMessage,"error",!1))},function(error){console.log("postProject Error",error)})):$timeout(function(){$(".error").each(function(){return $(this).hasClass("ng-hide")?void 0:($scope.scrollvalidate($(this).offset().top-140),!1)})},100)},$scope.scrollvalidate=function(topvalue){$("html, body").animate({scrollTop:topvalue})},$scope.customRange=function(val){0===parseInt(val)?$scope.show_custom_range=!0:$scope.show_custom_range=!0},$scope.upload=function(file){Upload.upload({url:"/api/v1/attachments?class=Project",data:{file:file}}).then(function(response){0===response.data.error.code?($scope.data.image=response.data.attachment,$scope.error_message=""):$scope.error_message=response.data.error.message})},$scope.amount_find=!0,$scope.projectFeatureFeeAdd=function(value){$scope.data.is_featured?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))},$scope.projectUrgentFeeAdd=function(value){$scope.data.is_urgent?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))},$scope.projectPrivateFeeAdd=function(value){$scope.data.is_private?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))},$scope.projectHiddenFeeAdd=function(value){$scope.data.is_hidded_bid?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))}}).controller("ProjectEditCtrl",function($scope,$rootScope,$state,$filter,flash,ProjectEditView,ProjectStatus,ProjectSkills,ProjectCategory,ProjectRange,ProjectStatusConstant,md5,$timeout,AutocompleteUsers,ConstUserRole,Upload){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Edit Project"),$timeout(function(){$scope.text_box=!0},1e3),$scope.projectRanges=[],$scope.projectRangesId=[],$scope.OpenForBidding=ProjectStatusConstant.OpenForBidding,$scope.PendingApproval=ProjectStatusConstant.PendingForApproval,$scope.Draft=ProjectStatusConstant.Draft,$scope.paymentPending=ProjectStatusConstant.PaymentPending,$scope.projectCustomCheck=0,$scope.PROJECT_TOTAL_FEE=$rootScope.settings.PROJECT_LISTING_FEE,$scope.project_bidding_fee=parseInt($rootScope.settings.PROJECT_MAX_BID_DURATION)||0,$scope.index=function(){function skillCategoriesBack(){var params={};params.limit="all",params.project_id=$state.params.id,ProjectSkills.get(params,function(response){0===parseInt(response.error.code)?($scope.projectSkills=response.data,$scope.projectSkill=[],$scope.data.skill_select=[],angular.forEach($scope.projectSkills,function(value){$scope.projectSkill.push({id:value.id,text:value.name}),""!==selectedSkill&&-1!=selectedSkill.indexOf(value.id)&&$scope.data.skill_select.push({id:value.id,text:value.name})})):console.log("Skills Error")},function(error){console.log("Skills Error",error)}),ProjectCategory.get(function(response){0===parseInt(response.error.code)?($scope.projectCategories=response.data,$scope.projectCat=[],$scope.data.category_select=[],angular.forEach($scope.projectCategories,function(catvalueFinal){$scope.projectCat.push({id:catvalueFinal.id,text:catvalueFinal.name}),-1!=selectedProjectCat.indexOf(catvalueFinal.id)&&$scope.data.category_select.push({id:catvalueFinal.id,text:catvalueFinal.name})})):console.log("Categories Error")},function(error){console.log("ProjectCategory Error",error)}),AutocompleteUsers.get(function(response){0===parseInt(response.error.code)?($scope.employerUser=[],$scope.employerUsers=response.data,$scope.data.user_select=[],angular.forEach($scope.employerUsers,function(value){$scope.employerUser.push({id:value.id,text:value.username})})):console.log("User Error")},function(error){console.log("Users Error",error)})}var selectedSkill=[],selectedProjectCat=[],params={id:$state.params.id};$state.params.status&&(params.status=$state.params.status),$scope.customRange=function(val){$scope.data.custom_range={},parseInt(val)==parseInt($scope.projectCustomCheck)?($scope.show_custom_range=!0,$scope.data.custom_range.min_amount=""):($scope.show_custom_range=!0,delete $scope.data.custom_range)},ProjectEditView.get(params,function(response){response.data.project_status_id<$scope.OpenForBidding?0===parseInt(response.error.code)?($scope.data={},$scope.data.name=response.data.name,$scope.data.description=response.data.description,$scope.data.bid_duration=response.data.bid_duration,$scope.data.additional_descriptions=response.data.additional_descriptions,$scope.data.project_status_id=response.data.project_status_id,$scope.data.is_featured=response.data.is_featured,$scope.data.is_private=response.data.is_private,$scope.data.is_urgent=response.data.is_urgent,$scope.data.is_hidded_bid=response.data.is_hidded_bid,$scope.data.user_id=response.data.user_id,$scope.data.username=response.data.user.username,$scope.accessCard={id:response.data.user_id,username:response.data.user.username},$scope.data.project_range_id=parseInt(response.data.project_range_id),angular.forEach(response.data.skills_projects,function(value){selectedSkill.push(value.skills.id)}),angular.forEach(response.data.projects_project_categories,function(catvalue){selectedProjectCat.push(catvalue.project_categories.id)}),angular.element(document.getElementsByClassName("btn dropdown-toggle")).prop("title",$scope.data.username),angular.element(".filter-option").text($scope.data.username),skillCategoriesBack(),ProjectRange.get(function(response){0===parseInt(response.error.code)?($scope.amount_find=!0,angular.forEach(response.data,function(value){$scope.projectRangesId.push(value.id),$scope.data.project_range_id===value.id&&($scope.project_range=value.id),$scope.projectRanges.push({id:value.id,name:value.name+" ("+$rootScope.settings.CURRENCY_SYMBOL+value.min_amount+" - "+$rootScope.settings.CURRENCY_SYMBOL+ +value.max_amount+")"})})):console.log("Ranges Error"),$scope.data.project_range_id===$scope.project_range?$scope.show_custom_range=!0:($scope.show_custom_range=!0,$scope.custom_id=0,$scope.data.project_range_id=0)},function(error){console.log("projectRanges Error",error)}),$scope.projectRangesId.indexOf(response.data.project_range_id)>-1?($scope.data.project_range_id=response.data.project_range_id,delete $scope.data.custom_range):($scope.range={},$scope.data.custom_range={},$scope.data.custom_range.min_amount=Number(response.data.project_range.min_amount),$scope.data.custom_range.max_amount=Number(response.data.project_range.max_amount)),$scope.projectRangesId.indexOf($scope.data.project_range_id)?$scope.projectRanges.push({id:0,name:"Custom Range"}):($scope.projectRanges.push({id:$scope.data.project_range_id,name:"Custom Range"}),$scope.projectCustomCheck=$scope.data.project_range_id),angular.isDefined(response.data.attachment)&&null!==response.data.attachment&&($scope.project_filename=response.data.attachment.filename),$scope.data.is_featured&&($scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt($rootScope.settings.PROJECT_FEATURED_FEE||0)),$scope.data.is_urgent&&($scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt($rootScope.settings.PROJECT_URGENT_FEE||0)),$scope.data.is_private&&($scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt($rootScope.settings.PROJECT_PRIVATE_PROJECT_FEE||0)),$scope.data.is_hidded_bid&&($scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt($rootScope.settings.PROJECT_HIDDEN_BID_FEE||0))):console.log("Skills Error"):($scope.data={},$scope.data.project_status_id=response.data.project_status_id,$scope.data.name=response.data.name,$scope.data.additional_descriptions=response.data.additional_descriptions,angular.forEach(response.data.skills_projects,function(value){selectedSkill.push(value.skills.id)}),skillCategoriesBack())}),ProjectStatus.get(function(response){0===parseInt(response.error.code)?$scope.projectStatus=response.data:console.log("Status Error")},function(error){console.log("ProjectStatus Error",error)})},$scope.index(),$scope.loadCategories=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.projectCat,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items},$scope.loadSkills=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.projectSkill,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items},$scope.loadEmployers=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.employerUser,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items},$scope.upload=function(file){Upload.upload({url:"/api/v1/attachments?class=Project",data:{file:file}}).then(function(response){0===response.data.error.code?($scope.data.image=response.data.attachment,$scope.error_message=""):$scope.error_message=response.data.error.message})},$scope.save_btn=!1,$scope.showform=!1,$scope.postProject=function($valid,data,type){$valid&&!$scope.error_message?($scope.showform=!0,$scope.save_btn=!0,1===type?data.project_status_id=ProjectStatusConstant.Draft:2===type?data.project_status_id=ProjectStatusConstant.PaymentPending:delete data.project_status_id,"custom"===data.project_range_id&&($scope.custom_range={}),angular.isDefined(data.skill_select)&&Object.keys(data.skill_select).length>0&&($scope.seperate_skills=[],angular.forEach(data.skill_select,function(value){$scope.seperate_skills.push(value.text)}),data.skills=$scope.seperate_skills.toString()),angular.isDefined(data.category_select)&&Object.keys(data.category_select).length>0&&(data.project_categories=[],angular.forEach(data.category_select,function(value){data.project_categories.push({project_category_id:value.id})})),angular.isUndefined(data.user_id)&&(data.user_id=ConstUserRole.Admin),ProjectEditView.put({id:$state.params.id},data,function(response){var flashMessage;0===parseInt(response.error.code)?(1===type?(flashMessage=$filter("translate")("Project stored in draft successfully."),$state.go("user_dashboard",{type:"my_projects",status:"draft_payment_pending"})):(flashMessage=$filter("translate")("Project updated successfully."),
response.total_listing_fee>0&&response.project_status_id!=$scope.OpenForBidding&&response.project_status_id!=$scope.PendingApproval?$state.go("Bid_ProjectPayment",{id:response.id,slug:response.slug}):response.project_status_id==$scope.OpenForBidding?(flashMessage=$filter("translate")("Project updated successfully."),$state.go("Bid_ProjectView",{id:response.id,slug:response.slug})):response.project_status_id==$scope.PendingApproval?(flashMessage=$filter("translate")("Project updated successfully."),$state.go("user_dashboard",{type:"my_projects",status:"open_bidding"})):$state.go("Bid_ProjectView",{id:response.id,slug:response.slug})),flash.set(flashMessage,"success",!1)):(1===type?(flashMessage=$filter("translate")("Project stored in draft failed."),$state.go("Bid_Projects")):flashMessage=$filter("translate")("Project update failed."),flash.set(flashMessage,"error",!1))},function(error){console.log("postProject Error",error)})):$timeout(function(){$(".error").each(function(){return $(this).hasClass("ng-hide")?void 0:($scope.scrollvalidate($(this).offset().top-140),!1)})},100)},$scope.scrollvalidate=function(topvalue){$("html, body").animate({scrollTop:topvalue})},$scope.projectFeatureFeeAdd=function(value){$scope.amount_find=!0,$scope.data.is_featured?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))},$scope.projectUrgentFeeAdd=function(value){$scope.data.is_urgent?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))},$scope.projectPrivateFeeAdd=function(value){$scope.data.is_private?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))},$scope.projectHiddenFeeAdd=function(value){$scope.data.is_hidded_bid?($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)+parseInt(value||0)},100)):($scope.amount_find=!1,$timeout(function(){$scope.amount_find=!0,$scope.PROJECT_TOTAL_FEE=parseInt($scope.PROJECT_TOTAL_FEE||0)-parseInt(value||0)},100))}}).controller("ProjectsListCtrl",function($scope,$rootScope,$state,$filter,$location,flash,Projects,ProjectStatus,ProjectSkills,ProjectCategory,ProjectStatusConstant,$stateParams){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Browse Projects"),$scope.data=[],$scope.priceSlider=150,$scope.params={},$scope.sortby=$scope.params.sortby="desc",$scope.created_at="down",$scope.OpenForBidding=ProjectStatusConstant.OpenForBidding,$scope.bookmarked=!0,$scope.categories_add={},$scope.data={q:$state.params.q,project_categories:$state.params.categories,skills:$state.params.skills,price_range_min:$state.params.price_range_min,price_range_max:$state.params.price_range_max,project_status_id:$scope.OpenForBidding,page:void 0!==$scope.currentPage?$scope.currentPage:1},$scope.orderPosted=function(sortby){$scope.params.sort="created_at",$scope.params.sortby=sortby,"asc"===sortby&&($scope.created_at="down"),$scope.index($scope.params),$scope.sortby="desc","desc"===sortby&&($scope.sortby="asc",$scope.created_at="up")},"bookmarked"==$state.params.type?($scope.type="bookmarked",$scope.bookmarked=!1,$scope.skill=!1):"my_skills"==$state.params.type?($scope.type="my_skills",$scope.bookmarked=!1,$scope.skill=!0):($scope.type="price_range",$scope.bookmarked=!0),$scope.index=function(params){$scope.slider={},$scope.getProjects(),$scope.loader=!0,Projects.get({type:$scope.type},function(response){angular.isDefined(response.data)&&($scope.minimum_price=response.data.min_price,$scope.maximum_price=response.data.max_price,null==response.data.min_price&&null==response.data.max_price?($scope.min_price=0,$scope.max_price=1e3):null!=response.data.min_price&&null!=response.data.max_price&&($scope.min_price=$scope.minimum_price,$scope.max_price=$scope.maximum_price),angular.isDefined($state.params.price_range_min)&&angular.isDefined($state.params.price_range_max)&&($scope.min_price=$state.params.price_range_min,$scope.max_price=$state.params.price_range_max),null==response.data.min_price&&null==response.data.max_price?$scope.slider={min:$scope.min_price,max:$scope.max_price,options:{floor:parseInt($scope.min_price),ceil:parseInt($scope.max_price)}}:null!=response.data.min_price&&null!=response.data.max_price&&void 0===$stateParams.price_range_max&&void 0===$stateParams.price_range_max?$scope.slider={min:$scope.minimum_price,max:$scope.maximum_price,options:{floor:parseInt(response.data.min_price),ceil:parseInt(response.data.max_price)}}:$scope.slider={min:$stateParams.price_range_min,max:$stateParams.price_range_max,options:{floor:parseInt(response.data.min_price),ceil:parseInt(response.data.max_price)}})})},$scope.loader=!0,$scope.getProjects=function(){var params={};void 0!=$stateParams.q&&(params.q=$stateParams.q),void 0!=$stateParams.project_categories&&(params.project_categories=$stateParams.project_categories),void 0!=$stateParams.skills&&(params.skills=$stateParams.skills),void 0!=$stateParams.price_range_max&&(params.price_range_max=$stateParams.price_range_max),void 0!=$stateParams.price_range_min&&(params.price_range_min=$stateParams.price_range_min),"bookmarked"===$state.params.type&&(params.type="bookmarked",$scope.bookmarked=!1),"my_skills"===$state.params.type&&(params.type="my_skills",$scope.bookmarked=!1),void 0===$state.params.page?params.page=1:params.page=$state.params.page,Projects.get(params,function(response){if($scope.loader=!1,angular.isDefined(response._metadata)&&($scope.currentPage=response._metadata.current_page,$scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page),angular.isDefined(response.data)?$scope.projects=response.data:($scope.projects="",$scope.errorMessage="",angular.isDefined(response.error)&&($scope.errorMessage=response.error.message),$scope.currentPage=0,$scope.totalItems=0,$scope.itemsPerPage=0,$scope.noOfPages=0),void 0!==$state.params.project_categories&&""!==$state.params.project_categories){params.project_categories=$state.params.project_categories;var c=$state.params.project_categories;c.split(",").forEach(function(e){$scope.categories_add[e]=!0})}})},$scope.loader=!1,ProjectCategory.get(function(response){if(0===parseInt(response.error.code)){$scope.projectCategories=response.data,$scope.projectCat=[],$scope.data.category_select=[];var selectedProjectCat="";angular.isDefined($state.params.project_categories)&&(selectedProjectCat=$state.params.project_categories.split(",")),angular.forEach($scope.projectCategories,function(value){$scope.projectCat.push({id:value.id,text:value.name}),""!==selectedProjectCat&&-1!=selectedProjectCat.indexOf(value.id.toString())&&$scope.data.category_select.push({id:value.id,text:value.name})})}else console.log("Categories Error")},function(error){console.log("ProjectCategory Error",error)}),$scope.loadCategories=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.projectCat,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items};var params={};params.limit="all",ProjectSkills.get(params,function(response){if(0===parseInt(response.error.code)){$scope.projectSkill=[],$scope.projectSkills=response.data,$scope.data.skill_select=[];var selectedSkill="";angular.isDefined($state.params.skills)&&(selectedSkill=$state.params.skills.split(",")),angular.forEach($scope.projectSkills,function(value){$scope.projectSkill.push({id:value.id,text:value.name}),""!==selectedSkill&&-1!=selectedSkill.indexOf(value.id.toString())&&$scope.data.skill_select.push({id:value.id,text:value.name})})}else console.log("Skills Error")},function(error){console.log("Skills Error",error)}),$scope.loadSkills=function(qstr){qstr=qstr.toLowerCase();var items=[];return angular.forEach($scope.projectSkill,function(value){name=value.text.toLowerCase(),name.indexOf(qstr)>=0&&items.push({id:value.id,text:value.text})}),items},$scope.Searchcategory=function(type){$scope.currentPage=1,$scope.category_row=$scope.getChecked($scope.categories_add),$scope.category_row=0!==$scope.category_row.length?$scope.category_row.join():null,$scope.params={project_categories:$scope.category_row},$location.path("/projects").search("project_categories",$scope.category_row)},$scope.getChecked=function(obj){var checked=[];for(var key in obj)obj[key]&&checked.push(key);return checked},$scope.refinesearch=function(data){if(angular.isDefined(data.skill_select)&&Object.keys(data.skill_select).length>0){var skills=[];angular.forEach(data.skill_select,function(value){skills.push(value.id)}),data.skills=skills.toString()}if(angular.isDefined(data.category_select)&&Object.keys(data.category_select).length>0){var categories=[];angular.forEach(data.category_select,function(value){categories.push(value.id)}),data.categories=categories.toString()}$scope.params={q:data.q,project_categories:data.categories,skills:data.skills,price_range_min:$scope.slider.min,price_range_max:$scope.slider.max},$state.go("Bid_Projects",$scope.params)},$scope.paginate=function(){$scope.currentPage=parseInt($scope.currentPage),$state.go("Bid_Projects",{page:$scope.currentPage}),$scope.getProjects()},$scope.index()}).controller("ProjectViewCtrl",function($scope,$rootScope,$state,$filter,$cookies,flash,ProjectEditView,ProjectStatusConstant,BidStatusConstant,SweetAlert,md5,$window,FollowUser,FollowUserDelete,$timeout,$uibModal,$uibModalStack){$scope.ProjectStatusConstant=ProjectStatusConstant,$scope.isprojectcancel=!1,$scope.is_show_follow=!1,$rootScope.projectlike={},$scope.rating_value=0,$scope.getProjectDetails=function(){ProjectEditView.get({id:$state.params.id,type:"view"},function(response){if(0===parseInt(response.error.code)){$scope.show_response_page=!0,$scope.project=response.data,$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Project")+" - "+$scope.project.name,angular.isDefined($scope.project.user.attachment)&&null!==$scope.project.user.attachment?$scope.project.user.user_avatar_url="images/large_thumb/UserAvatar/"+$scope.project.user.id+"."+md5.createHash("UserAvatar"+$scope.project.user.id+"pnglarge_thumb")+".png":$scope.project.user.user_avatar_url="images/default.png",angular.isDefined($scope.project.follower)&&$scope.project.follower.length>0?(angular.forEach($scope.project.follower,function(follower){$rootScope.book_id=follower.id}),$scope.is_book=!0):$scope.is_book=!1;var skillsList=[];angular.forEach($scope.project.skills_projects,function(value){skillsList.push(value.skills.id)}),$rootScope.projectlike.skills=skillsList;var categoriesList=[];angular.forEach($scope.project.projects_project_categories,function(value){categoriesList.push(parseInt(value.project_category_id))}),$rootScope.projectlike.categories=categoriesList,($scope.project.is_cancel_request_freelancer||$scope.project.is_cancel_request_employer)&&($scope.isprojectcancel=!0,$rootScope.broadCastDataempolyer={notes:$scope.project.mutual_cancel_note},$rootScope.broadCastDatafreelancer={notes:$scope.project.mutual_cancel_note},$scope.is_freelancer=!1,$rootScope.broadCastDatafreelancer.is_show_accept=!$scope.is_freelancer&&$scope.project.is_cancel_request_employer?!1:!0,$rootScope.broadCastDatafreelancer.userinfo=$scope.project.project_bid.user.username,$rootScope.broadCastDatafreelancer.userImage=$scope.project.bid_winner.user.attachment,$rootScope.broadCastDatafreelancer.userId=$scope.project.project_bid.user.id,$rootScope.broadCastDatafreelancer.createdAt=$scope.project.created_at,$scope.is_freelancer=!0,$rootScope.broadCastDataempolyer.is_show_accept=$scope.is_freelancer&&$scope.project.is_cancel_request_freelancer?!1:!0,$rootScope.broadCastDataempolyer.userinfo=$scope.project.user.username,$rootScope.broadCastDataempolyer.userImage=$scope.project.user.attachment,$rootScope.broadCastDataempolyer.userId=$scope.project.user.id,$rootScope.broadCastDataempolyer.createdAt=$scope.project.created_at),parseInt($rootScope.user.id)===parseInt(response.data.user_id)?$scope.project_user=!0:($scope.project_user=!1,angular.isDefined($scope.project.owner_bid)&&null!==$scope.project.owner_bid?Object.keys($scope.project.owner_bid.length>0)&&($scope.is_already_bidded=!0):$scope.is_already_bidded=!1,void 0!==$state.params.edit&&($scope.is_already_bidded=!1,$scope.is_bid_edit=!0)),parseInt($scope.project.project_status_id)>$scope.ProjectStatusConstant.OpenForBidding&&(parseInt($rootScope.user.id)===parseInt($scope.project.freelancer_user_id)?$scope.bid_lost=!1:$scope.bid_lost=!0);var listbroadcastData={is_show_lost:parseInt($rootScope.user.id)===parseInt($scope.project.freelancer_user_id)||parseInt($rootScope.user.id)===parseInt($scope.project.user_id)?!1:!0},isbookshow={projectid:$scope.project.id,isbook:$scope.is_book};$timeout(function(){$scope.$broadcast("showlostbids",listbroadcastData),$scope.$broadcast("showisbook",isbookshow),$scope.projectbidcount=response.data.project_bid.bid_count},2e3)}},function(error){console.log(error)})},$scope.getProjectDetails(),$scope.closeInstance=function(){$uibModalStack.dismissAll()},$scope.follow=function(){var flashMessage="";Object.keys($scope.project.user.follower).length>0?FollowUserDelete["delete"]({id:$scope.project.user.follower[0].id},function(response){0===response.error.code?(flashMessage=$filter("translate")("Unfollowed successfully"),flash.set(flashMessage,"success",!1),$scope.followBtn="Follow",$scope.getProjectDetails()):(flashMessage=$filter("translate")("Could not unfollow"),flash.set(flashMessage,"error",!1))}):FollowUser.post({foreign_id:$scope.project.user_id,"class":"User"},function(response){0===response.error.code?(flashMessage=$filter("translate")("Followed successfully."),flash.set(flashMessage,"success",!1),$scope.getProjectDetails(),$scope.followBtn="Unfollow"):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})},$scope.$on("is_show_follow",function(event,data){"showfollow"===data&&($scope.followBtn="Follow",Object.keys($scope.project.user.follower).length>0&&($scope.followBtn="Unfollow"),$scope.is_show_follow=!0)})}).controller("MyProjectsCtrl",function($scope,$rootScope,$state,$filter,flash,MyProjects,SweetAlert,DelProject,ProjectStatus,ProjectStatusConstant,ProjectStatusUpdate){$scope.projectConstant=ProjectStatusConstant,$scope.index=function(){$scope.GetProjectStatus()},$scope.GetProjectStatus=function(){ProjectStatus.get(function(response){0===parseInt(response.error.code)&&($scope.projectStatus=response.data)},function(error){console.log(error)})},$scope.getProjects=function(tabType){2===tabType?(void 0===$state.params.status||"payment_pending"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"payment_pending"},{notify:!1}):1===tabType?(void 0===$state.params.status||"draft"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"draft"},{notify:!1}):3===tabType?(void 0===$state.params.status||"pending_approval"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"pending_approval"},{notify:!1}):4===tabType?(void 0===$state.params.status||"open_bidding"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"open_bidding"},{notify:!1}):5===tabType?(void 0===$state.params.status||"close_expiry"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"close_expiry"},{notify:!1}):6===tabType?(void 0===$state.params.status||"winner_selected"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"winner_selected"},{notify:!1}):11===tabType?(void 0===$state.params.status||"under_development"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"under_development"},{notify:!1}):14===tabType?(void 0===$state.params.status||"final_review"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"final_review"},{notify:!1}):16===tabType?(void 0===$state.params.status||"closed"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"closed"},{notify:!1}):13===tabType?(void 0===$state.params.status||"admin_cancel"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"admin_cancel"},{notify:!1}):12===tabType?(void 0===$state.params.status||"cancel"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"cancel"},{notify:!1}):(void 0===$state.params.status||"payment_pending"!==$state.params.status)&&$state.go("Bid_MeProjects",{status:"payment_pending"},{notify:!1}),1===parseInt(tabType)?$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Open Project"):2===parseInt(tabType)?$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Work in Progress"):$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Past Project"),$scope.params={project_status_id:tabType},$scope.StatusFilter=function(id){$scope.params={project_status_id:id}},MyProjects.get($scope.params,function(response){0===parseInt(response.error.code)&&($scope.projects=response.data)},function(error){console.log(error)})},$state.params.status?"draft"===$state.params.status?($scope.activeStatus=1,$scope.getProjects(1)):"pending_approval"===$state.params.status?($scope.activeStatus=2,$scope.getProjects(3)):"open_bidding"===$state.params.status?($scope.activeStatus=3,$scope.getProjects(4)):"close_expiry"===$state.params.status?($scope.activeStatus=4,$scope.getProjects(5)):"winner_selected"===$state.params.status?($scope.activeStatus=5,$scope.getProjects(6)):"under_development"===$state.params.status?($scope.activeStatus=6,$scope.getProjects(11)):"final_review"===$state.params.status?($scope.activeStatus=7,$scope.getProjects(14)):"closed"===$state.params.status?($scope.activeStatus=8,$scope.getProjects(16)):"admin_cancel"===$state.params.status?($scope.activeStatus=9,$scope.getProjects(13)):"cancel"===$state.params.status?($scope.activeStatus=10,$scope.getProjects(10)):($scope.activeStatus=0,$scope.getProjects(2)):$scope.getProjects(2),$scope.deleteProject=function(project_id){SweetAlert.swal({title:$filter("translate")("Are you sure you want to delete?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel!",closeOnConfirm:!0,animation:!1},function(isConfirm){DelProject["delete"]({id:project_id},function(response){0===response.error.code?(flashMessage=$filter("translate")("Your project has been deleted successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Your project couldn't deleted. Please try again."),flash.set(flashMessage,"error",!1),$state.reload())})})},$scope.cancelProject=function(project_id){SweetAlert.swal({title:$filter("translate")("Are you sure you want to cancel this project?"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){ProjectStatusUpdate.put({id:project_id,project_status_id:$scope.projectConstant.EmployerCanceled},function(response){0===response.error.code?(flashMessage=$filter("translate")("Your project has been cancelled successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Your project couldn't cancelled. Please try again."),flash.set(flashMessage,"error",!1),$state.reload())})})},$scope.index()}),angular.module("getlancerApp.Bidding.Constant",[]).constant("DateFormat",{view:"MMM dd",created_12:"yyyy-MM-dd HH:mm",created_24:"yyyy-MM-dd hh:mma",created:"yyyy-MM-dd",title:"MMMM dd, yyyy hh:mma (EEEE)"}).constant("ClassName",{invoice:"Invoice",milestone:"Milestone",project:"Project"}).constant("FileFormat",{image:["jpg","gif","png","jpeg","bmp"],resume:["doc","docx","pdf","rtf","odt","docm","dot","txt"],project:["doc","docx","pdf","rtf","odt","docm","dot","txt","jpg","gif","png","jpeg"]}).constant("BidStatusConstant",{Pending:1,Won:2,Lost:3}).constant("BiddingMsgClass",{"class":"Bid",type:"inbox"}).constant("BiddingfileClass",{"class":"Project"}).constant("ExamStatusConstant",{Inprogress:1,Incomplete:2,Passed:3,Failed:4,ExamFeePaymentPending:5,FeePaidNotStarted:6,SuspendedDuetoTakingOvertime:7}).constant("PerDayExam",{NumOfTime:"2"}).constant("DisputeMsgClass",{"class":"ProjectDispute"}).constant("DisputeStatusConstant",{Open:1,UnderDiscussion:2,WaitingforAdministratorDecision:3,Closed:4}),angular.module("getlancerApp.Bidding").directive("fileDownload",function(md5,$location,$timeout){var directive={restrict:"EA",template:'<a href="{{downloadUrl}}" class="cursor" target="_blank"> <span ng-bind-html="downloadlable"></span> </a>',scope:{attachment:"@",downloadlable:"@"},link:function(scope,element,attrs){scope.attachment=JSON.parse(scope.attachment);var download_file=md5.createHash(scope.attachment["class"]+scope.attachment.foreign_id+"docdownload")+".doc";scope.downloadUrl=$location.protocol()+"://"+$location.host()+"/download/"+scope.attachment["class"]+"/"+scope.attachment.foreign_id+"/"+download_file,void 0===scope.downloadlable&&(scope.downloadlable='<i class="fa fa- download"> </i>')}};return directive}).directive("numberOnly",function(){return{restrict:"EA",link:function(scope,elem,attr,ctrl){elem.bind("keyup",function(e){var text=this.value;this.value=text.replace(/[a-zA-Z]/g,"")})}}}).directive("biddingList",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_list.html",scope:{project:"@",projectuser:"@",projectstatus:"@",hiddienbid:"@",isbid:"@",projectbidid:"@",isprojectcancel:"@",isdispute:"@"},controller:function($rootScope,$scope,$filter,$state,$timeout,ProjectBids,ProjectStatusConstant,BidStatusConstant,AwardedBids,md5,$cookies,ProjectEditView,anchorSmoothScroll,ConstUserRole,$anchorScroll,$uibModal,flash){$scope.ConstUserRole=ConstUserRole,$scope.ProjectStatusConstant=ProjectStatusConstant,$scope.auth=JSON.parse($cookies.get("auth")),parseInt($scope.auth.id)!==parseInt($scope.projectuser)?$scope.is_freelancer=!0:$scope.is_freelancer=!1,"withdraw"===$state.params.action?$rootScope.withdrawthisfreelancer=!0:$rootScope.withdrawthisfreelancer=!1,$scope.focusPortfolio=function(profile_user_id,profile_user_name){$state.go("user_profiles",{id:profile_user_id,slug:profile_user_name,portfolio:"portfolios"})},$scope.contactFreelancer=function(projectbidid,messagecount){$rootScope.message_bid_id=projectbidid,$scope.modalInstance=$uibModal.open({templateUrl:"scripts/plugins/Bidding/Bidding/views/default/contact_freelancer.html",animation:!1,controller:function($scope,$rootScope,$window,$stateParams,$filter,md5,$state,Upload,$timeout,$uibModal,$uibModalStack,Messages,biduser,authuser,ProjectBids){var flashMessage="";$scope.MessagePage=1,$rootScope.closemodel=function(){$uibModalStack.dismissAll()},$scope.contact_freelancer=!1,$scope.data={},$scope.ContactMessages=[];({id:$stateParams.id,is_freelancer_withdrawn:!1});$rootScope.messagecount=messagecount,$scope.submit=function($valid){if($valid){$scope.contact_freelancer=!0;var contactData={};contactData.foreign_id=projectbidid,contactData.to_user_id=biduser,contactData.message=$scope.data.message,contactData["class"]="Bid",contactData.subject=$state.params.slug,Messages.post(contactData,function(response){$scope.contact_freelancer=!1,0===response.error.code?(flashMessage=$filter("translate")("Message sent successfully."),flash.set(flashMessage,"success",!1),$scope.data.message="",$scope.Contactfrm.$setPristine(),$scope.Contactfrm.$setUntouched(),$scope.ContactMessages=[],"0"===$rootScope.messagecount&&$state.reload(),$scope.MessagePage=1,$scope.GetConactMessage(),$scope.contact_freelancer=!1):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}},$scope.GetConactMessage=function(){var conactparams={};conactparams.foreign_id=$rootScope.message_bid_id,conactparams.limit=5,conactparams.sortby="desc",conactparams["class"]="Bid",conactparams.page=$scope.MessagePage,Messages.get(conactparams,function(response){angular.isDefined(response.data)&&(angular.isDefined(response._metadata)&&($scope.messageNoOfPages=response._metadata.last_page,$scope.ConactmessageTotal=response._metadata.total-response._metadata.current_page*response._metadata.per_page),0===parseInt(response.error.code)?angular.forEach(response.data,function(value){angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png",$scope.ContactMessages.push(value)}):$scope.ContactMessages=[])})},$scope.contactmessage_pagination=function(){$scope.MessagePage=parseInt($scope.MessagePage)+1,$scope.GetConactMessage()},$scope.GetConactMessage()},size:"lg",resolve:{biduser:function(){return $scope.biduser},authuser:function(){return $scope.auth.id}}})},$scope.showLoader=!0,$scope.awardLoader=!0,$scope.is_awarded=!1,$scope.biddings=[],$scope.mutual_cancel=!1,$scope.project_dispute=!1,$scope.project_review=!1,"mutual_cancel"===$state.params.action?($scope.mutual_cancel=!0,$timeout(function(){$anchorScroll("mutual-cancel")},2500)):"dispute"===$state.params.action?($scope.project_dispute=!0,$timeout(function(){$anchorScroll("dispute-block")},2500)):"review-form"===$state.params.action&&($scope.project_review=!0,$timeout(function(){$anchorScroll("update")},2500)),$timeout(function(){if(parseInt($scope.projectstatus)>=parseInt(ProjectStatusConstant.WinnerSelected))$scope.is_awarded=!0,$rootScope.getData=function(){if($scope.is_show_lost||ProjectStatusConstant.Closed){var params={id:$scope.project};parseInt($scope.auth.id)!==parseInt($scope.projectuser)?"false"===$scope.hiddienbid?($scope.otherBids(),$scope.userbids(params),$scope.hiddienbidShow=!0):($scope.biddings=[],$scope.hiddienbidShow=!1):($scope.hiddienbidShow=!0,$scope.otherBids(),$scope.userbids(params))}},$rootScope.getData(),AwardedBids.get({id:$scope.project,status:BidStatusConstant.Won,project_bid_id:$scope.projectbidid},function(response){0===parseInt(response.error.code)?($scope.awarded=response.data,angular.forEach($scope.awarded,function(value){angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png",$scope.project_failed_count=Number(value.user.project_failed_count||0),$scope.project_completed_count=Number(value.user.project_completed_count||0),$scope.total_count=$scope.project_failed_count+$scope.project_completed_count,$scope.mul=$scope.project_completed_count/$scope.total_count,value.completetion_rate=100*$scope.mul}),parseInt($scope.auth.id)===parseInt($scope.awarded[0].user_id)?$rootScope.bid_awarded=!1:$rootScope.bid_awarded=!0,!$rootScope.bid_awarded&&$scope.is_freelancer&&$scope.$emit("is_show_follow","showfollow")):$scope.awarded=[],$scope.awardLoader=!1},function(error){console.log("Bidding List Directive",error)});else{var params={};"false"!==$scope.hiddienbid?parseInt($scope.auth.id)===parseInt($scope.projectuser)?(params={id:$scope.project,is_freelancer_withdrawn:!1},$scope.userbids(params),$scope.hiddienbidShow=!0):($scope.isbid?(params={id:$scope.project,user_id:$scope.auth.id,is_freelancer_withdrawn:!1},$scope.userbids(params)):($scope.biddings=[],params={id:$scope.project,user_id:$scope.auth.id,is_freelancer_withdrawn:!1},$scope.userbids(params)),$scope.hiddienbidShow=!0):($scope.hiddienbidShow=!0,params={id:$scope.project,is_freelancer_withdrawn:!1},$scope.userbids(params))}},2e3),$scope.$on("showlostbids",function(event,data){$scope.is_show_lost=data.is_show_lost}),$scope.userbids=function(params){params.project_id=$state.params.id,ProjectBids.get(params,function(response){0===parseInt(response.error.code)?($scope.biddings=response.data,angular.forEach($scope.biddings,function(value){0!=value.exams_users.length&&($scope.exam_users=value.exams_users,angular.forEach($scope.exam_users,function(exams){if($scope.total_mark=Number(exams.total_mark||0),$scope.total_question_count=Number(exams.total_question_count||0),$scope.average=$scope.total_mark/$scope.total_question_count,exams.exam_user_per=parseInt(100*$scope.average),angular.isDefined(exams.exam.attachment)&&null!==exams.exam.attachment){md5.createHash("Exam"+exams.exam.attachment.foreign_id+"pngsmall_thumb");exams.exam_image="images/small_thumb/Exam/"+exams.exam.attachment.foreign_id+"."+md5.createHash("Exam"+exams.exam.attachment.foreign_id+"pngsmall_thumb")+".png"}else exams.exam_image="images/no-image.png"})),angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png",$scope.project_failed_count=Number(value.user.project_failed_count||0),$scope.project_completed_count=Number(value.user.project_completed_count||0),$scope.total_count=$scope.project_failed_count+$scope.project_completed_count,$scope.mul=$scope.project_completed_count/$scope.total_count,value.completetion_rate=100*$scope.mul}),$rootScope.scrollBids===!0&&$timeout(function(){$anchorScroll("bidsAll")},100)):$scope.biddings=[],$scope.showLoader=!1},function(error){console.log("Bidding List Directive",error)})},$scope.otherBids=function(){AwardedBids.get({id:$scope.project,status:BidStatusConstant.Lost,project_bid_id:$scope.projectbidid},function(response){0===parseInt(response.error.code)?($scope.biddings=response.data,angular.forEach($scope.biddings,function(value){angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png"})):$scope.biddings=[],$scope.showLoader=!1},function(error){console.log("Bidding List Directive",error)})},$scope.$on("choosenewfreelancer",function(event,data){$scope.choosenewfreelancer=!0}),$scope.showhideSkills=function(id,is_show){var skillId="skills-"+id;1===parseInt(is_show)?$("#"+skillId).attr("style","display:block"):$(".user-certificate-skills").attr("style","display:none")};var getParams={id:$state.params.id,fields:"id,project_status_id,is_dispute,is_cancel_request_freelancer,is_cancel_request_employer,user_id"};ProjectEditView.get(getParams,function(response){null!=response.data.bid_winner&&($scope.AwardedUserId=response.data.bid_winner.user_id,$rootScope.other_user_reviews=response.data.other_user_reviews),$rootScope.project_is_dispute=response.data.is_dispute,$scope.projectbidcount=response.data.project_bid.bid_count,$scope.projectbidcount>"1"&&($rootScope.newFreelancerSelect=!0),response.data.project_status_id==ProjectStatusConstant.FinalReviewPending&&ProjectStatusConstant.Closed?$rootScope.reviewShow=!0:$rootScope.reviewShow=!1,$scope.reviewsLists=response.data.reviews,$rootScope.userReview=!0;var sucesscount=0;angular.forEach($scope.reviewsLists,function(reviewList){angular.isDefined(reviewList.user.attachment)&&null!==reviewList.user.attachment?reviewList.user.user_avatar_url="images/big_thumb/UserAvatar/"+reviewList.user.id+"."+md5.createHash("UserAvatar"+reviewList.user.id+"pngbig_thumb")+".png":reviewList.user.user_avatar_url="images/default.png",
1>sucesscount&&(reviewList.user_id==$rootScope.user.id?($rootScope.userReview=!1,sucesscount++):$rootScope.userReview=!0)})}),"withdraw"===$state.params.action&&$timeout(function(){$anchorScroll("withdaw_scroll")},1e3)}}}).directive("biddingPost",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_add.html",scope:{project:"@"},controller:function($rootScope,$scope,$state,$filter,$timeout,$location,flash,BidPost,BidUpdate,EditBid,$cookies,UserFactory){$scope.buttonText="Place Bid",$scope.showInfo=!0;var absUrl=$location.absUrl().split("?");$state.params.placebid?($rootScope.is_bid_enable=!0,$scope.is_bid_enable=!0):($rootScope.is_bid_enable=!1,$scope.is_bid_enable=!1),$rootScope.bidProject=function(){$rootScope.is_bid_enable=!0,$scope.is_bid_enable=!0;var params=$state.params;params.placebid=!0,$state.go("Bid_ProjectView",params)},$scope.cancleBid=function(){$rootScope.is_bid_enable=!1,$scope.is_bid_enable=!1,window.location.href=absUrl[0]},UserFactory.get({},function(response){$scope.available_credit_count=parseInt(response.data.available_credit_count)}),$timeout(function(){void 0!==$state.params.edit?($scope.buttonText="Update Bid",$scope.showInfo=!1,$scope.auth=JSON.parse($cookies.get("auth")),$scope.data={},EditBid.get({id:$scope.project,user:$scope.auth.id},function(response){$scope.showLoader=!1,0===parseInt(response.error.code)&&($scope.editBidId=parseInt(response.data[0].id),$scope.data={amount:parseInt(response.data[0].amount),duration:parseInt(response.data[0].duration),description:response.data[0].description})},function(error){console.log("Bidding List Directive",error)})):$scope.buttonText="Place Bid"},1e3),$scope.data={},$scope.save_btn=!1,$scope.postBid=function($valid,data){$valid&&($scope.save_btn=!0,data.project_id=$scope.project,void 0===$state.params.edit?BidPost.post(data,function(response){$scope.save_btn=!1;var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Bid posted successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1),$scope.save_btn=!1)},function(error){console.log("Bidding Directive",error)}):BidUpdate.put({id:$scope.editBidId},data,function(response){var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Bid updated successfully."),flash.set(flashMessage,"success",!1),window.location.href=absUrl[0]):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}))}}}}).directive("biddingActions",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_actions.html",scope:{bidid:"@",project:"@",biduser:"@",projectuser:"@",projectstatus:"@",reopenbid:"@"},controller:function($rootScope,$scope,$state,$filter,$location,flash,SweetAlert,$timeout,$cookies,BidRetake,UpdateBidStatus,BidStatusConstant,ProjectStatusConstant,$uibModal){$scope.project_closed=ProjectStatusConstant.Closed,$scope.auth=JSON.parse($cookies.get("auth")),$state.params.placebid?$scope.is_bid_enable=!0:$scope.is_bid_enable=!1,parseInt($scope.projectstatus)>parseInt(ProjectStatusConstant.WinnerSelected)?($scope.is_disable_select_winner=!0,$rootScope.bid_awarded=!0,$rootScope.contact_winner=!0):parseInt($scope.projectstatus)===parseInt(ProjectStatusConstant.WinnerSelected)?($scope.is_disable_select_winner=!1,$rootScope.bid_awarded=!1,$rootScope.contact_winner=!1):($scope.is_disable_select_winner=!1,$rootScope.bid_awarded=!1,$rootScope.contact_winner=!0),parseInt($scope.auth.id)!==parseInt($scope.projectuser)?$scope.is_freelancer=!0:$scope.is_freelancer=!1,$scope.editBid=function(){$scope.is_bid_enable=!0;var params=$state.params;params.placebid=!0,params.edit=!0,$state.go("Bid_ProjectView",params)},$scope.data={},$scope.retakeBid=function(){SweetAlert.swal({title:$filter("translate")("Are you sure you want to withdraw this bid?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var flashMessage="",params={};params.is_freelancer_withdrawn=1,BidRetake.put({id:$scope.bidid},params,function(response){if(0===response.error.code){flashMessage=$filter("translate")("Your bid withdrawn successfully."),flash.set(flashMessage,"success",!1);var params=$state.params;params.placebid=!0,$state.go("Bid_ProjectView",params)}else flashMessage=$filter("translate")("Please try again."),flash.set(flashMessage,"error",!1)})}})},$scope.selectWinner=function(){SweetAlert.swal({title:$filter("translate")("Are you sure you want to select this freelancer as a winner?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var flashMessage="";if(void 0!==$scope.reopenbid)var updateParams={id:$scope.bidid,bid_status_id:BidStatusConstant.Won,new_winer_bid_id:$scope.bidid};else var updateParams={id:$scope.bidid,bid_status_id:BidStatusConstant.Won};UpdateBidStatus.put(updateParams,function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Winner selected successfully"),flash.set(flashMessage,"success",!1),$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:""},{reload:!0})):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))},function(error){console.log(error)})}})}}}}).directive("biddingAwarded",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_awarded.html",replace:"true",scope:{bidid:"@",project:"@",projectuser:"@",projectstatus:"@",windate:"@"},controller:function($scope,$rootScope,$state,$timeout,$cookies,$filter,flash,UpdateProjectStatus,ProjectStatusConstant,UpdateBidStatus,SweetAlert,ProjectEditView){$scope.auth=JSON.parse($cookies.get("auth")),$scope.choosenewfreelancer=!1,parseInt($scope.projectstatus)===ProjectStatusConstant.WinnerSelected&&(moment($scope.windate).add($rootScope.settings.PROJECT_WITHDRAW_FREELANCER_DAYS,"days").unix()<=moment().unix()?$scope.is_hide_action=!1:$scope.is_hide_action=!0),parseInt($scope.projectuser)===parseInt($scope.auth.id)?$scope.is_freelancer=!1:$scope.is_freelancer=!0,$scope.awardedprocess=function(ftype){var alertTitle="";1===parseInt(ftype)?alertTitle=$filter("translate")("Are you sure you want to accept this project?"):2===parseInt(ftype)&&(alertTitle=$filter("translate")("Are you sure you want to reject this project?")),SweetAlert.swal({title:alertTitle,text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var flashMessage="";if(1===parseInt(ftype))UpdateProjectStatus.put({id:$scope.project,project_status_id:ProjectStatusConstant.UnderDevelopment},function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Project successfully accepted and moved under developement status."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Check your wallet"),flash.set(flashMessage,"error",!1))},function(error){console.log(error)});else{var params={};params.id=$scope.bidid,UpdateBidStatus.put(params,{is_offered_rejected:1},function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("You are successfully ignore this project request."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Project couldn't rejected. Please try again."),flash.set(flashMessage,"error",!1))},function(error){console.log("BiddingAwardDirective",error)})}}})},ProjectEditView.get({id:$state.params.id},function(response){$scope.biddinglist=response.data,$scope.bidEndDate=$scope.biddinglist.bid_winner.is_reached_response_end_date_for_freelancer}),$scope.reopen=function(rtype){SweetAlert.swal({title:1===parseInt(rtype)?$filter("translate")("Are you sure you want to choose a new freelancer?"):$filter("translate")("Are you sure you want to reopen this project?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&(1===parseInt(rtype)?($state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"withdraw"},{reload:!0}),$scope.choosenewfreelancer=!0,$scope.$emit("choosenewfreelancer","true")):UpdateProjectStatus.put({id:$scope.project,project_status_id:ProjectStatusConstant.OpenForBidding,withdraw_bid_id:$scope.bidid},function(response){0===parseInt(response.error.code)?(flash.set($filter("translate")("Project reopen successfully"),"success",!1),$state.reload()):flash.set($filter("translate")("Project reopen failed"),"error",!1)}))})}}}}).directive("biddingAwardedTabs",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_awarded_tabs.html",scope:{bidid:"@",project:"@",projectuser:"@",projectstatus:"@"},controller:function($scope,$rootScope,$timeout,$state,$cookies,$filter,flash,md5,ProjectStatusConstant,SweetAlert,Messages,Upload,Invoice,BiddingMsgClass,FileFormat,BiddingfileClass,Files,MilestoneStatusConstant,biddingProjectTransactions,TransactionUserMessage){$scope.TransactionUserMessage=TransactionUserMessage,$scope.project_is_dispute=$rootScope.project_is_dispute,$scope.ProjectStatusConstant=ProjectStatusConstant,$scope.BiddingMsgClass=BiddingMsgClass,$scope.FileFormat=FileFormat,$scope.messages=[],$scope.MessagePage=1,$scope.projectBid={id:$state.params.id,slug:$state.params.slug,action:$state.params.action},$scope.renderpage="",$scope.auth=JSON.parse($cookies.get("auth")),parseInt($scope.projectuser)===parseInt($scope.auth.id)?$scope.is_freelancer=!1:$scope.is_freelancer=!0,$scope.selectedTab=function(tabSelected){if($scope.projectBid.action=tabSelected,$scope.is_show_loader=!0,$scope.buttonName=$scope.is_freelancer===!0?"Request Milestone":"Create Milestone","messages"===tabSelected)$scope.MessagePage=1,$scope.renderpage="scripts/plugins/Bidding/Bidding/views/default/bidding_message.html",(void 0===$state.params.action||"messages"!==$state.params.action)&&$state.go("Bid_ProjectView",$scope.projectBid,{notify:!1}),$scope.data={},$scope.message_Frm=!1,$scope.PostMessages=function(messageFrm,$valid){var msgparams={"class":$scope.BiddingMsgClass["class"],foreign_id:$scope.bidid};$valid&&($scope.message_Frm=!0,msgparams.parent_id=0,msgparams.subject="Project Bidding Message",msgparams.message=$scope.data.message,msgparams.image=$scope.file,delete msgparams.type,Messages.post(msgparams,function(response){var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Message sent successfully."),flash.set(flashMessage,"success",!1),$scope.data.message="",$scope.messages=[],$scope.MessagePage=1,$scope.GetMessages(),messageFrm.$setPristine(),messageFrm.$setUntouched()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1),$scope.message_Frm=!1)}))},$scope.GetMessages=function(){var msgparams={"class":$scope.BiddingMsgClass["class"],foreign_id:$scope.bidid,limit:10,page:$scope.MessagePage,sortby:"desc"};$scope.message_Frm=!1,Messages.get(msgparams,function(response){angular.isDefined(response.data)&&(angular.isDefined(response._metadata)&&($scope.messageNoOfPages=response._metadata.last_page,$scope.messageTotal=response._metadata.total-response._metadata.current_page*response._metadata.per_page),0===parseInt(response.error.code)?($scope.loadmore===!1&&($scope.messages=[]),angular.forEach(response.data,function(value){angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png",$scope.messages.push(value)})):$scope.messages=[])})},$scope.message_pagination=function(){$scope.loadmore=!0,$scope.MessagePage=parseInt($scope.MessagePage)+1,$scope.GetMessages()},$scope.GetMessages();else if("invoices"===tabSelected)$scope.loadmore=!1,$scope.renderpage="scripts/plugins/Bidding/Invoice/views/default/bidding_invoice.html",(void 0===$state.params.action||"invoices"!==$state.params.action)&&$state.go("Bid_ProjectView",$scope.projectBid,{notify:!1}),$scope.invoiceparams={bid_id:$scope.bidid};else if("files"===tabSelected)$scope.loadmore=!1,$scope.renderpage="scripts/plugins/Bidding/Bidding/views/default/bidding_files.html",$scope.is_show_upload_form=!1,$scope.showUpload=function(val){val===!1?$scope.is_show_upload_form=!0:$scope.is_show_upload_form=!1},(void 0===$state.params.action||"files"!==$state.params.action)&&$state.go("Bid_ProjectView",$scope.projectBid,{notify:!1}),$scope.BiddingfileClass=BiddingfileClass,$scope.GetFiles=function(){Files.get({project_id:$scope.project},function(response){0===parseInt(response.error.code)?$scope.ProjectFiles=response.data:$scope.ProjectFiles=[]})},$scope.uploadFile=function(file){Upload.upload({url:"/api/v1/attachments?class=Project",data:{file:file}}).then(function(response){0===response.data.error.code?($scope.uploadfile=response.data.attachment,$scope.error_message=""):$scope.error_message=response.data.error.message})},$scope.file_Frm=!1,$scope.PostFiles=function($fileValid,fileFrm){if($fileValid&!$scope.error_message){$scope.file_Frm=!0;var flashMessage="";$scope.projectfile={},$scope.projectfile.files=[{file:$scope.uploadfile}],$scope.projectfile["class"]=$scope.BiddingfileClass["class"],$scope.projectfile.project_id=$scope.project,Files.post($scope.projectfile,function(response){if($scope.response=response,0===parseInt($scope.response.error.code)){$scope.file_Frm=!1,$scope.showUpload=!1,flashMessage=$filter("translate")("File added successfully."),flash.set(flashMessage,"success",!1),fileFrm.$setPristine(),fileFrm.$setUntouched(),$scope.GetFiles(),$scope.is_show_upload_form=!1;var myEl=angular.element(document.querySelector("#resetAttr")),myFileName=angular.element(document.querySelector("#resetFile"));myFileName.empty(),myEl.removeAttr("src"),myEl.removeAttr("title"),myEl.removeAttr("alt")}else flashMessage=$filter("translate")($scope.response.error.message),flash.set(flashMessage,"error",!1),fileFrm.$setPristine(),fileFrm.$setUntouched(),$scope.file_Frm=!1})}},$scope.GetFiles();else if("activities"===tabSelected)$scope.loadmore=!1,$scope.renderpage="scripts/plugins/Bidding/Bidding/views/default/bidding_activities.html",$scope.is_show_upload_form=!1,$scope.showUpload=function(val){val===!1?$scope.is_show_upload_form=!0:$scope.is_show_upload_form=!1},(void 0===$state.params.action||"activities"!==$state.params.action)&&$state.go("Bid_ProjectView",$scope.projectBid,{notify:!1});else if("transactions"===tabSelected)$scope.loadmore=!1,$scope.renderpage="scripts/plugins/Bidding/Bidding/views/default/bidding_transactions.html",$scope.is_show_upload_form=!1,$scope.showUpload=function(val){val===!1?$scope.is_show_upload_form=!0:$scope.is_show_upload_form=!1},(void 0===$state.params.action||"transactions"!==$state.params.action)&&$state.go("Bid_ProjectView",$scope.projectBid,{notify:!1}),$scope.currentPageTransaction=1,$scope.GetTransactions=function(){var params={};biddingProjectTransactions.get({user_id:$rootScope.user.id,model_id:$state.params.id,model_class:"Project",page:$scope.currentPageTransaction,limit:10},function(response){$scope.currentPage=params.page,angular.isDefined(response._metadata)&&($scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page,$scope.currentPageTransaction=response._metadata.current_page),angular.forEach(response.data,function(value){var trans=value.transaction_type,exam={},project={},job={},commission={},subscription={},payment_gateway={};$rootScope.isAuth===!0&&1===$rootScope.user.id?($scope.transaction_messages=$scope.TransactionAdminMessage[parseInt(trans)],value.transactionAmount={credit:value.amount,debit:"--"}):$rootScope.isAuth===!0&&("5"===trans&&$rootScope.Freelancer&&"0"!==value.site_revenue_from_freelancer?$scope.transaction_messages=$scope.TransactionUserMessage[22]:"7"===trans&&$rootScope.Freelancer&&"0"===value.site_revenue_from_freelancer?$scope.transaction_messages=$scope.TransactionUserMessage[parseInt(24)]:"6"===trans&&$rootScope.Freelancer&&"0"===value.site_revenue_from_freelancer?$scope.transaction_messages=$scope.TransactionUserMessage[parseInt(25)]:"5"===trans&&$rootScope.Freelancer&&"0"===value.site_revenue_from_freelancer?$scope.transaction_messages=$scope.TransactionUserMessage[23]:"7"===trans&&$rootScope.Employer&&"0"===value.site_revenue_from_employer?$scope.transaction_messages=$scope.TransactionUserMessage[24]:"7"===trans&&$rootScope.Employer&&"0"!==value.site_revenue_from_employer?$scope.transaction_messages=$scope.TransactionUserMessage[parseInt(trans)]:"5"===trans&&$rootScope.Employer&&"0"===value.site_revenue_from_employer?$scope.transaction_messages=$scope.TransactionUserMessage[parseInt(23)]:"7"===trans&&$rootScope.Freelancer&&"0"===value.site_revenue_from_employer?$scope.transaction_messages=$scope.TransactionUserMessage[parseInt(24)]:$scope.transaction_messages=$scope.TransactionUserMessage[parseInt(trans)],value.user.id===$rootScope.user.id?"Wallet"===value["class"]?value.transactionAmount={credit:value.amount,debit:"--"}:value.transactionAmount={credit:"--",debit:value.amount}:value.other_user.id===$rootScope.user.id&&("UserCashWithdrawal"===value["class"]?value.transactionAmount={credit:"--",debit:value.amount}:value.transactionAmount={credit:value.amount,debit:"--"})),value.user.id===$rootScope.user.id&&"7"===trans?commission=value.site_revenue_from_employer:value.user.id!==$rootScope.user.id&&"7"===trans&&(commission=value.site_revenue_from_freelancer),value.user.id===$rootScope.user.id&&"22"===trans&&(commission=value.site_revenue_from_employer),value.user.id===$rootScope.user.id&&"6"===trans&&(commission=value.site_revenue_from_employer),value.user.id!==$rootScope.user.id&&"6"===trans&&(commission=value.site_revenue_from_freelancer),value.user.id===$rootScope.user.id&&"5"===trans&&(commission=value.site_revenue_from_employer),value.user.id!==$rootScope.user.id&&"5"===trans&&(commission=value.site_revenue_from_freelancer),angular.isDefined(value.exam)&&(exam="<a href =exam/"+value.exam.id+"/"+value.exam.title+">"+value.exam.title+"</a>"),angular.isDefined(value.project)&&(project="<a href =projects/view/"+value.project.id+"/"+value.project.slug+">"+value.project.name+"</a>"),angular.isDefined(value.job)&&(job="<a href =jobs/view/"+value.job.id+"/"+value.job.id+">"+value.job.name+"</a>"),angular.isDefined(value.creditPurchasePlan)&&(subscription=value.creditPurchasePlan.name),angular.isDefined(value.payment_gateway)&&(payment_gateway=value.payment_gateway.display_name),value.user.id===$rootScope.user.id&&(value.user.username="You have"),value.user.id!==$rootScope.user.id&&(value.user.username="<a href =users/"+value.user.id+"/"+value.user.username+">"+value.user.username+"</a> has");var name={"##CONTEST##":"<a href =contests/"+value.foreign_transaction.id+"/"+value.foreign_transaction.slug+">"+value.foreign_transaction.name+"</a>","##CONTEST_AMOUNT##":$rootScope.settings.CURRENCY_SYMBOL+value.foreign_transaction.prize,"##USER##":value.user.username,"##EXAM##":exam,"##PROJECT##":project,"##JOB##":job,"##SUBSCRIPTION##":subscription,"##PAYMENTGATEWAY##":payment_gateway,"##PROJECT_NAME##":"<a href =projects/view/"+value.foreign_transaction.id+"/"+value.foreign_transaction.slug+">"+value.foreign_transaction.name+"</a>","##SITE_FEE##":$rootScope.settings.CURRENCY_SYMBOL+value.foreign_transaction.site_commision,"##OTHERUSER##":"<a href =users/"+value.other_user.id+"/"+value.other_user.username+">"+value.other_user.username+"</a>","##COMMISSION##":commission};value.transaction_message=$scope.transaction_messages.replace(/##CONTEST##|##CONTEST_AMOUNT##|##USER##|##SITE_FEE##|##OTHERUSER##|##EXAM##|##PROJECT##|##PROJECT_NAME##|##PAYMENTGATEWAY##|##SUBSCRIPTION##|##JOB##|##COMMISSION##/gi,function(matched){return name[matched]})}),$scope.transactions=response.data,$scope.from_date=$scope.temp_from_date,$scope.to_date=$scope.temp_to_date})},$scope.paginateTransaction=function(page){$scope.currentPageTransaction=page,$scope.GetTransactions()},$scope.GetTransactions();else if("milestones"===tabSelected){$scope.renderpage="scripts/plugins/Bidding/Milestone/views/default/bidding_milestone.html",$scope.loadmore=!1;(void 0===$state.params.action||"milestones"!==$state.params.action)&&"mutual_cancel"!==$state.params.action&&"dispute"!==$state.params.action&&$state.go("Bid_ProjectView",$scope.projectBid,{notify:!1})}else $scope.selectedTab("messages")},$scope.is_file_error=!1,$scope.upload=function(file){checkFileFormat(file,FileFormat.project)?($scope.is_file_error=!1,Upload.upload({url:"/api/v1/attachments?class=Project",data:{file:file}}).then(function(response){$scope.uploadfile=response.data.attachment})):$scope.is_file_error=!0},$state.params.action?$scope.selectedTab($state.params.action):$scope.selectedTab("messages")}}}).directive("biddingProjectAction",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_project_actions.html",scope:{bidid:"@",project:"@",projectstatus:"@",biduser:"@",projectuser:"@",isprojectcancel:"@",isdispute:"@"},controller:function($scope,$rootScope,$cookies,$state,$filter,flash,ProjectStatusConstant,UpdateProjectStatus,ProjectEditView,SweetAlert,$location,$anchorScroll,$timeout,$uibModal,$uibModalStack){function updateprojectstatus(acceptparams){var flashMessage="";UpdateProjectStatus.put(acceptparams,function(response){var msgStr="";0===parseInt(response.error.code)?(msgStr=acceptparams.project_status_id===ProjectStatusConstant.Completed?"Project marked as completed successfully.":acceptparams.project_status_id===ProjectStatusConstant.MutuallyCanceled?"Your cancel request has been accepted successfully.":acceptparams.project_status_id===ProjectStatusConstant.UnderDevelopment?"Project moved to under developement successfully":"Project is successfully completed",flashMessage=$filter("translate")(msgStr),flash.set(flashMessage,"success",!1),$state.reload(),$rootScope.Employer===!0&&acceptparams.project_status_id===ProjectStatusConstant.FinalReviewPending&&$rootScope.settings.SITE_ENABLED_PLUGINS.indexOf("Bidding/Dispute")>-1&&$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"messages"},{reload:!0})):1===parseInt(response.error.code)?(msgStr=acceptparams.project_status_id===ProjectStatusConstant.FinalReviewPending?"Clear all the milestone payment and complete the project":"",flashMessage=$filter("translate")(msgStr),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))},function(error){console.log(error)})}if($scope.auth=JSON.parse($cookies.get("auth")),$scope.ProjectStatusConstant=ProjectStatusConstant,$scope.is_show_actions={mutual:!0,dispute:!0,review:!0},"mutual_cancel"===$state.params.action?$scope.is_show_actions.mutual=!1:"dispute"===$state.params.action||$rootScope.settings.SITE_ENABLED_PLUGINS.indexOf("Bidding/BiddingReview")>-1&&($scope.projectstatus===$scope.ProjectStatusConstant.FinalReviewPending||$scope.projectstatus===$scope.ProjectStatusConstant.Closed)&&angular.isDefined($rootScope.other_user_reviews)&&null!==$rootScope.other_user_reviews?$scope.is_show_actions.dispute=!1:"review-form"===$state.params.action&&($scope.is_show_actions.review=!1),parseInt($scope.projectuser)===parseInt($scope.auth.id)?$scope.is_freelancer=!1:$scope.is_freelancer=!0,"false"!==$scope.isprojectcancel){var getParams={id:$scope.project,fields:"id,project_status_id,is_dispute,is_cancel_request_freelancer,is_cancel_request_employer,user_id"};ProjectEditView.get(getParams,function(response){0===parseInt(response.error.code)&&($rootScope.projectmutual=response.data,$scope.is_freelancer?response.data.is_cancel_request_freelancer!==!0?$scope.show_request=$rootScope.show_request=!0:$scope.show_request=$rootScope.show_request=!1:response.data.is_cancel_request_employer!==!0?$scope.show_request=$rootScope.show_request=!0:$scope.show_request=$rootScope.show_request=!1)},function(error){console.log(error)})}$scope.projectstatuschange=function(statusType){var alerttitle="";8!==statusType&&9!==statusType?($scope.is_freelancer&&1===statusType?alerttitle="Are you sure you completed this project?":2===statusType?alerttitle="Are you sure you accept this project as completed?":3===statusType?alerttitle="Are you sure you want to request to cancel this project?":4===statusType?alerttitle="Are you sure you accept the cancel request of this project?":5===statusType?alerttitle="Are you sure you reject the cancel request of this project?":6===statusType?alerttitle="Are you sure you raise the dispute for this project?":7===statusType?alerttitle="Are you sure reject this dispute request?":10===statusType&&(alerttitle="Are you sure you want to cancel this request?"),SweetAlert.swal({title:$filter("translate")(alerttitle),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm)if($scope.is_freelancer&&1===statusType){var acceptparams={id:$scope.project,project_status_id:ProjectStatusConstant.Completed};updateprojectstatus(acceptparams)}else if(2===statusType){var acceptparams={id:$scope.project,project_status_id:ProjectStatusConstant.FinalReviewPending};updateprojectstatus(acceptparams)}else if(3===statusType)$scope.mutual_cancel=$rootScope.mutual_cancel=!0,$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"mutual_cancel"},{reload:!0}),$timeout(function(){$anchorScroll("cancel_scroll")},2500);else if(4===statusType){var acceptparams={id:$scope.project,project_status_id:ProjectStatusConstant.MutuallyCanceled,is_accept_mutual_cancel:1,mutual_cancel_note:$scope.mutual_canceled_note};updateprojectstatus(acceptparams)}else if(5===statusType){var acceptparams={id:$scope.project,project_status_id:ProjectStatusConstant.MutuallyCanceled,is_accept_mutual_cancel:0,mutual_cancel_note:$scope.mutual_canceled_note};updateprojectstatus(acceptparams)}else if(6===statusType)$scope.project_dispute=$rootScope.project_dispute=!0,$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"dispute"},{reload:!0}),$timeout(function(){$anchorScroll("dispute_scroll")},3500);else if(10===statusType){var acceptparams={id:$scope.project,project_status_id:ProjectStatusConstant.UnderDevelopment};updateprojectstatus(acceptparams)}})):8===statusType?($state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"review-form"},{reload:!0}),$timeout(function(){$anchorScroll("add_review_scroll")},2500)):9===statusType&&($state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"review-form"},{reload:!0}),$timeout(function(){$anchorScroll("update_review_scroll")},3500))},$scope.contactFreelancer=function(projectid){$rootScope.message_bid_id=projectid,$scope.modalInstance=$uibModal.open({templateUrl:"scripts/plugins/Bidding/Bidding/views/default/contact_freelancer.html",animation:!1,controller:function($scope,$rootScope,$window,$stateParams,$filter,md5,$state,Upload,$timeout,$uibModal,$uibModalStack,Messages,biduser,authuser){var flashMessage="";$scope.MessagePage=1,$rootScope.closemodel=function(){$uibModalStack.dismissAll()},$scope.contact_freelancer=!1,$scope.data={},$scope.ContactMessages=[],$scope.submit=function($valid){if($valid){$scope.contact_freelancer=!0;var contactData={};contactData.foreign_id=projectid,contactData.to_user_id=biduser,contactData.message=$scope.data.message,contactData["class"]="Bid",contactData.subject=$state.params.slug,Messages.post(contactData,function(response){0===response.error.code?(flashMessage=$filter("translate")("Message sent successfully."),flash.set(flashMessage,"success",!1),$scope.data.message="",$scope.Contactfrm.$setPristine(),$scope.Contactfrm.$setUntouched(),$scope.ContactMessages=[],$scope.MessagePage=1,$scope.GetConactMessage(),$scope.contact_freelancer=!1):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}},$scope.GetConactMessage=function(){var conactparams={};conactparams.foreign_id=$rootScope.message_bid_id,conactparams.limit=5,conactparams.sortby="desc",conactparams.page=$scope.MessagePage,conactparams["class"]="Bid",Messages.get(conactparams,function(response){angular.isDefined(response.data)&&(angular.isDefined(response._metadata)&&($scope.messageNoOfPages=response._metadata.last_page,$scope.ConactmessageTotal=response._metadata.total-response._metadata.current_page*response._metadata.per_page),0===parseInt(response.error.code)?angular.forEach(response.data,function(value){angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png",$scope.ContactMessages.push(value)}):$scope.ContactMessages=[])})},$scope.contactmessage_pagination=function(){$scope.MessagePage=parseInt($scope.MessagePage)+1,$scope.GetConactMessage()},$scope.GetConactMessage()},size:"lg",resolve:{biduser:function(){return $scope.biduser},authuser:function(){return $scope.auth.id}}})},$rootScope.cancelresp=!1,$rootScope.$watch("cancelresp",function(newValue,oldValue){newValue!==!1&&($scope.projectstatuschange(parseInt(newValue)),$rootScope.cancelresp=!1)}),$scope.$on("mutualcancel",function(event,data){$scope.is_show_accept=data.is_show_accept})}}}).directive("biddingHomeSkills",function(ProjectSkills){return{restrict:"EA",replace:!0,templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_home_skills.html",link:function(scope,element,attrs){var params={limit:30,sort:"name",sortby:"DSC",field:"id,name,slug,description"};ProjectSkills.get(params,function(response){scope.project_skills=response.data})}}}).directive("biddingHomeCategories",function(ProjectCategory){return{restrict:"EA",replace:!0,templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_home_categories.html",link:function(scope,element,attrs){var params={limit:8,sort:"name",sortby:"DSC",field:"id,name,slug,description"};ProjectCategory.get(params,function(response){scope.project_categories=response.data})}}}).directive("biddingCategories",function(ProjectCategory,$filter){return{restrict:"EA",replace:!0,templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_categories.html",link:function(scope,element,attrs){var params={limit:8,sort:"name",sortby:"DSC",field:"id,name,slug,description"};ProjectCategory.get(params,function(response){scope.project_categories=response.data,scope.project_categories=$filter("orderBy")(response.data,"id")})}}}).directive("ajaxSearchInput",function(){return{template:'<input class="form-control" style="margin-left:0px"/>',replace:!0,restrict:"E",require:"ngModel",scope:{selectedItem:"=",textAttr:"@",queryParam:"@",containerCssClass:"@",minimumInputLength:"@"},link:function(_scope,_element){var selectOptions={minimumInputLength:_scope.minimumInputLength||3,containerCssClass:_scope.containerCssClass,initSelection:function(_elem,_callback){if(_scope.selectedItem){var data={id:_scope.selectedItem.id,text:_scope.selectedItem[_scope.textAttr]||""};_callback(data)}},ajax:{url:"/api/v1/users?type=employer&fields=id,username",quietMillis:250,dataType:"json",data:function(term){var d={};return d[_scope.queryParam||"q"]=term,d},results:function(_data){
return{results:_.map(_data.data,function(_item){var d={id:_item.id,text:_item[_scope.textAttr]};return d})}}}};$(_element).select2(selectOptions)}}}),angular.module("getlancerApp.Bidding").directive("biddingMutualCancel",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_project_mutual_cancel.html",scope:{bidid:"@",isfreelancercancel:"@",isemployercancel:"@",project:"@",biduser:"@",projectuser:"@",isprojectcancel:"@",projectstatus:"@"},controller:function($scope,$rootScope,$cookies,$state,$filter,flash,ProjectStatusConstant,UpdateProjectStatus,SweetAlert,md5){function updateprojectstatus(acceptparams){var flashMessage="";UpdateProjectStatus.put(acceptparams,function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Your cancel request has been accepted successfully."),flash.set(flashMessage,"success",!1),$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"messages"},{reload:!0})):(flashMessage=$filter("translate")("Please Try again"),flash.set(flashMessage,"success",!1))})}if($scope.show_request=$rootScope.show_request,$scope.ProjectStatusConstant=ProjectStatusConstant,angular.isDefined($rootScope.broadCastDataempolyer))if("true"===$scope.isemployercancel)if($rootScope.broadCastDataempolyer,$scope.mutualcancelnote=$rootScope.broadCastDataempolyer.notes,$scope.userinfo=$rootScope.broadCastDataempolyer.userinfo,$scope.is_show_accept=$rootScope.broadCastDataempolyer.is_show_accept,$scope.userid=$rootScope.broadCastDataempolyer.userId,$scope.created_at=$rootScope.broadCastDatafreelancer.createdAt,angular.isDefined($rootScope.broadCastDataempolyer.userImage)&&null!==$rootScope.broadCastDataempolyer.userImage){var c=new Date,hash=md5.createHash($rootScope.broadCastDataempolyer.userImage["class"]+$rootScope.broadCastDataempolyer.userImage.foreign_id+"pngbig_thumb");$scope.user_image="images/big_thumb/"+$rootScope.broadCastDataempolyer.userImage["class"]+"/"+$rootScope.broadCastDataempolyer.userImage.foreign_id+"."+hash+".png?"+c.getTime()}else $scope.user_image="images/default.png";else if($rootScope.broadCastDatafreelancer,$scope.mutualcancelnote=$rootScope.broadCastDatafreelancer.notes,$scope.userinfo=$rootScope.broadCastDatafreelancer.userinfo,$scope.is_show_accept=$rootScope.broadCastDatafreelancer.is_show_accept,$scope.userid=$rootScope.broadCastDataempolyer.userId,$scope.created_at=$rootScope.broadCastDataempolyer.createdAt,angular.isDefined($rootScope.broadCastDatafreelancer.userImage)&&null!==$rootScope.broadCastDatafreelancer.userImage){var c=new Date,hash=md5.createHash($rootScope.broadCastDatafreelancer.userImage["class"]+$rootScope.broadCastDatafreelancer.userImage.foreign_id+"pngbig_thumb");$scope.user_image="images/big_thumb/"+$rootScope.broadCastDatafreelancer.userImage["class"]+"/"+$rootScope.broadCastDatafreelancer.userImage.foreign_id+"."+hash+".png?"+c.getTime()}else $scope.user_image="images/default.png";$scope.closefrm=function(){$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"messages"},{reload:!0})},$scope.mutual_Cancel=!1,$scope.mutualCancel=function($valid,data){if($valid){$scope.mutual_Cancel=!0;var params={id:$scope.project,project_status_id:ProjectStatusConstant.MutuallyCanceled,mutual_cancel_note:data.mutual_cancel_note};SweetAlert.swal({title:$filter("translate")("Are you sure you want to request to cancel this project?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var flashMessage="";UpdateProjectStatus.put(params,function(response){$scope.mutual_canceled_note=response.data.mutual_cancel_note,0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Your cancel request has been send successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Your cancel request sending failed."),$scope.mutual_Cancel=!1,flash.set(flashMessage,"error",!1))},function(error){console.log(error)})}else $scope.mutual_Cancel=!1})}},$scope.cancelreponse=function(statusType){var alerttitle="";4===statusType?alerttitle="Are you sure you accept the cancel request of this project?":5===statusType&&(alerttitle="Are you sure you reject the cancel request of this project?"),SweetAlert.swal({title:$filter("translate")(alerttitle),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm)if(4===statusType){var acceptparams={id:$scope.project,project_status_id:ProjectStatusConstant.MutuallyCanceled,is_accept_mutual_cancel:1,mutual_cancel_note:$scope.mutual_canceled_note};updateprojectstatus(acceptparams)}else if(5===statusType){var acceptparams={id:$scope.project,project_status_id:ProjectStatusConstant.MutuallyCanceled,is_accept_mutual_cancel:0,mutual_cancel_note:$scope.mutual_canceled_note};updateprojectstatus(acceptparams)}})}}}}),angular.module("getlancerApp.Bidding").directive("biddingProjectDashboard",function(){return{restrict:"E",replace:!0,templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_project_dashboard.html",controller:"biddingProjectDashboardCtrl"}}).controller("biddingProjectDashboardCtrl",function($rootScope,$scope,$state,$filter,flash,$window,$cookies,MyProjects,SweetAlert,DelProject,ProjectStatsCount,ProjectStatusConstant,ProjectStatusUpdate,MyBids,UpdateProjectStatus,UpdateBidStatus,projectMilestone,projectInvoice,MilestoneStatusChange,MyMilestone,MyInvoices,MilestoneStatusConstant,BidStatusConstant,BidRetake,EmployerStatsCount,FreelancerStatusCount,$uibModal,$stateParams){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("My Projects"),$scope.projectConstant=ProjectStatusConstant,$scope.portal=$window.localStorage.getItem("portal"),$scope.auth=JSON.parse($cookies.get("auth")),$scope.renderSubPage="scripts/plugins/Bidding/Bidding/views/default/my_bids_current_projects.html",$scope.MilestoneStatusConstant=MilestoneStatusConstant,$scope.BidStatusConstant=BidStatusConstant,$scope.milestonePage=function(id,action,type){1==type?$state.go("Bid_ProjectView",{id:id,action:"milestones"}):2==type?$state.go("Bid_ProjectView",{id:id,action:"invoices"}):3==type?$state.go("Bid_ProjectView",{id:id,action:"dispute"},{reload:!0}):4==type&&$state.go("Bid_ProjectView",{id:id,action:"messages"})},$scope.milestoneStatueChange=function(milestoneId,statusId,status){$scope.milestoneid=milestoneId,"pay"!==statusId?SweetAlert.swal({title:$filter("translate")("Are you sure you want to do this action?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&("workcompleted"===status?MilestoneStatusChange.put({id:milestoneId,milestone_status_id:$scope.MilestoneStatusConstant.Completed},function(response){0===response.error.code?MilestoneStatusChange.put({id:milestoneId,milestone_status_id:statusId},function(response){var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Milestone status changed"),flash.set(flashMessage,"success",!1),$scope.$emit("isupdated","true")):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}):MilestoneStatusChange.put({id:milestoneId,milestone_status_id:statusId},function(response){var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Milestone status changed"),flash.set(flashMessage,"success",!1),$scope.$emit("isupdated","true")):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}))}):$state.go("Bidding_MilestonePayment",{id:milestoneId,name:"milestone"})},$scope.$on("isupdated",function(event,data){$state.reload()}),$scope.bidcount=function(){$rootScope.scrollBids=!0},$scope.CancelProject=function(project_id){SweetAlert.swal({title:$filter("translate")("Are you sure you want to cancel this project?"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&ProjectStatusUpdate.put({id:project_id,project_status_id:$scope.projectConstant.EmployerCanceled},function(response){0===response.error.code?(flashMessage=$filter("translate")("Your project has been cancelled successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Your project couldn't cancelled. Please try again."),flash.set(flashMessage,"error",!1),$state.reload())})})},$scope.reopen=function(projid){SweetAlert.swal({title:$filter("translate")("Are you sure you want to reopen this project?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&UpdateProjectStatus.put({id:projid,project_status_id:ProjectStatusConstant.OpenForBidding},function(response){0===parseInt(response.error.code)?(flash.set($filter("translate")("Project reopen successfully"),"success",!1),$state.reload()):flash.set($filter("translate")("Project reopen failed"),"error",!1)})})},$scope.AcceptCompleted=function(project_id,type){var alertTitle;alertTitle="accept"===type?"Are you sure you completed this project?":"Are you sure you want to cancel this request?",SweetAlert.swal({title:$filter("translate")(alertTitle),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var params={};"accept"===type?(params.id=project_id,params.project_status_id=$scope.projectConstant.Completed):(params.id=project_id,params.project_status_id=$scope.projectConstant.UnderDevelopment),ProjectStatusUpdate.put(params,function(response){if(0===response.error.code){var flgmsg="";flgmsg=params.project_status_id===$scope.projectConstant.Completed?"Your project has been Completed successfully.":"Project moved to under developement successfully.",flashMessage=$filter("translate")(flgmsg),flash.set(flashMessage,"success",!1),$state.reload()}else flashMessage=response.error.message,flash.set(flashMessage,"error",!1),$state.reload()})}})},$scope.endpoint="projects",$scope.GetProjectStatus=function(){$scope.loader=!0,ProjectStatsCount.get({id:$scope.auth.id},function(response){$scope.loader=!1,0===parseInt(response.error.code)&&($scope.projectStatus=$filter("orderBy")(response.data,"id"))},function(error){console.log(error)})},$rootScope.Employer===!0&&($scope.EmployerMilestoneCount=function(){EmployerStatsCount.get(function(response){$scope.employer_count=response.data})}),$scope.FreelancerMilestoneCount=function(){FreelancerStatusCount.get(function(response){$scope.freelancer_count=response.data})},$scope.getProjects=function(tabType){if($scope.loader=!0,$scope.tabType=tabType,$scope.GetProjectStatus(),$rootScope.Employer===!0)$scope.EmployerMilestoneCount(),isNaN(tabType)||(1===tabType?($scope.project_status="Draft",(void 0===$state.params.status||"draft_payment_pending"!==$state.params.status)&&$state.go("user_dashboard",{status:"draft_payment_pending",type:"my_projects"},{notify:!1})):3===tabType?($scope.project_status="waiting for approval ",(void 0===$state.params.status||"waiting_for_approval"!==$state.params.status)&&$state.go("user_dashboard",{status:"waiting_for_approval",type:"my_projects"},{notify:!1})):5===tabType?($scope.project_status="Bidding Expired",(void 0===$state.params.status||"close_expiry"!==$state.params.status)&&$state.go("user_dashboard",{status:"close_expiry",type:"my_projects"},{notify:!1})):6===tabType?($scope.project_status="Winner Selected",(void 0===$state.params.status||"winner_selected"!==$state.params.status)&&$state.go("user_dashboard",{status:"winner_selected",type:"my_projects"},{notify:!1})):11===tabType?($scope.project_status="Under Development",(void 0===$state.params.status||"under_development"!==$state.params.status)&&$state.go("user_dashboard",{status:"under_development",type:"my_projects"},{notify:!1})):14===tabType?($scope.project_status="Pending Review",(void 0===$state.params.status||"final_review"!==$state.params.status)&&$state.go("user_dashboard",{status:"final_review",type:"my_projects"},{notify:!1})):16===tabType?($scope.project_status="Closed",(void 0===$state.params.status||"closed"!==$state.params.status)&&$state.go("user_dashboard",{status:"closed",type:"my_projects"},{notify:!1})):9===tabType?($scope.project_status="Closed / Expired",(void 0===$state.params.status||"bid_closed"!==$state.params.status)&&$state.go("user_dashboard",{status:"bid_closed",type:"my_projects"},{notify:!1})):13===tabType?($scope.project_status="Canceled",(void 0===$state.params.status||"admin_cancel"!==$state.params.status)&&$state.go("user_dashboard",{status:"admin_cancel",type:"my_projects"},{notify:!1})):12===tabType?($scope.project_status="Mutually Canceled",(void 0===$state.params.status||"cancel"!==$state.params.status)&&$state.go("user_dashboard",{status:"cancel",type:"my_projects"},{notify:!1})):($scope.project_status="Open for Bidding",(void 0===$state.params.status||"open_bidding"!==$state.params.status)&&$state.go("user_dashboard",{status:"open_bidding",type:"my_projects"},{notify:!1})),$scope.params={},parseInt(tabType)===ProjectStatusConstant.Draft?$scope.params.project_status_id=ProjectStatusConstant.Draft+","+ProjectStatusConstant.PaymentPending:parseInt(tabType)===ProjectStatusConstant.CanceledByAdmin?$scope.params.project_status_id=ProjectStatusConstant.EmployerCanceled+","+ProjectStatusConstant.MutuallyCanceled+","+ProjectStatusConstant.CanceledByAdmin:parseInt(tabType)===ProjectStatusConstant.BiddingClosed?$scope.params.project_status_id=ProjectStatusConstant.BiddingClosed+","+ProjectStatusConstant.BiddingExpired:parseInt(tabType)===ProjectStatusConstant.UnderDevelopment?$scope.params.project_status_id=ProjectStatusConstant.UnderDevelopment+","+ProjectStatusConstant.Completed:$scope.params.project_status_id=-1===tabType?ProjectStatusConstant.OpenForBidding:tabType,$scope.params.page=$scope.projectcurrentPage,MyProjects.get($scope.params,function(response){angular.isDefined(response._metadata)&&($scope.projectcurrentPage=response._metadata.current_page,$scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page),angular.isDefined(response.data)&&($scope.projects=response.data,angular.forEach($scope.projects,function(value){$rootScope.dispute_project=value.is_dispute})),$scope.loader=!1,0===parseInt(response.error.code)&&($scope.endpoint="projects")},function(error){console.log(error)})),"milestone"===tabType?($scope.project_status="Milestones",(void 0===$state.params.status||"milestone"!==$state.params.status)&&$state.go("user_dashboard",{status:"milestone",type:"projects"},{reload:!0}),projectMilestone.get({id:$scope.auth.id},function(response){$scope.loader=!1,0===parseInt(response.error.code)&&($scope.milestones=response.data,$scope.endpoint="milestone",$scope.GetProjectStatus())},function(error){})):"invoice"===tabType&&($scope.project_status="Invoices",(void 0===$state.params.status||"invoice"!==$state.params.status)&&$state.go("user_dashboard",{status:"invoice",type:"projects"},{reload:!0}),$scope.invoices=[],projectInvoice.get({id:$scope.auth.id},function(response){$scope.GetProjectStatus(),$scope.loader=!1,0===parseInt(response.error.code)&&($scope.invoices=response.data,$scope.endpoint="invoice")},function(error){}));else{"my_bids"===tabType?($scope.project_status="Current Projects",$scope.renderSubPage="scripts/plugins/Bidding/Bidding/views/default/my_bids_current_projects.html",(void 0===$state.params.status||"my_bids"!==$state.params.status)&&$state.go("user_dashboard",{status:"my_bids",type:"projects"},{notify:!1})):"active"===tabType?($scope.project_status="Active Bids",$scope.renderSubPage="scripts/plugins/Bidding/Bidding/views/default/my_bids_active.html",(void 0===$state.params.status||"active_bids"!==$state.params.status)&&$state.go("user_dashboard",{status:"active_bids",type:"projects"},{notify:!1})):"past_projects"===tabType&&($scope.renderSubPage="scripts/plugins/Bidding/Bidding/views/default/my_bids_past_projects.html",$scope.project_status="Past Projects",(void 0===$state.params.status||"past_projects"!==$state.params.status)&&$state.go("user_dashboard",{status:"past_projects",type:"projects"},{notify:!1}));var params={};params.page=void 0!==$scope.currentPage?$scope.currentPage:1,"my_bids"===$state.params.status&&(params.type="current_work"),"active_bids"===$state.params.status&&(params.type="active"),"past_projects"===$state.params.status&&(params.type="past_projects"),MyBids.get(params,function(response){$scope.FreelancerMilestoneCount(),$scope.loader=!1,0===parseInt(response.error.code)&&($scope.currentPage=response._metadata.current_page,$scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page),0===parseInt(response.error.code)?$scope.mybids=response.data:($scope.mybids=[],$scope.errorMessage="",angular.isDefined(response.error)&&($scope.errorMessage=response.error.message),$scope.currentPage=0,$scope.totalItems=0,$scope.itemsPerPage=0,$scope.noOfPages=0)}),"milestones"===tabType?($scope.project_status="Milestones",$scope.renderSubPage="scripts/plugins/Bidding/Bidding/views/default/milestone_supplier_portal.html",(void 0===$state.params.status||"milestone"!==$state.params.status)&&$state.go("user_dashboard",{status:"milestones",type:"projects"},{notify:!1}),MyMilestone.get({id:$scope.auth.id,page:$scope.currentPageMilestone},function(response){0===parseInt(response.error.code)&&($scope.my_milestones=response.data,$scope.currentPageMilestone=response._metadata.current_page,$scope.totalItemsMilestone=response._metadata.total,$scope.itemsPerPageMilestone=response._metadata.per_page,$scope.noOfPagesMilestone=response._metadata.last_page,$scope.endpoint="milestone")},function(error){})):"invoices"===tabType&&($scope.renderSubPage="scripts/plugins/Bidding/Bidding/views/default/supplier_portal_invoice.html",$scope.project_status="Invoices",(void 0===$state.params.status||"invoice"!==$state.params.status)&&$state.go("user_dashboard",{status:"invoices",type:"projects"},{notify:!1}),MyInvoices.get({id:$scope.auth.id},function(response){0===parseInt(response.error.code)&&($scope.my_invoices=response.data,$scope.endpoint="milestone")},function(error){}))}},$scope.paginate=function(page){$scope.currentPageMilestone=parseInt(page),$scope.getProjects("milestone")},$scope.pagination=function(page){$scope.projectcurrentPage=parseInt(page),$state.params.status?"draft_payment_pending"===$state.params.status?$scope.getProjects(1):"waiting_for_approval"===$state.params.status?$scope.getProjects(3):"open_bidding"===$state.params.status?$scope.getProjects(4):"close_expiry"===$state.params.status?$scope.getProjects(5):"winner_selected"===$state.params.status?$scope.getProjects(6):"under_development"===$state.params.status?$scope.getProjects(11):"final_review"===$state.params.status?$scope.getProjects(14):"closed"===$state.params.status?$scope.getProjects(16):"milestone"===$state.params.status?$scope.getProjects("milestone"):"invoice"===$state.params.status?$scope.getProjects("invoice"):"bid_closed"===$state.params.status?$scope.getProjects(9):"admin_cancel"===$state.params.status?$scope.getProjects(13):"cancel"===$state.params.status?$scope.getProjects(10):"my_bids"===$state.params.status?$scope.getProjects("my_bids"):"past_projects"===$state.params.status?$scope.getProjects("past_projects"):"milestones"===$state.params.status?$scope.getProjects("milestones"):"invoices"===$state.params.status?$scope.getProjects("invoices"):"active_bids"===$state.params.status?$scope.getProjects("active"):"past_projects"===$state.params.status?$scope.getProjects("past_projects"):'"Employer"'===$scope.portal?$scope.getProjects(4):$scope.getProjects("my_bids"):'"Employer"'===$scope.portal?$scope.getProjects(4):$scope.getProjects("my_bids")},$state.params.status?"draft_payment_pending"===$state.params.status?$scope.getProjects(1):"waiting_for_approval"===$state.params.status?$scope.getProjects(3):"open_bidding"===$state.params.status?$scope.getProjects(4):"close_expiry"===$state.params.status?$scope.getProjects(5):"winner_selected"===$state.params.status?$scope.getProjects(6):"under_development"===$state.params.status?$scope.getProjects(11):"final_review"===$state.params.status?$scope.getProjects(14):"closed"===$state.params.status?$scope.getProjects(16):"milestone"===$state.params.status?$scope.getProjects("milestone"):"invoice"===$state.params.status?$scope.getProjects("invoice"):"bid_closed"===$state.params.status?$scope.getProjects(9):"admin_cancel"===$state.params.status?$scope.getProjects(13):"cancel"===$state.params.status?$scope.getProjects(10):"my_bids"===$state.params.status?$scope.getProjects("my_bids"):"past_projects"===$state.params.status?$scope.getProjects("past_projects"):"milestones"===$state.params.status?$scope.getProjects("milestones"):"invoices"===$state.params.status?$scope.getProjects("invoices"):"active_bids"===$state.params.status?$scope.getProjects("active"):"past_projects"===$state.params.status?$scope.getProjects("past_projects"):'"Employer"'===$scope.portal?$scope.getProjects(4):$scope.getProjects("my_bids"):'"Employer"'===$scope.portal?$scope.getProjects(4):$scope.getProjects("my_bids");var flashMessage;$scope.deleteProject=function(project_id){SweetAlert.swal({title:$filter("translate")("Are you sure you want to delete?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&DelProject["delete"]({id:project_id},function(response){0===response.error.code?(flashMessage=$filter("translate")("Your project has been deleted successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Your project couldn't deleted. Please try again."),flash.set(flashMessage,"error",!1),$state.reload())})})},$scope.withdrawfreelancer=function(rtype,projectid){SweetAlert.swal({title:1===parseInt(rtype)?$filter("translate")("Are you sure you want to choose a new freelancer?"):$filter("translate")("Are you sure you want to reopen this project?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&1===parseInt(rtype)&&UpdateProjectStatus.put({id:projectid,project_status_id:ProjectStatusConstant.OpenForBidding,withdraw_bid_id:$scope.bidid},function(response){0===parseInt(response.error.code)?(flash.set($filter("translate")("Project reopen successfully"),"success",!1),$state.reload()):flash.set($filter("translate")("Project reopen failed"),"error",!1)})})},$scope.cancelProject=function(project_id){SweetAlert.swal({title:$filter("translate")("Are you sure you want to cancel this project?"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){ProjectStatusUpdate.put({id:project_id,project_status_id:$scope.projectConstant.EmployerCanceled},function(response){0===response.error.code?(flashMessage=$filter("translate")("Your project has been cancelled successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Your project couldn't cancelled. Please try again."),flash.set(flashMessage,"error",!1),$state.reload())})})},$scope.contactFreelancer=function(projectbidid,projectname,projectbidusername,disputestatus){$scope.modalInstance=$uibModal.open({templateUrl:"scripts/plugins/Bidding/Bidding/views/default/contact_freelancer.html",animation:!1,controller:function($scope,$rootScope,$window,$stateParams,$filter,md5,$state,Upload,$timeout,$uibModal,$uibModalStack,Messages,biduser,authuser){$rootScope.project_dispute=disputestatus;var flashMessage="";$rootScope.closemodel=function(){$uibModalStack.dismissAll()},$scope.contact_freelancer=!1,$scope.data={},$scope.ContactMessages=[],$scope.submit=function($valid){if($valid){$scope.contact_freelancer=!0;var contactData={};contactData.foreign_id=projectbidid,contactData.to_user_id=projectbidusername,contactData.message=$scope.data.message,contactData["class"]="Bid",contactData.subject=projectname,Messages.post(contactData,function(response){$scope.contact_freelancer=!1,0===response.error.code?(flashMessage=$filter("translate")("Message sent successfully."),flash.set(flashMessage,"success",!1),$scope.ContactMessages=[],$scope.GetConactMessage(),$scope.data.message="",$scope.contact_freelancer=!1,$scope.Contactfrm.$setPristine(),$scope.Contactfrm.$setUntouched()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}},$scope.GetConactMessage=function(){var conactparams={};conactparams.foreign_id=projectbidid,conactparams.limit=5,conactparams.sortby="desc",conactparams["class"]="Bid",conactparams.page=$scope.MessagePage,Messages.get(conactparams,function(response){angular.isDefined(response.data)&&(angular.isDefined(response._metadata)&&($scope.messageNoOfPages=response._metadata.last_page,$scope.ConactmessageTotal=response._metadata.total-response._metadata.current_page*response._metadata.per_page),0===parseInt(response.error.code)?angular.forEach(response.data,function(value){angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png",$scope.ContactMessages.push(value)}):$scope.ContactMessages=[])})},$scope.MessagePage=1,$scope.contactmessage_pagination=function(){$scope.MessagePage=parseInt($scope.MessagePage)+1,$scope.GetConactMessage()},$scope.GetConactMessage()},size:"lg",resolve:{biduser:function(){return $scope.biduser},authuser:function(){return $scope.auth.id}}})},$scope.awardedprocess=function(ftype,projectbidid,bidid){var alertTitle="";1===parseInt(ftype)?alertTitle=$filter("translate")("Are you sure you want to accept this project?"):2===parseInt(ftype)&&(alertTitle=$filter("translate")("Are you sure you want to reject this project?")),SweetAlert.swal({title:alertTitle,text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var flashMessage="";if(1===parseInt(ftype))UpdateProjectStatus.put({id:projectbidid,project_status_id:ProjectStatusConstant.UnderDevelopment},function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Project successfully accepted and moved under developement status."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Check your wallet"),flash.set(flashMessage,"error",!1))},function(error){console.log(error)});else{var params={};params.id=bidid,UpdateBidStatus.put(params,{is_offered_rejected:1},function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("You are successfully ignore this project request."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Project couldn't rejected. Please try again."),flash.set(flashMessage,"error",!1))},function(error){console.log("BiddingAwardDirective",error)})}}})},$scope.bidAction=function(indexVal,atype,bidId){if(parseInt(atype)){var title="";1===parseInt(atype)?title=$filter("translate")("Are you sure you want to edit this bid?"):2===parseInt(atype)?title=$filter("translate")("Are you sure you want to withdraw this bid?"):3===parseInt(atype)?title=$filter("translate")("Are you sure you want to accept this project?"):4===parseInt(atype)?title=$filter("translate")("Are you sure you want to reject this project?"):5===parseInt(atype)&&(title=$filter("translate")("Are you sure you want to withdraw this bid?")),SweetAlert.swal({title:title,text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){if(isConfirm){var flashMessage="";if(1===parseInt(atype))$state.go("Bid_ProjectView",{id:$scope.mybids[indexVal].project.id,slug:$scope.mybids[indexVal].project.slug,placebid:!0,edit:!0});else if(2===parseInt(atype)){var params={};params.is_freelancer_withdrawn=1,BidRetake.put({id:$scope.mybids[indexVal].id},params,function(response){0===response.error.code?(flashMessage=$filter("translate")("Your bid withdrawn successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Please try again."),flash.set(flashMessage,"error",!1),$state.reload())})}else 3===parseInt(atype)?$scope.activeBidChange(3,indexVal):4===parseInt(atype)&&$scope.activeBidChange(4,indexVal)}})}},$scope.activeBidChange=function(tval,indexVal){var flashMessage="";3===parseInt(tval)?UpdateProjectStatus.put({id:$scope.mybids[indexVal].project.id,project_status_id:ProjectStatusConstant.UnderDevelopment},function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Project successfully accepted and moved under developement status."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Check your wallet"),flash.set(flashMessage,"error",!1))},function(error){console.log(error)}):4===parseInt(tval)&&UpdateBidStatus.put({id:$scope.mybids[indexVal].id,is_offered_rejected:1},function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("You have successfully rejected this project."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("You have successfully rejected this project."),flash.set(flashMessage,"error",!1))},function(error){console.log("BiddingAwardDirective",error)})}}).directive("biddingActiveBids",function($rootScope,$state,$filter,flash,MyBids,BidMilestone,BidRetake,MeMilestone,MilestoneStatusConstant,MeInvoice,SweetAlert){return{restrict:"E",templateUrl:""}}).directive("biddingDashboarProjectAction",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_dasboard_project_action.html",scope:{projstatus:"@",projid:"@",projname:"@",projbidid:"@",projectstatusid:"@",projisreachedresponseenddateforfreelancer:"@",bidusername:"@",disputestatus:"@"},controller:"biddingProjectDashboardCtrl"}}),angular.module("getlancerApp.Bidding").directive("biddingStars",[function(){function link(scope,element,attrs,ngModelCtrl){var computed={get readonly(){return"false"!=attrs.readonly&&(attrs.readonly||""===attrs.readonly)},get fullIcon(){return attrs.iconFull||"fa-star"},get emptyIcon(){return attrs.iconEmpty||"fa-star-o"},get iconBase(){return attrs.iconBase||"fa fa-fw"},get iconHover(){return attrs.iconHover||"angular-input-stars-hover"}};scope.items=new Array(+attrs.max),scope.listClass=attrs.listClass||"angular-input-stars",ngModelCtrl.$render=function(){scope.lastValue=ngModelCtrl.$viewValue||0},scope.getClass=function(index){var icon=index>=scope.lastValue?computed.iconBase+" "+computed.emptyIcon:computed.iconBase+" "+computed.fullIcon+" active ";return computed.readonly?icon+" readonly":icon},scope.unpaintStars=function($index,hover){scope.paintStars(scope.lastValue-1,hover)},scope.paintStars=function($index,hover){if(!computed.readonly){for(var items=element.find("li").find("i"),index=0;index<items.length;index++){
var $star=angular.element(items[index]);$index>=index?($star.removeClass(computed.emptyIcon),$star.addClass(computed.fullIcon),$star.addClass("active"),$star.addClass(computed.iconHover)):($star.removeClass(computed.fullIcon),$star.removeClass("active"),$star.removeClass(computed.iconHover),$star.addClass(computed.emptyIcon))}hover||items.removeClass(computed.iconHover)}},scope.setValue=function(index,e){if(!computed.readonly){var newValue,star=e.target;newValue=e.pageX<star.getBoundingClientRect().left+star.offsetWidth/2?index+1:index+1,newValue===scope.lastValue&&1===newValue&&(newValue=0),scope.lastValue=newValue,ngModelCtrl.$setViewValue(newValue),ngModelCtrl.$render(),attrs.onStarClick&&scope.$eval(attrs.onStarClick)}}}var directive={restrict:"EA",replace:!0,template:'<ul ng-class="listClass"><li ng-touch="paintStars($index)" ng-mouseenter="paintStars($index, true)" ng-mouseleave="unpaintStars($index, false)" ng-repeat="item in items track by $index"><i  ng-class="getClass($index)" ng-click="setValue($index, $event)"></i></li></ul>',require:"ngModel",scope:!0,link:link};return directive}]),angular.module("getlancerApp.Bidding").directive("projectViewShare",function($rootScope,md5,$window,$uibModal,$filter,$state){return{templateUrl:"scripts/plugins/Bidding/Bidding/views/default/project_view_share.html",restrict:"EA",replace:"true",scope:"true",link:function(scope,element,attr){scope.ShareModel=function(isvalid){scope.modalInstance=$uibModal.open({templateUrl:"scripts/plugins/Bidding/Bidding/views/default/project_view_share_modal.html",backdrop:"true",controller:"ProjectViewCtrl"})}}}}),angular.module("getlancerApp.Bidding").factory("Projects",["$resource",function($resource){return $resource("/api/v1/projects",{},{get:{method:"GET"},post:{method:"POST"}})}]).factory("DelProject",["$resource",function($resource){return $resource("/api/v1/projects/:id",{},{"delete":{method:"DELETE"}})}]).factory("ProjectEditView",["$resource",function($resource){return $resource("/api/v1/projects/:id",{},{get:{method:"GET"},put:{method:"PUT"}})}]).factory("ProjectStatus",["$resource",function($resource){return $resource("/api/v1/project_statuses",{},{get:{method:"GET"}})}]).factory("ProjectStatusUpdate",["$resource",function($resource){return $resource("/api/v1/projects/:id/update_status",{id:"@id"},{put:{method:"PUT"}})}]).factory("ProjectSkills",["$resource",function($resource){return $resource("/api/v1/skills",{},{get:{method:"GET"}})}]).factory("ProjectCategory",["$resource",function($resource){return $resource("/api/v1/project_categories",{},{get:{method:"GET"}})}]).factory("ProjectRange",["$resource",function($resource){return $resource("/api/v1/project_ranges",{},{get:{method:"GET"}})}]).factory("ProjectBids",["$resource",function($resource){return $resource("/api/v1/bids?project_id=:id",{},{get:{method:"GET"}})}]).factory("MyProjects",["$resource",function($resource){return $resource("/api/v1/me/projects",{},{get:{method:"GET"}})}]).factory("MyMilestone",["$resource",function($resource){return $resource("/api/v1/me/milestones",{},{get:{method:"GET"}})}]).factory("MyInvoices",["$resource",function($resource){return $resource("/api/v1/me/project_bid_invoices",{},{get:{method:"GET"}})}]).factory("UpdateProjectStatus",["$resource",function($resource){return $resource("/api/v1/projects/:id/update_status",{id:"@id"},{put:{method:"PUT"}})}]).factory("BidPost",["$resource",function($resource){return $resource("/api/v1/bids",{},{post:{method:"POST"}})}]).factory("BidRetake",["$resource",function($resource){return $resource("/api/v1/bids/:id",{},{"delete":{method:"DELETE"},put:{method:"PUT"}})}]).factory("EditBid",["$resource",function($resource){return $resource("/api/v1/bids?project_id=:id&user_id=:user&fields=id,amount,duration,description",{},{get:{method:"GET"}})}]).factory("BidUpdate",["$resource",function($resource){return $resource("/api/v1/bids/:id",{},{put:{method:"PUT"}})}]).factory("AwardedBids",["$resource",function($resource){return $resource("/api/v1/bids?project_id=:id&bid_status_id=:status",{id:"@id",status:"@status"},{get:{method:"GET"}})}]).factory("MyBids",["$resource",function($resource){return $resource("/api/v1/me/bids",{},{get:{method:"GET"}})}]).factory("UpdateBidStatus",["$resource",function($resource){return $resource("/api/v1/bids/:id/update_status",{id:"@id"},{put:{method:"PUT"}})}]).factory("Messages",["$resource",function($resource){return $resource("/api/v1/messages/:id",{},{get:{method:"GET"},post:{method:"POST"}})}]).factory("Bookmarks",["$resource",function($resource){return $resource("/api/v1/projects",{},{get:{method:"GET"}})}]).factory("Files",["$resource",function($resource){return $resource("/api/v1/project_attachment/:id",{},{get:{method:"GET"},post:{method:"POST"}})}]).factory("FollowUser",["$resource",function($resource){return $resource("/api/v1/followers",{},{post:{method:"POST"}})}]).factory("FollowUserDelete",["$resource",function($resource){return $resource("/api/v1/followers/:id",{id:"@id"},{"delete":{method:"DELETE"}})}]).factory("ProjectStatsCount",["$resource",function($resource){return $resource("/api/v1/employer/me/projects/stats",{},{get:{method:"GET"}})}]).factory("EmployerStatsCount",["$resource",function($resource){return $resource("/api/v1/employer/me/pay_stats",{},{get:{method:"GET"}})}]).factory("FreelancerStatusCount",["$resource",function($resource){return $resource("/api/v1/freelancer/me/bids/stats",{},{get:{method:"GET"}})}]).factory("projectMilestone",["$resource",function($resource){return $resource("/api/v1/employer/:id/milestones",{},{get:{method:"GET"}})}]).factory("projectInvoice",["$resource",function($resource){return $resource("/api/v1/employer/:id/project_bid_invoices",{},{get:{method:"GET"}})}]).factory("UserFactory",["$resource",function($resource){return $resource("/api/v1/me",{},{get:{method:"GET"}})}]).factory("biddingReviewFactory",["$resource",function($resource){return $resource("/api/v1/reviews/:id",{id:"@id"},{get:{method:"GET"},post:{method:"POST"},put:{method:"PUT"}})}]).factory("biddingProjectFactory",["$resource",function($resource){return $resource("/api/v1/projects/:id",{},{get:{method:"GET"}})}]).factory("AutocompleteUsers",["$resource",function($resource){return $resource("/api/v1/users?type=employer",{},{get:{method:"GET"}})}]).factory("biddingProjectTransactions",["$resource",function($resource){return $resource("/api/v1/users/:user_id/transactions",{},{user_id:"@user_id"},{get:{method:"GET"}})}]).factory("Invoice",["$resource",function($resource){return $resource("/api/v1/project_bid_invoices/:id",{},{get:{method:"GET"},post:{method:"POST"},put:{method:"PUT",params:{id:"@id"}},"delete":{method:"DELETE",params:{id:"@id"}}})}]).factory("MilestoneStatusChange",["$resource",function($resource){return $resource("/api/v1/milestones/:id/update_status",{id:"@id"},{put:{method:"PUT"}})}]),angular.module("getlancerApp.Bidding").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_actions.html",'<div class="dropdown bidding-actinos" ng-if="(is_freelancer && !bid_awarded || !is_freelancer && !bid_awarded)"> <a type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> {{\'Action\'|translate}}<i class="fa fa-angle-down fa-fw" aria-hidden="true"></i></a> <ul class="dropdown-menu dropdown-arrow-right"> <li ng-if="is_freelancer  && $root.contact_winner"><a class="bidding-action-edit cursor" ng-click="editBid()"><i class="fa fa-edit"></i> {{\'Edit\'|translate}} </a></li> <li ng-if="is_freelancer  && $root.contact_winner"><a class="bidding-action-retake cursor" ng-click="retakeBid()"><i class="fa fa-trash-o"></i> {{\'Withdraw My Bid\'|translate}}</a></li> <li ng-if="!is_freelancer && $root.contact_winner"><a class="bidding-action-retake cursor" ng-click="selectWinner()"><i class="fa fa-check"></i> {{\'Select as Winner\'|translate}}</a></li> <li ng-if="!is_freelancer && $root.withdrawthisfreelancer"><a class="bidding-action-retake cursor" ng-click="selectWinner()"><i class="fa fa-check"></i> {{\'Select as Winner\'|translate}}</a></li> </ul> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_activities.html",'<div class="tab-pane active" id="milestone"> <div class="milestone-block clearfix"> <div class="row"> <div class="col-xs-12 clearfix"> <h3 class="pull-left no-mar text-uppercase">{{\'Activities\'|translate}}</h3> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_add.html",' <div class="amountbid clearfix" ng-if="is_bid_enable"> <form class="clearfix bot-mar-25" name="postbidFrm" ng-submit="postBid(postbidFrm.$valid, data)" novalidate> <div class="row"> <div class="amountpaid col-sm-6"> <div class="form-group"> <label class="control-label">{{\'Bid Amount\'| translate}}</label> <div class="input-group"> <span class="input-group-addon" ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'"> {{$root.settings.CURRENCY_SYMBOL}}</span> <span class="input-group-addon" ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">{{$root.settings.CURRENCY_CODE}}</span> <input type="number" number-only name="amount" ng-model="data.amount" ng-required="true" class="form-control" min="1"> </div> <div class="error" ng-if="(postbidFrm.$submitted || postbidFrm.amount.$touched) && (postbidFrm.amount.$pristine || postbidFrm.amount.$invalid) && (postbidFrm.amount.$error.required)"> {{\'Required\'| translate}} </div> <span class="error" ng-show="postbidFrm.amount.$error.min && !postbidFrm.amount.$error.required">Enter the valid amount</span> </div> </div> <div class="deliverybids col-sm-6"> <div class="form-group"> <label class="control-label">{{\'Deliver In\'| translate}}</label> <div class="input-group"> <input type="number" name="duration" class="form-control" min="1" ng-model="data.duration" ng-required="true" number-only> <span class="input-group-addon" id="basic-addon1">Days</span> </div> <div class="error" ng-if="(postbidFrm.$submitted || postbidFrm.duration.$touched) && (postbidFrm.duration.$pristine || postbidFrm.duration.$invalid) && (postbidFrm.duration.$error.required)"> {{\'Required\'| translate }} </div> <span class="error" ng-show="postbidFrm.duration.$error.min && !postbidFrm.duration.$error.required">Enter the valid day</span> </div> </div> </div> <div class="row"> <div class="form-group"> <div class="bid-description col-sm-12"> <label class="control-label">{{\'Additional Note\'| translate}}</label> <textarea rows="9" name="description" ng-model="data.description" class="form-control"></textarea> </div> </div> </div> <div class="bidding-btn"> <div class="clearfix bids-btn"> <span ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Common/Subscription\') > -1  && ($root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT !== \'\' || $root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT !== \'0\') && available_credit_count < $root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT"> <button type="submit" class="btn btn-primary" disabled>{{buttonText}}</button> </span> <span ng-if="($root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT == \'\' || $root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT == \'0\' || !($root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Common/Subscription\') > -1))"> <button type="submit" class="btn btn-primary" ng-show="save_btn" disabled> {{buttonText}} </button> <button type="submit" class="btn btn-primary" ng-show="!save_btn"> {{buttonText}} </button> </span> <button ng-click="cancleBid()" class="btn btn-danger">{{\'Cancel\'| translate}}</button> </div> </div> </form> <div class="alert alert-warning top-space" ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Common/Subscription\') > -1  && ($root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT !== \'\' || $root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT !== \'0\') && available_credit_count < $root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT && buttonText == \'Place Bid\'"> <span>{{\'Currently you dont have enough credit point to send your quote\'|translate}}. {{\'Please\'|translate}} <a href="purchase_plan">{{\'click here\'|translate}}</a> {{\'to purchase the plan and continue your business\'|translate}}. <p>{{\'Your current available credit points\'|translate}}: {{available_credit_count}}</p> </span> </div> <div class="alert alert-info top-space" ng-if="($root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT == \'\' || $root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT == \'0\' || available_credit_count >= $root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT) && buttonText == \'Place Bid\'"> <span> {{\'You need to pay\' | translate }} {{$root.settings.CREDIT_POINT_FOR_BIDDING_A_PROJECT }} {{\'credit point to send your quote. System will get required points from your current available credit points\' | translate}}.</span> <p>{{\'Your current available credit points\'|translate}}: {{available_credit_count}}</p> </div> </div> '),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_awarded.html",'<div class="bidding-accept-actions"> <div ng-if="is_freelancer"> <label class="label label-success cursor" ng-click="awardedprocess(1)">{{\'Accept this Project\'| translate}} </label> <label class="label label-danger cursor" ng-click="awardedprocess(2)"> {{\'Reject this Project\'| translate}}</label> </div> <ul class="bidding-employer-info list-unstyled" ng-if="!is_freelancer && bidEndDate && !$root.withdrawthisfreelancer"> <li class="label label-info" ng-click="reopen(1)" ng-if="$root.newFreelancerSelect">{{\'Withdraw this freelancer and select existing bidder\'| translate }} </li> <li class="label label-info label-red" ng-click="reopen(2)"> {{\'Im not interest existing bidders and move this project to open for bidding again\'| translate}}</li> </ul> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_awarded_tabs.html"," <div class=\"freelancer-tabs\"> <ul class=\"nav nav-tabs\"> <li ng-class=\"{'active':projectBid.action == 'messages'}\"> <a ng-click=\"selectedTab('messages')\">{{'Messages'|translate}}</a> </li> <li ng-class=\"{'active':projectBid.action == 'milestones'}\" ng-if=\"$root.settings.SITE_ENABLED_PLUGINS.indexOf('Bidding/Milestone') > -1\"> <a ng-click=\"selectedTab('milestones')\">{{'Milestones'|translate}}</a> </li> <li ng-class=\"{'active':projectBid.action == 'invoices'}\" ng-if=\"$root.settings.SITE_ENABLED_PLUGINS.indexOf('Bidding/Invoice') > -1\"> <a ng-click=\"selectedTab('invoices')\">{{'Invoice'|translate}}</a> </li> <li ng-class=\"{'active':projectBid.action == 'files'}\"> <a ng-click=\"selectedTab('files')\">{{'Files'|translate}}</a> </li>  <li ng-class=\"{'active':projectBid.action == 'transactions'}\"> <a ng-click=\"selectedTab('transactions')\">{{'Transactions'|translate}}</a> </li> </ul> <div ng-include=\"renderpage\"></div> </div> "),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_categories.html",'<section class="white-bg"> <div class="container"> <div class="hire-block text-center"> <h4 class="h3 text-uppercase Montserrat"> <strong> {{\'Hire Freelancers and Find Freelance Jobs Online\'|translate}} </strong> </h4> <div class="clearfix"> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/flexible.png" alt="[Image: Flexible]" title="Flexible"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[0][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/multipurpose.png" alt="[Image: Multipurpose]" title="Multipurpose"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[1][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/jobs-symbol.png" alt="[Image: Jobs-symbol]" title="Jobs-symbol"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[2][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/design-construction.png" alt="[Image: Construction]" title="Construction"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[3][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/sio.png" alt="[Image: Sio]" title="Sio"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[4][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/flat-design.png" alt="[Image: Flat design]" title="Flat design"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[5][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/johnton-doe.png" alt="[Image: Johnton-doe]" title="Johnton-doe"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[6][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> <div class="col-sm-4 col-md-3 photographer-image"> <div class="photographers-image"> <img src="images/business.png" alt="[Image: Business]" title="Business"> <div class="photo-image"> <div class="professional-image"> <div class="image-content"> <p class="text-16">{{project_categories[7][\'name\']}}</p> <a href="projects/add" title="{{\'Post a Project\'|translate}}" class="btn btn-primary text-uppercase top-15-mspace btn-post">{{\'Post a Project\'|translate}}</a> </div> </div> </div> </div> </div> </div> </div> </div> </section>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_dasboard_project_action.html",'<div class="dropdown"> <button class="request-btn btn btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{\'Action\'|translate}} <i class="fa fa-angle-down fa-fw" aria-hidden="true"></i> </button> <ul class="dropdown-menu dropdown-menu-right">  <li> <a href="projects/view/{{projid}}/{{projname}}"> <i class="fa fa-eye fa-fw"></i> {{\'View\'|translate}}</a> </li> <li ng-if="projstatus == projectConstant.Draft"> <a ui-sref="Bid_ProjectEdit({\'id\':projid})"> <i class="fa fa-edit fa-fw"></i> {{\'Edit\'| translate}} </a> </li> <li ng-if="projstatus ==  projectConstant.Draft"> <a ui-sref="Bid_ProjectPayment({\'id\':projid})"> <i class="fa fa-credit-card fa-fw"> </i>{{\'Pay Listing Fee\'|translate}} </a> </li> <li ng-if="projstatus == projectConstant.OpenForBidding"> <a ui-sref="Bid_ProjectEdit({\'id\':projid})"> <i class="fa fa-edit fa-fw"></i> {{\'Edit\'| translate}} </a> </li> <li ng-if="projstatus ==  projectConstant.OpenForBidding"> <a href="" ng-click="CancelProject(projid)"> <i class="fa fa-close fa-fw"></i>{{\'Cancel\'|translate}}</a> </li> <li ng-if="projstatus ==  projectConstant.BiddingExpired || projstatus == projectConstant.BiddingClosed"> <a href="" ng-click="reopen(projid)"> <i class="fa fa-refresh fa-fw"></i>{{\'Reopen for Bidding\'|translate}}</a> </li> <li ng-if="projstatus ==  projectConstant.WinnerSelected && (projisreachedresponseenddateforfreelancer == \'true\')"> <a href="javascript:void(0);" ng-click="withdrawfreelancer(1,projid)"> <i class="fa fa-close fa-fw"></i>{{\'Withdraw Freelancer\'|translate}} </a> </li>  <li ng-if="projstatus ==  projectConstant.UnderDevelopment" ng-click="contactFreelancer(projbidid, projname, bidusername, disputestatus)"> <a> <i class="fa fa-comment-o"></i> {{\'View / Send Message\'|translate}}</a> </li>  <li ng-if="projectstatusid == projectConstant.Completed"> <a a href="javascript:void(0);" ng-click="AcceptCompleted(projid,\'accept\')"> <i class="fa fa-check"></i> {{\'Accept as Completed\'| translate}}</a> </li> <li ng-if="projectstatusid == projectConstant.Completed"> <a a href="javascript:void(0);" ng-click="AcceptCompleted(projid,\'reject\')"> <i class="fa fa-close"></i> {{\'Not Completed, Move to Under Development\'| translate}}</a> </li>   <li ng-if="projstatus == projectConstant.PendingForApproval"> <a ui-sref="Bid_ProjectEdit({\'id\':projid})"> <i class="fa fa-edit fa-fw"></i> {{\'Edit\'| translate}} </a> </li> <li ng-if="projstatus == projectConstant.PendingForApproval"> <a href="javascript:void(0);" ng-click="deleteProject(projid)"> <i class="fa fa-close fa-fw"></i>{{\'Delete\'|translate}} </a> </li>  <li ng-if="projstatus == projectConstant.FinalReviewPending"> <a ui-sref="Bid_ProjectView({\'id\':projid})"><i class="fa fa-envelope-o"></i> {{\'View / Send Message\'| translate}} </a> </li> <li ng-if="projstatus == projectConstant.FinalReviewPending"> <a ui-sref="Bid_ProjectView({\'id\':projid})"><i class="fa fa-plus fa-fw"></i>{{\'Add Review\'|translate}} / {{\'Update\'| translate}} </a> </li> <li ng-if="projstatus == projectConstant.Draft"> <a href="javascript:void(0);" ng-click="deleteProject(projid)"> <i class="fa fa-close fa-fw"></i>{{\'Delete\'|translate}} </a> </li> </ul> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_files.html",' <div class="bidding-files"> <div class="milestone-block"> <div class="clearfix" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment"> <h3 class="pull-left no-mar text-uppercase">{{\'FILES\'|translate}}</h3> <p ng-show="!project_is_dispute" class="pull-right cursor btn btn-default" ng-class="(!is_show_upload_form)?\'request-btn\':\'text-danger\'" ng-click="showUpload(is_show_upload_form)"> {{(!is_show_upload_form)?\'Add File\':\'Cancel\' | translate}} </p> </div> <div ng-if="is_show_upload_form"> <form class="proj-form" role="form" name="fileFrm" ng-submit="PostFiles(fileFrm.$valid, fileFrm)" novalidate> <div class="form-group"> <div class="row"> <div class="col-sm-6"> <label class="fileinput-button btn-block"> <input type="file" ngf-select ng-model="file" name="file" ng-change="uploadFile(file)" class="underline text-red" ng-required="true"> <i class="fa fa-plus fa-fw" aria-hidden="true"></i> {{\'Upload Files\'|translate}} </label> <span class="error" ng-show="(fileFrm.$submitted || fileFrm.file.$touched) && (fileFrm.file.$pristine || fileFrm.file.$invalid) && (fileFrm.file.$error.required)"> {{\'Required\'| translate }} </span> <div ng-if="$root.settings.ALLOWED_EXTENSIONS_FOR_PROJECT_DOCUMENT_FILE"> <span class="grayc help-block">{{\'Allowed extensions:\'|translate}} {{$root.settings.ALLOWED_EXTENSIONS_FOR_PROJECT_DOCUMENT_FILE}}</span> <span class="error bot-space" ng-if="error_message && error_message !== \'\'"> {{error_message}}</span> </div> <img ngf-src="file" alt="[Image: Group]" title="Group" class="img-responsive center-block" id="resetAttr"> <div ng-bind="file.name" id="resetFile"></div> <p> <small>{{\'Drag\'|translate}} & {{\'drop your project related files here\'|translate}}... </small></p> </div>  <div class="col-sm-12 ver-mar-20"> <div> <button type="submit" ng-show="file_Frm" class="btn btn-primary text-uppercase" disabled>{{\'Submit\'|translate}}</button> <button type="submit" class="btn btn-primary text-uppercase" ng-show="!file_Frm">{{\'Submit\'|translate}}</button> </div> </div> </div> </div></form> </div> </div>  <div class="top-space-10"> <div class="add-wallet-table"> <div class="table-responsive pg-table"> <table class="table table-striped table-bordered"> <thead> <tr ng-if="ProjectFiles.length > 0"> <th>{{\'Filename\'|translate}}</th> <th class="text-center">{{\'Download\'|translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="ProjectFile in ProjectFiles"> <td>{{ProjectFile.filename}}</td> <td class="text-center"> <p class="no-mar"> <file-download attachment="{{ProjectFile}}" downloadlable="<i class=\'fa fa-download\'> </i>"></file-download> </p> </td> </tr> <tr class="text-center"> <p ng-if="ProjectFiles.length == 0" colspan="8" class="text-center text-danger"> {{\'No records available\' | translate}} </p>  </tr> </tbody> </table> </div> </div> </div>  </div>  '),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_home_categories.html",'<ul class="list-inline list-unstyled"> <li ng-repeat="project_category in project_categories | limitTo: 7:0" class="category-list"><a href="projects?project_categories={{project_category.id}}" title="{{project_category.name}}" class="text-info"> {{project_category.name}} </a></li> </ul>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_home_skills.html",'<section class="browse-block white-bg white-bg browse-top-skills"> <div class="container"> <h4 class="h3 text-center text-uppercase Montserrat"> <strong> {{\'Browse Top Skills\'|translate}} </strong> </h4> <div class="row"> <div class="col-md-11 col-md-offset-1"> <div class="col-sm-4" ng-if="project_skills.length >= 10"> <ul class="list-unstyled" ng-repeat="project_skill in project_skills | limitTo: 10:0"> <li> <i class="fa fa-angle-right"></i> <a href="projects?skills={{project_skill.id}}" title="{{project_skill.name}}" class="text-info"> {{project_skill.name}}</a> </li> </ul> </div> <div class="col-sm-4" ng-if="project_skills.length >= 10"> <ul class="list-unstyled" ng-repeat="project_skill in project_skills | limitTo: 10:10"> <li> <i class="fa fa-angle-right"></i> <a href="projects?skills={{project_skill.id}}" title="{{project_skill.name}}" class="text-info"> {{project_skill.name}}</a> </li> </ul> </div> <div class="col-sm-4" ng-if="project_skills.length >= 10"> <ul class="list-unstyled" ng-repeat="project_skill in project_skills | limitTo: 10:20"> <li> <i class="fa fa-angle-right"></i> <a href="projects?skills={{project_skill.id}}" title="{{project_skill.name}}" class="text-info"> {{project_skill.name}}</a> </li> </ul> </div> </div> </div> </div> </section>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_list.html",'<ul class="list-unstyled no-pad" ng-if="projectstatus == ProjectStatusConstant.WinnerSelected || projectstatus == ProjectStatusConstant.WaitingForEscrow || projectstatus == ProjectStatusConstant.FundedInEscrow || projectstatus == ProjectStatusConstant.EmployerCanceled || projectstatus == ProjectStatusConstant.UnderDevelopment || projectstatus == ProjectStatusConstant.MutuallyCanceled || projectstatus == ProjectStatusConstant.FinalReviewPending || projectstatus == ProjectStatusConstant.Completed || projectstatus == ProjectStatusConstant.Closed"> <li class="list-group-item clsfreelancher-heading hidden-xs"> <div class="row"> <div class="col-sm-6"> <h5>{{\'FREELANCERS AWARDED\'|translate}} </h5> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-7"> <h5>{{\'Reputation\'|translate}} </h5> </div> <div class="col-sm-5"> <h5> {{\'Price\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></h5> </div> </div> </div> </div> </li> <li class="list-group-item freelancher-innerblock border-none" ng-if="awardLoader"> <div class="row"> <div class="col-sm-12 text-center"> <i class="fa fa-spinner fa-spin fa-3x"></i> </div> </div> </li>  <li class="pad-big list-group-item freelancher-innerblock border-none" ng-repeat="bidding in awarded" ng-if="!awardLoader" ng-mouseleave="showhideSkills(0,2)"> <div class="row"> <div class="col-sm-6"> <h5 class="visible-xs">{{\'FREELANCERS AWARDED \'|translate}}</h5> <div class="row"> <div class="col-sm-12"> <div class="freelancherprotfolio"> <div class="media freelancer-media"> <div class="media-left"> <div class="freelancheruserimage"> <a href="users/{{bidding.user.id}}/{{bidding.user.username}}"> <img ng-src="{{bidding.user.user_avatar_url}}" title="{{bidding.user.username}}" class="img-resposnive center-block user-med"> </a> </div> </div> <div class="media-body"> <div class="freelancherprotfolio"> <div class="freelancherdetail"> <a href="users/{{bidding.user.id}}/{{bidding.user.username}}"> <h3 class="no-mar">{{bidding.user.username}}, </h3> </a> <span class="clstimesmanage"> {{bidding.created_at | timeago}} </span>  <i class="flag-icon flag-icon-{{bidding.user.country.iso_alpha2 | lowercase}}"> </i> <span ng-if="((bidding.user_id == auth.id) || (projectuser == auth.id)) && bidding.description"><show-more text="bidding.description" limit="150"> </show-more></span> <div> <ul class="list-inline show-Skills"> <li class="skill-certificate" ng-mouseover="showhideSkills(bidding.user.id, 1)" ng-if="exam_user.user_id == bidding.user.id"> <a href="#"><img ng-src="{{exam_user.exam_image}}" title="{{exam_user.exam.title}}" alt="[Image:\n                                                {{exam_user.exam.title}}]" class="center-block"></a> </li> <li> <div class="user-certificate-skills" id="skills-{{bidding.user.id}}" ng-mouseleave="showhideSkills(bidding.user.id,2)"> <h5 class="text-b"> {{\'Passed Freelancer Certifications\' | translate}}</h5> <div ng-repeat="exam_user in bidding.exams_users"> <div class="certificates-list"> <ul class="list-unstyled no-mar"> <li ng-if="exam_user.user_id == bidding.user.id"> <a href="#" title="{{exam_user.exam.title}}" class="text-info"> {{exam_user.exam.title}} {{exam_user.exam_level.name}} </a> ({{exam_user.exam_user_per |number:0}}%, {{exam_user.percentile_rank}} percentile) </li> </ul> </div> </div> </div> </li> </ul> </div> <div ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Portfolio/Portfolio\') > -1"> <p class="freelancherportfolio" ng-if="bidding.user.portfolio_count > 0"> <a href ng-click="focusPortfolio(bidding.user.id,bidding.user.username)"> {{\'View Portfolio\'|translate}} </a> </p> </div> </div> </div> </div> </div> <div class="user-awarded" ng-if="projectuser == auth.id"> <p class="text-left not-accepted" ng-if="projectstatus == ProjectStatusConstant.WinnerSelected"> <i class="fa fa-info" aria-hidden="true"></i> {{\'Not yet accepted\' | translate}} </p> <span class="freelancherportfolio left-space" ng-if="bidding.message_count == 0 && (bidding.user_id == auth.id || projectuser == auth.id) && projectstatus == ProjectStatusConstant.WinnerSelected"> <a href ng-click="contactFreelancer(bidding.id, bidding.message_count)">{{\'Send Message\'|translate}} </a> </span> <span class="freelancherportfolio left-space" ng-if="bidding.message_count > 0 && (bidding.user_id == auth.id || projectuser == auth.id) && projectstatus == ProjectStatusConstant.WinnerSelected"> <a href ng-click="contactFreelancer(bidding.id, bidding.message_count)">{{\'See Conversions\'|translate}} </a> </span> </div>  </div> </div> <div class="clearfix col-sm-12" ng-if="(bidding.project.project_status_id == ProjectStatusConstant.WinnerSelected) && (projectuser == auth.id || bidding.user.id == auth.id)"> <bidding-awarded project="{{bidding.project_id}}" projectuser="{{projectuser}}" bidid="{{bidding.id}}"> </bidding-awarded> </div> </div> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-7 view-xs"> <h5 class="visible-xs">{{ \'Reputation\'|translate}} </h5> <div class="freelancherreputation"> <div class="info-skills"> <ul class="list-inline" ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Contest/ContestReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Quote/QuoteReview\') > -1"> <li><span class="label label-default">{{bidding.user.total_rating_as_freelancer |number:1}}</span></li> <li> <bidding-stars ng-model="bidding.user.total_rating_as_freelancer" max="5" readonly class="list-ratings"></bidding-stars> </li> </ul> </div> <p class="freelancherreviewpoint blackc" ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Contest/ContestReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Quote/QuoteReview\') > -1">{{bidding.user.review_count_as_freelancer}} {{\'reviews\'|translate}}</p> <p class="freelancherreviewpoint" ng-if="(bidding.user.project_completed_count > 0 || bidding.user.project_failed_count > 0)"> {{\'Completion Rate\'|translate}}: {{bidding.completetion_rate |number:0}}% </p> <p class="freelancherreviewpoint" ng-if="(bidding.user.project_completed_count == 0 && bidding.user.project_failed_count == 0)">{{\'Completion Rate\'|translate}}: N/A </p> </div> </div> <div class="col-sm-5 view-xs"> <h5 class="visible-xs"> Price <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></h5> <div class="freelancheramount"> <h3> <amount-display amount="{{bidding.amount}}" ng-if="bidding.amount"></amount-display> </h3> <p>in {{bidding.duration}} {{\'days\'|translate}}</p>  <div ng-if="bidding.user_id == user.id"> <bidding-actions bidid="{{bidding.id}}" project="{{bidding.project_id}}" biduser="{{bidding.user_id}}" projectuser="{{projectuser}}" projectstatus="{{projectstatus}}"> </bidding-actions> </div>  <div ng-if="(bidding.project.project_status_id > ProjectStatusConstant.WinnerSelected && (bidding.user_id == auth.id || projectuser == auth.id) && !mutual_cancel)"> <bidding-project-action bidid="{{bidding.id}}" project="{{bidding.project_id}}" biduser="{{bid.user_id}}" projectuser="{{projectuser}}" projectstatus="{{projectstatus}}" isprojectcancel="{{isprojectcancel}}" isdispute="{{isdispute}}"> </bidding-project-action> </div>  </div> </div> </div> </div> </div>  <div class="" ng-if="(bidding.user_id == auth.id) || (projectuser == auth.id)"> <div ng-if="projectstatus > ProjectStatusConstant.WinnerSelected"> <bidding-awarded-tabs bidid="{{bidding.id}}" project="{{project}}" projectuser="{{projectuser}}" projectstatus="{{projectstatus}}" hiddienbid="{{hiddienbid}}" isbid="{{isbid}}" projectbidid="{{projectbidid}}" isprojectcancel="{{isprojectcancel}}" isdispute="{{isdispute}}"></bidding-awarded-tabs> </div> </div> <div ng-if="(bidding.user_id == auth.id || projectuser == auth.id)"> <div class=""> <div ng-if="mutual_cancel || isprojectcancel != \'false\'">  <bidding-mutual-cancel ng-if="bidding.id" bidid="{{bidding.id}}" project="{{bidding.project_id}}" isfreelancercancel="{{bidding.project.is_cancel_request_freelancer}}" isemployercancel="{{bidding.project.is_cancel_request_employer}}" biduser="{{bidding.user_id}}" projectuser="{{projectuser}}" projectstatus="{{projectstatus}}" isprojectcancel="{{isprojectcancel}}" id="cancel_scroll"></bidding-mutual-cancel> </div> <div ng-if="project_dispute || isdispute != \'false\'" class="sep-top text-left">  <bidding-dispute bidid="{{bidding.id}}" project="{{bidding.project_id}}" biduser="{{bidding.user_id}}" projectuser="{{projectuser}" projectstatus="{{projectstatus}}" isdispute="{{isdispute}}" id="dispute_scroll"></bidding-dispute> </div> </div> </div> <div ng-if="project_review && $root.userReview && $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1" id="update" class="freelancer-tabs"> <div class="sep-top"> <h3 class="montserrat-bold text-18 bot-20-space">{{\'Add Review\'| translate}}</h3>  <bidding-review bidid="{{bidding.id}}" project="{{bidding.project_id}}" biduser="{{bidding.user_id}}" projectuser="{{projectuser}" projectstatus="{{projectstatus}}" isdispute="{{isdispute}}" id="add_review_scroll"></bidding-review> </div> </div> </li>  <li class="list-group-item clsfreelancher-heading hidden-xs" ng-mouseleave="showhideSkills(0,2)" ng-if="is_show_lost && projectstatus != ProjectStatusConstant.Closed"> <div class="row"> <div class="col-sm-6"> <h5>{{\'Freelancers Bidding\'|translate}}<span ng-if="hiddienbidShow"> ({{biddings.length}}) </span></h5> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-7"> <h5> {{\'Reputation\'|translate}} </h5> </div> <div class="col-sm-5"> <h5 class="text-left"> {{\'Price\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></h5> </div> </div> </div> </div> </li> <li class="list-group-item freelancher-innerblock border-none" ng-if="showLoader && is_show_lost && projectstatus != ProjectStatusConstant.Closed"> <div class="row"> <div class="col-sm-12 text-center"> <i class="fa fa-spinner fa-spin fa-3x"></i> </div> </div> </li> <li class="list-group-item freelancher-innerblock border-none" ng-repeat="bidding in biddings" ng-if="hiddienbidShow && is_show_lost &&   projectstatus != ProjectStatusConstant.Closed" ng-mouseleave="showhideSkills(0,2)"> <div class="row"> <div class="col-sm-6"> <h5 class="visible-xs">{{\'FREELANCERS AWARDED\'|translate}}</h5> <div class="row"> <div class="col-sm-12"> <div class="media freelancer-media"> <div class="media-left"> <div class="freelancherprotfolio"> <div class="freelancheruserimage"> <div class="navbar-left"> <div class="freelancheruserimage"> <a href="users/{{bidding.user.id}}/{{bidding.user.username}}"> <img ng-src="{{bidding.user.user_avatar_url}}" class="img-resposnive center-block user-med" title="{{bidding.user.username}}"> </a> </div> </div> </div> </div> </div> <div class="media-body"> <div class="freelancherprotfolio"> <div class="freelancherdetail"> <a href="users/{{bidding.user.id}}/{{bidding.user.username}}"> <h3 class="no-mar">{{bidding.user.username}}, </h3> </a> <span class="clstimesmanage"> {{bidding.created_at | timeago}} </span> <span class="freelancheruserflag"> <i class="flag-icon flag-icon-{{bidding.user.country.iso_alpha2 | lowercase}}"> </i> </span> <span ng-if="((bidding.user_id == auth.id) || (projectuser == auth.id)) && bidding.description"><show-more text="bidding.description" limit="150"> </show-more></span> <div> <ul class="list-inline show-Skills" ng-mouseover="showhideSkills(bidding.user.id, 1)"> <li class="skill-certificate" ng-if="exam_user.user_id == bidding.user.id" ng-repeat="exam_user in  bidding.exams_users"> <a href="#"><img ng-src="{{exam_user.exam_image}}" title="{{exam_user.exam.title}}" alt="[Image:\n                                        {{exam_user.exam.title}}]" class="center-block"></a> </li> <li> <div class="user-certificate-skills" id="skills-{{bidding.user.id}}" ng-mouseleave="showhideSkills(bidding.user.id,2)"> <h5 class="text-b"> {{\'Passed Freelancer Certifications\' | translate}}</h5> <div ng-repeat="exam_user in  bidding.exams_users"> <div class="certificates-list"> <ul class="list-unstyled no-mar"> <li ng-if="exam_user.user_id == bidding.user.id"> <a href="#" title="{{exam_user.exam.title}}" class="text-info"> {{exam_user.exam.title}} {{exam_user.exam_level.name}} </a> ({{exam_user.exam_user_per |number:0}}%, {{exam_user.percentile_rank}} percentile) </li> </ul> </div> </div> </div> </li> </ul> </div> <div ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Portfolio/Portfolio\') > -1"> <p class="freelancherportfolio" ng-if="bidding.user.portfolio_count > 0"> <a href ng-click="focusPortfolio(bidding.user.id,bidding.user.username)">{{\'View Portfolio\'|translate}} </a> </p> </div> </div> </div> </div> </div> </div> </div> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-7 view-xs"> <h5 class="visible-xs"> {{\'Reputation\'|translate}} </h5> <div class="freelancherreputation"> <div class="info-skills"> <ul class="list-inline" ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Contest/ContestReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Quote/QuoteReview\') > -1"> <li><span class="label label-default">{{bidding.user.total_rating_as_freelancer |number:1}}</span></li> <li> <bidding-stars ng-model="bidding.user.total_rating_as_freelancer" max="5" readonly class="list-ratings"></bidding-stars> </li> </ul> </div> <p class="freelancherreviewpoint blackc" ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Contest/ContestReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Quote/QuoteReview\') > -1">{{bidding.user.review_count_as_freelancer}} {{\'reviews\'|translate}}</p> <p class="freelancherreviewpoint" ng-if="(bidding.user.project_completed_count > 0 || bidding.user.project_failed_count > 0)">{{\'Completion Rate\'|translate}}: {{bidding.completetion_rate |number:0}}% </p> <p class="freelancherreviewpoint" ng-if="(bidding.user.project_completed_count == 0 && bidding.user.project_failed_count == 0)">{{\'Completion Rate\'|translate}}: N/A </p> </div> </div> <div class="col-sm-5 view-xs"> <h5 class="visible-xs"> {{\'Price\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></h5> <div class="freelancheramount"> <h3><amount-display amount="{{bidding.amount}}" ng-if="bidding.amount"></amount-display></h3> <p>in {{bidding.duration}} {{\'days\'|translate}}</p>   <div ng-if="bidding.user_id == user.id"> <bidding-actions bidid="{{bidding.id}}" project="{{bidding.project_id}}" biduser="{{bidding.user_id}}" projectuser="{{projectuser}}" projectstatus="{{projectstatus}}"> </bidding-actions> </div> </div> </div> </div> </div> </div> </li> <li class="list-group-item freelancher-innerblock border-none" ng-if="(!hiddienbidShow || biddings.length == 0) && !showLoader && is_show_lost"> <div class="row"> <div class="col-sm-12"> <p class="no-mar text-center" ng-if="!showLoader"> <span ng-if="!hiddienbidShow"> {{"Bids are sealed" | translate }} </span> <span ng-if="hiddienbidShow && biddings.length == 0"> {{"No Records available" | translate }} </span> </p> </div> </div> </li> <li class="pad-big list-group-item freelancher-innerblock border-none" ng-if="($root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1) && ($root.user.id == AwardedUserId || projectuser == $root.user.id || $root.user.role_id == ConstUserRole.Admin)"> <div> <h3 class="montserrat-bold text-18 no-mar" ng-show="(reviewsLists.length > 0) && ($root.user.id == AwardedUserId || projectuser == $root.user.id || ConstUserRole.Admin)">{{\'Reviews\'|translate}} </h3> </div> <div class="media bot-20-space" ng-repeat="reviewList in reviewsLists"> <div class="pull-left"> <a class="blog-user-img center-block" href="users/{{reviewList.user.id}}/{{reviewList.user.username}}"> <img ng-src="{{reviewList.user.user_avatar_url}}" title="{{reviewList.user.username}}" alt="[Image: {{reviewList.user.username}}]" class="center-block img-circle"> </a> </div> <div class="media-body"> <h4 class="text-16"> <a href="users/{{reviewList.user.id}}/{{reviewList.user.username}}">{{reviewList.user.username}}</a> </h4> <p> <input-stars ng-model="reviewList.rating" max="5" readonly></input-stars> </p> <p>{{reviewList.message}}</p> </div> </div> <div ng-if="project_review && !$root.userReview" id="update"> <div class="freelancer-tabs"> <div class="submit-review-block"> <h4 class="montserrat-bold text-18 bot-mar-25 no-top-mspace">{{\'Update Review\'| translate}}</h4>  <bidding-review bidid="{{bidding.id}}" project="{{bidding.project_id}}" biduser="{{bidding.user_id}}" projectuser="{{projectuser}" projectstatus="{{projectstatus}}" isdispute="{{isdispute}}"></bidding-review> </div> </div> </div> </li> </ul>  <div class="alert alert-info" ng-if="$root.withdrawthisfreelancer && $root.newFreelancerSelect"> <strong>Info!</strong> You can choose a new freelancer here </div> <ul class="list-unstyled no-pad" ng-if="projectstatus <= ProjectStatusConstant.OpenForBidding || projectstatus == ProjectStatusConstant.Closed ||projectstatus == ProjectStatusConstant.BiddingClosed || projectstatus == ProjectStatusConstant.BiddingExpired || $root.withdrawthisfreelancer"> <li class="list-group-item clsfreelancher-heading hidden-xs" id="withdaw_scroll"> <div class="row"> <div class="col-sm-6"> <h5>{{\'Freelancers Bidding\'|translate}} <span ng-if="hiddienbidShow && projectstatus != ProjectStatusConstant.Closed"> ({{projectbidcount}})</span> <span ng-if="hiddienbidShow && projectstatus == ProjectStatusConstant.Closed"> ({{projectbidcount - 1}})</span> </h5> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-7"> <h5 class="cursor"> {{\'Reputation\'|translate}}</h5> </div> <div class="col-sm-5"> <h5 class="text-left"> {{\'Price\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></h5> </div> </div> </div> </div> </li> <li class="list-group-item freelancher-innerblock border-none" ng-if="showLoader"> <div class="row"> <div class="col-sm-12 text-center"> <i class="fa fa-spinner fa-spin fa-3x"></i> </div> </div> </li> <li class="list-group-item freelancher-innerblock border-none" ng-repeat="bidding in biddings" ng-mouseleave="showhideSkills(0,2)" ng-if="bidding.user_id != bidding.project_bid.user_id"> <div class="row"> <div class="col-sm-6"> <h5 class="visible-xs">{{\'Freelancers Bidding\'|translate}} <span ng-if="hiddienbidShow || projectstatus == ProjectStatusConstant.Closed"> ({{projectbidcount}}) </span></h5> <div class="col-sm-12"> <div class="media freelancer-media"> <div class="media-left"> <div class="freelancherprotfolio"> <div class="navbar-left"> <div class="freelancheruserimage"> <a href="users/{{bidding.user.id}}/{{bidding.user.username}}"> <img ng-src="{{bidding.user.user_avatar_url}}" class="img-resposnive center-block user-med" title="{{bidding.user.username}}"> </a> </div> </div> </div> </div> <div class="media-body"> <div class="freelancherprotfolio"> <div class="freelancherdetail"> <a href="users/{{bidding.user.id}}/{{bidding.user.username}}"> <h3 class="no-mar">{{bidding.user.username}},</h3> </a> <span class="clstimesmanage"> {{bidding.created_at | timeago}} </span> <span class="freelancheruserflag"> <i class="flag-icon flag-icon-{{bidding.user.country.iso_alpha2 | lowercase}}"> </i> </span> <span ng-if="((bidding.user_id == auth.id) || (projectuser == auth.id)) && (bidding.description != empty)"><show-more text="bidding.description" limit="150"> </show-more></span> <div> <ul class="list-inline show-Skills"> <li ng-repeat="exam_user in  bidding.exams_users" ng-mouseover="showhideSkills(bidding.user.id, 1)" class="skill-certificate" ng-if="exam_user.user_id == bidding.user.id"> <a href="#"><img ng-src="{{exam_user.exam_image}}" title="{{exam_user.exam.title}}" alt="[Image:\n                                        {{exam_user.exam.title}}]" class="center-block"></a> </li> <li> <div class="user-certificate-skills" id="skills-{{bidding.user.id}}" ng-mouseleave="showhideSkills(bidding.user.id,2)"> <h5 class="text-b"> {{\'Passed Freelancer Certifications\' | translate}}</h5> <div ng-repeat="exam_user in  bidding.exams_users"> <div class="certificates-list"> <ul class="list-unstyled no-mar"> <li ng-if="exam_user.user_id == bidding.user.id"> <a href="#" title="{{exam_user.exam.title}}" class="text-info"> {{exam_user.exam.title}} {{exam_user.exam_level.name}} </a> ({{exam_user.exam_user_per |number:0}}%, {{exam_user.percentile_rank}} percentile) </li> </ul> </div> </div> </div> </li> </ul> </div> <div ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Portfolio/Portfolio\') > -1"> <span class="freelancherportfolio" ng-if="bidding.user.portfolio_count > 0"> <a href ng-click="focusPortfolio(bidding.user.id,bidding.user.username)"> {{\'View Portfolio\'|translate}} </a> </span> <span class="freelancherportfolio left-space" ng-if="bidding.message_count == 0 && (bidding.user_id == auth.id || projectuser == auth.id)"> <a href ng-click="contactFreelancer(bidding.id, bidding.message_count)">{{\'Send Message\'|translate}} </a> </span> <span class="freelancherportfolio left-space" ng-if="bidding.message_count > 0 && (bidding.user_id == auth.id || projectuser == auth.id)"> <a href ng-click="contactFreelancer(bidding.id, bidding.message_count)">{{\'See Conversions\'|translate}} </a> </span> </div> </div> </div> </div> </div> </div> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-7 view-xs"> <h5 class="visible-xs"> {{\'Reputation\'|translate}} </h5> <div class="freelancherreputation"> <div class="info-skills"> <ul class="list-inline" ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Contest/ContestReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Quote/QuoteReview\') > -1"> <li><span class="label label-default">{{bidding.user.total_rating_as_freelancer |number:1}}</span></li> <li> <bidding-stars ng-model="bidding.user.total_rating_as_freelancer" max="5" readonly class="list-ratings"></bidding-stars> </li> </ul> </div> <p class="freelancherreviewpoint blackc" ng-if="$root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Contest/ContestReview\') > -1 || $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Quote/QuoteReview\') > -1">{{bidding.user.review_count_as_freelancer}} {{\'reviews\'|translate}}</p> <p class="freelancherreviewpoint" ng-if="(bidding.user.project_completed_count > 0 || bidding.user.project_failed_count > 0)"> {{\'Completion Rate\'|translate}}: {{bidding.completetion_rate |number:0}}% </p> <p class="freelancherreviewpoint" ng-if="(bidding.user.project_completed_count == 0 && bidding.user.project_failed_count == 0)">{{\'Completion Rate\'|translate}}: N/A</p> </div> </div> <div class="col-sm-5 view-xs"> <h5 class="visible-xs"> {{\'Price\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></h5> <div class="freelancheramount"> <h3> <amount-display amount="{{bidding.amount}}" ng-if="bidding.amount"></amount-display> </h3> <p>in {{bidding.duration}} {{\'days\'|translate}}</p>  <div ng-if="(bidding.user_id == auth.id || projectuser == auth.id) && (projectstatus != ProjectStatusConstant.BiddingClosed && projectstatus != ProjectStatusConstant.BiddingExpired)"> <bidding-actions bidid="{{bidding.id}}" project="{{bidding.project_id}}" biduser="{{bidding.user_id}}" projectuser="{{projectuser}}" projectstatus="{{projectstatus}}"> </bidding-actions> </div>  </div> </div> </div> </div> </div> </li> <li class="list-group-item freelancher-innerblock border-none" ng-if="!showLoader && !hiddienbidShow || biddings.length == 0 "> <div class="row"> <div class="col-sm-12"> <p class="no-mar text-danger text-center" ng-if="!showLoader"> <span ng-if="!hiddienbidShow"> {{"Bids are sealed" | translate }} </span> <span ng-if="hiddienbidShow && biddings.length == 0"> {{"No bids available" | translate }} </span> </p> </div> </div> </li> </ul>'),
$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_message.html",'<div class="tab-content"> <div class="tab-pane active" id="conversation"> <section class="comments-block coment-setion"> <div class="row"> <ul class="list-unstyled builtin-list"> <li ng-if="messages.length > 0"> <a href="" class="btn btn-default btn-sm load-more pull-right" ng-hide="messageNoOfPages == MessagePage" ng-click="message_pagination()">{{\'Load more...\' | translate}} ( {{messageTotal}} )</a> </li> </ul> <div class="col-xs-12"> <div class="clearfix comment-msg"> <div class="media" ng-repeat="message in messages | reverse"> <div class="pull-left"> <a class="blog-user-img center-block" href="users/{{message.user.id}}/{{message.user.username}}"><img ng-src="{{message.user.user_avatar_url}}" title="{{message.user.username}}" alt="[Image: {{message.user.username}}]" class="center-block img-circle user-small"></a> </div> <div class="media-body"> <h4 class="text-16"><a href="users/{{message.user.id}}/{{message.user.username}}">{{message.user.username}}</a> , <span class="text-12 text-normal text-lowercase grayc"> {{ message.created_at | timeago}} </span></h4> <p ng-bind-html="message.message_content.message" class="word-break"> </p> </div> </div> <div class="media" ng-show="!project_is_dispute && projectstatus != ProjectStatusConstant.MutuallyCanceled"> <div class="pull-left media-top"> <img src="images/default.png" alt="[Image: USer]" class="img-circle center-block user-small"> </div> <div class="media-body"> <form role="form" name="messageFrm" ng-submit="PostMessages(messageFrm,messageFrm.$valid)" class="top-mspace-10" novalidate> <div class="form-group"> <label for="comments1" class="sr-only">comment</label> <textarea id="comments1" class="form-control" ng-model="data.message" name="message" placeholder="Write your messages..." rows="3" ng-required="true"></textarea> <span class="error" ng-show="(messageFrm.$submitted || messageFrm.message.$touched) && (messageFrm.message.$pristine || messageFrm.message.$invalid) && (messageFrm.message.$error.required)"> {{\'Required\'| translate }} </span> </div> <div class="clearfix text-left"> <div class="pull-right xs-float-none"> <button type="submit" ng-if="message_Frm" class="gradi-rnd-btn btn btn-primary" disabled>{{\'Send\'|translate}}</button> <button type="submit" class="gradi-rnd-btn btn btn-primary" title="send" ng-if="!message_Frm">Send</button> </div> </div> </form> </div> </div> <div ng-if="project_is_dispute"> <p colspan="8" class="text-center text-danger space"> {{"Project under dispute. So you can\'t send message." | translate}} </p> </div> </div> <div ng-if="projectstatus == ProjectStatusConstant.MutuallyCanceled"> <p colspan="8" class="text-center text-danger space"> {{"Project Mutually Cancelled. So you can\'t send message." | translate}} </p> </div> </div> </div> </section> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_project_actions.html",'<div class="dropdown bidding-actinos" ng-if="((projectstatus != ProjectStatusConstant.MutuallyCanceled || projectstatus != ProjectStatusConstant.CanceledByAdmin) && (isdispute == \'false\'))"> <a type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false"> Action <i class="fa fa-angle-down" aria-hidden="true"></i> </a> <ul class="dropdown-menu dropdown-arrow-right">  <li ng-if="(is_freelancer) && (isprojectcancel == \'false\' && projectstatus != ProjectStatusConstant.FinalReviewPending && projectstatus != ProjectStatusConstant.Completed && projectstatus != ProjectStatusConstant.Closed)"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(1)"><i class="fa fa-check fa-fw"></i>{{\'Mark as Completed\'|translate}}</a> </li> <li ng-if="(!is_freelancer) && (isprojectcancel == \'false\' && projectstatus != ProjectStatusConstant.FinalReviewPending && projectstatus != ProjectStatusConstant.Closed && projectstatus != ProjectStatusConstant.UnderDevelopment)"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(2)"><i class="fa fa-check fa-fw"></i> {{projectstatus == ProjectStatusConstant.Completed ? \'Accept as Completed\':\'Mark as Completed\'}} </a> </li> <li ng-if="(!is_freelancer) && (isprojectcancel == \'false\' && projectstatus != ProjectStatusConstant.FinalReviewPending && projectstatus != ProjectStatusConstant.Closed && projectstatus == ProjectStatusConstant.Completed)"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(10)"><i class="fa fa-close fa-fw"></i> {{\'Not Completed, Move to Under Development\'| translate}} </a> </li> <li ng-if="isprojectcancel == \'false\' && is_show_actions.mutual && projectstatus == ProjectStatusConstant.UnderDevelopment && $root.settings.PROJECT_IS_ALLOW_EMPLOYER_TO_CANCEL_PROJECT == 1"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(3)"><i class="fa fa-close fa-fw"></i>{{\'Cancel this Project\'|translate}}</a> </li> <li ng-if="isprojectcancel != \'false\' && is_show_accept && is_show_actions.mutual && projectstatus != ProjectStatusConstant.MutuallyCanceled"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(4)"><i class="fa fa-check fa-fw"></i>{{\'Accept Cancel Request\'|translate}} </a> </li> <li ng-if="isprojectcancel != \'false\' && is_show_actions.mutual && projectstatus != ProjectStatusConstant.MutuallyCanceled"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(5)"><i class="fa fa-times fa-fw"></i>{{\'Reject Cancel Request\'|translate}}</a> </li> <li ng-if="isdispute == \'false\' && is_show_actions.dispute && is_show_actions.mutual && $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Dispute\') > -1"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(6)"> <i class="fa fa-legal fa-fw"></i> {{\'Raise Dispute\'|translate}}</a> </li> <li ng-if="is_show_actions.review && $root.userReview && $root.reviewShow && $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(8)"><i class="fa fa-plus fa-fw"></i>{{\'Add Review\'|translate}}</a> </li> <li ng-if="is_show_actions.review && !$root.userReview && $root.reviewShow && $root.settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(9)"><i class="fa fa-refresh fa-fw"></i>{{\'Update Review\'|translate}}</a> </li> <li ng-if="show_cancel"> <a class="bidding-action-edit cursor" ng-click="projectstatuschange(7)"><i class="fa fa-close fa-fw"></i> {{\'Cancel Dispute Request\'|translate}}</a> </li>  </ul> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_project_dashboard.html",'<div class="my-contests-dashboard" ng-controller="biddingProjectDashboardCtrl"> <div> <div class="big-mspace">  <ul class="list-inline dashboard-list top-mspace text-center project-lists text-center" ng-if="Employer">  <li ng-click="getProjects(projectConstant.Draft)" title="Draft" ng-class="{active:tabType == projectConstant.Draft}" data-class="tabType"> <p>{{projectStatus[0][\'project_count\'] -- projectStatus[1][\'project_count\']}}</p> <p class="no-mar">{{\'Draft\' | translate}}</p> </li> <li ng-if="$root.settings.PROJECT_IS_AUTO_APPROVE == 0 || projectStatus[2][\'project_count\'] > 0" ng-click="getProjects(projectConstant.PendingForApproval)" title="Waiting for Approval " ng-class="{active:tabType == projectConstant.PendingForApproval}" data-class="tabType"> <p>{{projectStatus[2][\'project_count\']}}</p> <p class="no-mar">{{\'Waiting for Approval \'| translate}}</p> </li> <li ng-click="getProjects(projectConstant.OpenForBidding)" title="Open for Bidding" ng-class="{active:tabType == projectConstant.OpenForBidding}" data-class="tabType"> <p>{{projectStatus[3][\'project_count\']}}</p> <p class="no-mar">{{\'Open for Bidding\' | translate}}</p> </li> <li ng-click="getProjects(projectConstant.BiddingClosed)" title="Closed/Expired" ng-class="{active:tabType == projectConstant.BiddingClosed}" data-class="tabType"> <p>{{projectStatus[6][\'project_count\'] -- projectStatus[4][\'project_count\']}}</p> <p class="no-mar">{{\'Bidding\'|translate}} {{\'Closed/Expired\' | translate}}</p> </li> <li ng-click="getProjects(projectConstant.WinnerSelected)" title="Winner Selected" ng-class="{active:tabType ==projectConstant.WinnerSelected}" data-class="tabType"> <p>{{projectStatus[5][\'project_count\']}}</p> <p class="no-mar">{{\'Winner Selected\' | translate}}</p> </li> <li ng-click="getProjects(projectConstant.UnderDevelopment)" title="Under Development" ng-class="{active:tabType == projectConstant.UnderDevelopment}" data-class="tabType"> <p>{{projectStatus[8][\'project_count\'] -- projectStatus[12][\'project_count\']}} </p> <p class="no-mar">{{\'Under Development\'| translate}}</p> </li> <li ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1" ng-click="getProjects(projectConstant.FinalReviewPending)" title="Waiting for Review" ng-class="{active:tabType == projectConstant.FinalReviewPending}" data-class="tabType"> <p>{{projectStatus[11][\'project_count\']}}</p> <p class="no-mar">{{\'Waiting for Review\' | translate}}</p> </li> <li ng-click="getProjects(projectConstant.Closed)" title="Closed" ng-class="{active:tabType == projectConstant.Closed}" data-class="tabType"> <p>{{projectStatus[13][\'project_count\']}} </p> <p class="no-mar">{{\'Closed\' | translate}}</p> </li> <li ng-click="getProjects(projectConstant.CanceledByAdmin)" title="Canceled" ng-class="{active:tabType ==projectConstant.CanceledByAdmin}" data-class="tabType"> <p>{{projectStatus[10][\'project_count\'] -- projectStatus[9][\'project_count\'] -- projectStatus[7][\'project_count\']}}</p> <p class="no-mar">{{\'Cancelled\' | translate}}</p> </li> <li ng-click="getProjects(\'milestone\')" ng-class="{active:tabType == \'milestone\'}" data-class="tabType" ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Milestone\') > -1" title="{{\'Milestone\'|translate}}"> <p>{{employer_count.milestone_count}}</p> <p class="no-mar">{{\'Milestone\' | translate}}</p> </li> <li ng-click="getProjects(\'invoice\')" ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Invoice\') > -1" title="{{\'Invoice\'|translate}}" ng-class="{active:tabType == \'invoice\'}" data-class="tabType"> <p>{{employer_count.invoice_count}}</p> <p class="no-mar">{{\'Invoice\' | translate}}</p> </li> </ul> </div> <div class="clearfix">  <ul class="list-inline bot-space-10 cursor project-lists text-center" ng-if="Freelancer"> <li class="text-center" ng-click="getProjects(\'my_bids\')" title="Active Projects" ng-class="{active:tabType == \'my_bids\'}" data-class="tabType"> <span class="badge badge-teal">{{freelancer_count.current_project_count}}</span> <p class="no-mar"> {{\'Active Projects\' | translate}}</p> </li> <li class="text-center" ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Bidding\') > -1" ng-click="getProjects(\'active\')" title="Active Bids" ng-class="{active:tabType == \'active\'}" data-class="tabType"> <span class="badge badge-dark-green">{{freelancer_count.active_bid_count}}</span> <p class="no-mar"> {{\'Active Bids\' | translate}}</p> </li> <li class="text-center" ng-click="getProjects(\'past_projects\')" title="Past Projects" ng-class="{active:tabType == \'past_projects\'}" data-class="tabType"> <span class="badge badge-red">{{freelancer_count.past_project_count}}</span> <p class="no-mar">{{\'Past Projects\' | translate}}</p> </li> <li class="text-center" ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Milestone\') > -1" title="{{\'Milestones\'|translate}}" ng-click="getProjects(\'milestones\')" ng-class="{active:tabType == \'milestones\'}" data-class="tabType"> <span class="badge badge-blue">{{freelancer_count.milestone_count}}</span> <p class="no-mar"> {{\'Milestones\' | translate}} </p> </li> <li class="text-center" ng-click="getProjects(\'invoices\')" ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Invoice\') > -1" title="{{\'Invoices\'|translate}}" ng-class="{active:tabType == \'invoices\'}" data-class="tabType"> <span class="badge badge-magenta">{{freelancer_count.invoice_count}}</span> <p class="no-mar"> {{\'Invoices\' | translate}} </p> </li> </ul> </div> </div> <div class="actions" ng-if="Employer"> <div class="row"> <div class="col-xs-12"> <div class="project-details" ng-repeat="project in projects" ng-if="projects.length > 0"> <h4>{{\'Project Details\' | translate}}</h4> <div class="row"> <div class="col-xs-8"> <a ui-sref="Bid_ProjectView({id:project.id,slug:project.slug})"><h3>{{project.name}}</h3></a> </div> <div class="col-xs-3"> <span class="pull-right padt30"> <div class="dropdown"> <button class="request-btn btn btn-lg btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Action <i class="fa fa-angle-down fa-fw" aria-hidden="true"></i> </button> <ul class="dropdown-menu dropdown-menu-right"> <li class="cursor"> <a ng-click="bidAction($index, 1)" ng-if="bid.project.project_status_id == projectConstant.OpenForBidding"> <i class="fa fa-edit fa-fw"></i>{{\'Edit\'|translate}} </a> </li> <li class="cursor"> <a ng-click="bidAction($index, 2)" ng-if="bid.project.project_status_id == projectConstant.OpenForBidding"><i class="fa fa-trash-o"></i> {{\'Withdraw My Bid\'|translate}} </a> </li> <li class="cursor"> <a ng-click="contactFreelancer(bid.id, bid.project.name, bid.user.name, disputestatus)" ng-if="bid.project.project_status_id == projectConstant.OpenForBidding"><i class="fa fa-comment-o"></i> {{\'View / Send Message\'|translate}} </a> </li> <li class="cursor"> <a ng-click="bidAction($index, 3)" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment"> <i class="fa fa-check fa-fw"></i> {{\'Accept\'|translate}} </a> </li> <li class="cursor"> <a ng-click="bidAction($index, 4)" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment"> <i class="fa fa-close fa-fw"></i>{{\'Reject\'|translate}} </a> </li> <li class="cursor"> <a ui-sref="Bid_ProjectView({id:bid.project.id,slug:bid.project.slug})" ng-if="bid.project.project_status_id == projectConstant.BiddingExpired || bid.project.project_status_id == projectConstant.BiddingClosed"> <i class="fa fa-eye fa-fw"></i>{{\'View\'|translate}} </a> </li> </ul> </div> </span> </div> </div> </div>  </div> </div> </div> <div class="action" ng-include="renderSubPage" ng-if="Freelancer"> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_project_mutual_cancel.html",'<div class="submit-review-block clearfix milestone-submit sep-top" id="mutual-cancel"> <h3 class="text-uppercase clearfix" ng-if="isprojectcancel == \'false\'"> <span class=""> {{\'Project Cancellation Request\'|translate}} </span> <span class="pull-right"> </span> </h3> <div ng-if="isprojectcancel == \'false\'"> <form class="form-horizontal" name="mutualFrm" ng-submit="mutualCancel(mutualFrm.$valid, data)" novalidate> <div class="form-group top-space bot-20-space"> <label for="review" class="col-lg-2 col-sm-2 control-label">{{\'Cancellation Note\'|translate}}:</label> <div class="col-lg-10 col-sm-10"> <textarea name="mutual_cancel_note" ng-model="data.mutual_cancel_note" class="form-control" rows="3" placeholder="{{\'Enter Your Note about Requesting Cancellation\'|translate}}" ng-required="true"></textarea> <span class="error" ng-show="(mutualFrm.$submitted || mutualFrm.mutual_cancel_note.$touched) && (mutualFrm.mutual_cancel_note.$pristine || mutualFrm.mutual_cancel_note.$invalid) && (mutualFrm.mutual_cancel_note.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> <div class="row"> <div class="col-sm-offset-2 col-sm-10"> <button type="submit" ng-show="mutual_Cancel" class="text-uppercase btn btn-primary" disabled>{{\'Submit\'|translate}}</button> <button type="submit" class="text-uppercase btn btn-primary" ng-show="!mutual_Cancel">{{\'Submit\'|translate}}</button> <button class="text-uppercase btn btn-danger" ng-click="closefrm()">{{\'Cancel\'|translate}}</button> </div> </div> </form> </div> <div ng-if="isprojectcancel != \'false\'"> <p class="alert alert-info" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment && isfreelancercancel && $root.Employer &&isemployercancel == \'false\'"> {{userinfo}} {{\'sent project cancel Request\' | translate}}. </p> <p class="alert alert-info" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment && isfreelancercancel == \'false\' && $root.Employer && isemployercancel"> {{\'You have sent project cancel Request\' | translate}}. </p> <p class="alert alert-info" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment && isemployercancel && $root.Freelancer &&isfreelancercancel == \'false\'"> {{userinfo}} {{\'sent project cancel Request\' | translate}}. </p> <p class="alert alert-info" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment && isemployercancel == \'false\' && $root.Freelancer && isfreelancercancel"> {{\'You have sent project cancel Request\' | translate}}. </p> <div class="comments-msg" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment"> <div class="media"> <div class="pull-left"> <a class="blog-user-img center-block" href="users/{{userid}}/{{userinfo}}"><img ng-src="{{user_image}}" title="{{userinfo}}" alt="[Image: {{userinfo}}]" class="center-block img-circle"></a> </div> <div class="media-body"> <h4 class="text-16"><a href="users/{{userid}}/{{userinfo}}">{{userinfo}}</a> , <span class="text-12 text-normal text-lowercase grayc"> {{ created_at | timeago}}</span></h4> <p>{{\'Reason\'| translate}}: {{mutualcancelnote}} </p> </div> </div> </div> </div> <div class="mspace"> <p class="alert alert-info" ng-if="projectstatus == ProjectStatusConstant.MutuallyCanceled && !is_show_accept"> {{\'Project Mutually Canceled\' | translate}} </p> </div> </div>  <div class="mutual-cancel-button top-space-10" ng-if="projectstatus != ProjectStatusConstant.MutuallyCanceled"> <button class="btn btn-primary" ng-click="cancelreponse(4)" ng-if="isfreelancercancel == \'true\' && ($root.user.id == projectuser)"> {{\'Accept Cancel Request\'|translate}} </button> <button class="btn btn-primary" ng-click="cancelreponse(4)" ng-if="isemployercancel==\'true\' && ($root.user.id == biduser)"> {{\'Accept Cancel Request\'|translate}} </button> <button class="btn btn-danger" ng-click="cancelreponse(5)" ng-if="isemployercancel==\'true\' && ($root.user.id == biduser)">{{\'Reject Cancel Request\'|translate}} </button> <button class="btn btn-danger" ng-click="cancelreponse(5)" ng-if="isfreelancercancel == \'true\' && ($root.user.id == projectuser)">{{\'Reject Cancel Request\'|translate}} </button> </div> '),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_report.html",'<div class="section navbar-default"> <div> <form class="form-horizontal adminpg-form" name="applyJobReport" role="form" novalidate> <div class="section navbar-default"> <div class="row"> <div class="col-sm-12"> <div class="panel no-mar" ng-if="!is_flag"> <div class="modal-header sep-bot"> <button type="button" class="close" data-dismiss="modal" ng-click="closemodel()">&times;</button> <h3 class="no-mar">{{\'Report Project\'|translate}}</h3> </div> <div class="modal-body"> <div class="form-group"> <div class="col-sm-4"> <label for="flagCategory" class="control-label">{{\'Flag Category\'|translate}} <span class="error">*</span> </label> </div> <div class="col-sm-8"> <select name="flagCategory" ng-model="flags.flag_category_id" class="form-control" ng-required="true"> <option value="{{flags.id}}">{{\'Please Select\'|translate}}</option> <option value="{{flags.id}}" ng-repeat="flags in flag">{{flags.name}}</option> </select> <span class="error" ng-if="(applyJobReport.$submitted || applyJobReport.flagCategory.$touched) && (applyJobReport.flagCategory.$pristine || applyJobReport.flagCategory.$invalid) && (applyJobReport.flagCategory.$error.required)">{{\'Required\'| translate}} </span> </div> </div> <div class="form-group"> <div class="col-sm-4"> <label for="message" class="control-label">{{\'Message\'|translate}}<span class="error">*</span></label> </div> <div class="col-sm-8"> <textarea type="text" name="inputMessage" ng-model="flags.message" class="form-control" ng-required="true"></textarea> <span class="error" ng-if="(applyJobReport.$submitted || applyJobReport.inputMessage.$touched) && (applyJobReport.inputMessage.$pristine || applyJobReport.inputMessage.$invalid) && (applyJobReport.inputMessage.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> <div class="panel" ng-if="is_flag">{{\'Already Reported\'|translate}} </div> <div class="panel" ng-if="is_flag"> {{\'Already Reported\'|translate}} </div> <div class="form-group" ng-if="!is_flag"> <div class="col-sm-offset-4 col-sm-8"> <button type="submit" ng-show="job_report" class="btn btn-primary" disabled>{{\'Submit\'|translate}}</button> <button type="submit" class="btn btn-primary" ng-click="submit(applyJobReport.$valid)" ng-show="!job_report"> {{\'Submit\'|translate}}</button> <button class="btn btn-danger" ng-click="closemodel()">{{\'Cancel\'|translate}}</button> </div> </div> <div class="form-group" ng-if="is_flag"> <div class="col-sm-offset-4 col-sm-8"> <button class="btn btn-danger" ng-click="closemodel()">{{\'Cancel\'|translate}}</button> </div> </div> </div> </div> </div> </div> </div> </form> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/bidding_transactions.html",'<div class="bidding-files bot-space-20" id="milestone"> <div class="milestone-block clearfix"> <div class="row"> <div class="col-xs-12 clearfix"> <h3 class="pull-left no-mar text-uppercase">{{\'Transactions\'|translate}}</h3> </div> </div> </div> <div class="panel-heading row"> <div class="add-wallet-table"> <div class="table-responsive pg-table"> <table class="table table-striped no-mar"> <thead> <tr> <th>{{\'Date\' |translate}}</th> <th>{{\'Description\'|translate}}</th> <th> {{\'Credit\'|translate}}<span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></th> <th>{{\'Debit\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></th> </tr> </thead> <tbody> <tr ng-repeat="transaction in transactions"> <td> <p class="no-mar">{{transaction.created_at | date_format : \'MMM dd, yyyy\'}}</p> </td> <td class="data-left"> <span ng-bind-html="transaction.transaction_message"> {{transaction.transaction_message}}</span> </td> <td>{{transaction.transactionAmount.credit}}</td> <td>{{transaction.transactionAmount.debit}}</td> </tr> <tr ng-if="transactions.length === 0"> <td colspan="8"> <p class="text-center text-danger" ng-if="transactions.length === 0"> {{\'No records available\' | translate}}</p> </td> </tr> </tbody> </table> </div> <div class="pull-right hired-view-total-page" ng-if="transactions.length > 0"> <nav aria-label="Page navigation"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPageTransaction" class="pagination-sm" boundary-links="true" num-pages="noOfPages" ng-click="paginateTransaction(currentPageTransaction)"></uib-pagination> </nav> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/contact_freelancer.html",'<div class="section navbar-default"> <form class="form-horizontal adminpg-form" name="Contactfrm" role="form" ng-submit="submit(Contactfrm.$valid)" novalidate> <div> <div> <div class="clearfix modal-msg"> <div class="section navbar-default"> <div class="panel clearfix message-block"> <div class="panel-heading sep-bot"> <button type="button" class="close pull-right" data-dismiss="modal" ng-click="closemodel()">&times;</button> <h4> {{\'Send Message\'|translate}} </h4> </div> <ul class="list-unstyled builtin-list clearfix"> <li ng-if="ContactMessages.length > 0"> <a href="" class="btn btn-default btn-sm load-more pull-right" ng-hide="messageNoOfPages == MessagePage" ng-click="contactmessage_pagination()">{{\'Load more...\' | translate}} ( {{ConactmessageTotal}} )</a> </li> </ul> <div class="media" ng-repeat="ContactMessage in ContactMessages | reverse"> <div class="pull-left"> <span class="blog-user-img"><img ng-src="{{ContactMessage.user.user_avatar_url}}" class="center-block img-circle user-small"></span> </div> <div class="media-body"> <h4 class="text-16"><span>{{ContactMessage.user.username}}</span> , <span class="text-12 text-normal text-lowercase grayc"> {{ ContactMessage.message_content.created_at | timeago}} </span></h4> <p class="word-break" ng-bind-html="ContactMessage.message_content.message"> </p> </div> </div> <div class="panel-heading" ng-if="project_dispute === \'true\'"> <h4 class="text-center text-danger"> {{"Project under dispute. So you can\'t send message"|translate}}.</h4> </div> <div class="media"> <div class="pull-left media-top"> <img src="images/default.png" alt="[Image: USer]" class="img-circle center-block user-small"> </div> <div class="media-body"> <div class="col-xs-12"> <div class="form-group"> <label for="inputDescription">{{\'Enter your message\'|translate}} <span class="error">*</span> </label> <textarea rows="5" type="text" name="inputDescription" ng-model="data.message" class="form-control" id="inputDescription" ng-required="true"></textarea> <span class="error" ng-show="(Contactfrm.$submitted || Contactfrm.inputDescription.$touched) && (Contactfrm.inputDescription.$pristine || Contactfrm.inputDescription.$invalid) && (Contactfrm.inputDescription.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> </div> <div class="col-xs-offset-1 col-sm-offset-2 col-xs-12 col-sm-10 message-block-xs"> <div class="space"> <button type="submit" ng-show="contact_freelancer" class="btn btn-primary" disabled>{{\'Submit\'|translate}}</button> <button type="submit" class="btn btn-primary btn-sm" ng-show="!contact_freelancer">{{\'Submit\'|translate}}</button> <button type="button" class="btn btn-danger btn-sm" ng-click="closemodel()">{{\'Cancel\'|translate}}</button> </div> </div> </div> </div> </div> </div> </div></form> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/milestone_supplier_portal.html",'<section class="my-contests" ng-controller="biddingProjectDashboardCtrl"> <div class="row"> <div class="col-xs-12 top-mspace"> <div class="project-details" ng-repeat="milestone in my_milestones"> <h4>{{\'Project Details\' | translate}}</h4> <div class="row"> <div class="col-xs-8"> <a ui-sref="Bid_ProjectView({id:milestone.project_id,slug:milestone.project.slug})" title="{{milestone.project.name}}"><h3>{{milestone.project.name}}</h3></a> </div> <div class="col-xs-3"> <span class="pull-right padt30"> <button class="request-btn btn btn-lg btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{\'View\'|translate}} </button> </span> </div> </div> </div>  <div class="row binding-pagination"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItemsMilestone" max-size="maxSize" items-per-page="itemsPerPageMilestone" ng-model="currentPageMilestone" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPagesMilestone" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </div> </section>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_bids.html",'<div class="section navbar-default photo-view"> <div class="container"> <div class="row"> <uib-tabset justified="false" active="activeStatus"> <uib-tab index="0" heading="{{\'Active Bids\'|translate}}" ng-click="getBidsShow(\'active\')"> <br> <div ng-include="\'scripts/plugins/Bidding/Bidding/views/default/my_bids_active.html\'"></div> </uib-tab> <uib-tab ng-if="Freelancer" index="1" heading="{{\'Current Projects\'|translate}}" ng-click="getBidsShow(\'my_bids\')"> <br> <div ng-include="\'scripts/plugins/Bidding/Bidding/views/default/my_bids_current_projects.html\'"></div> </uib-tab> <uib-tab ng-if="Freelancer" index="2" heading="{{\'Past Projects\'|translate}}" ng-click="getBidsShow(\'past_projects\')"> <br> <div ng-include="\'scripts/plugins/Bidding/Bidding/views/default/my_bids_past_projects.html\'"></div> </uib-tab> <uib-tab ng-if="Freelancer" index="3" heading="{{\'Milestones\'|translate}}" ng-click="getBidsShow(\'milestone\')"> <br> <div ng-include="\'scripts/plugins/Bidding/Milestone/views/default/my_bids_milestones.html\'"></div> </uib-tab> <uib-tab ng-if="Freelancer" index="4" heading="{{\'Invoice\'|translate}}" ng-click="getBidsShow(\'invoice\')"> <br> <div ng-include="\'scripts/plugins/Bidding/Invoice/views/default/my_bids_invoices.html\'"></div> </uib-tab> </uib-tabset> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_bids_active.html",'<section ng-controller="biddingProjectDashboardCtrl"> <div class="row">   <div class="col-xs-12 top-mspace"> <div class="project-details" ng-repeat="bid in mybids" ng-if="mybids.length > 0"> <h4>{{\'Project Details\' | translate}}</h4> <div class="row"> <div class="col-xs-8"> <a ui-sref="Bid_ProjectView({id:bid.project.id,slug:bid.project.slug})"><h3>{{bid.project.name}}</h3></a> </div> <div class="col-xs-3"> <span class="pull-right padt30"> <div class="dropdown"> <button class="request-btn btn btn-lg btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Action <i class="fa fa-angle-down fa-fw" aria-hidden="true"></i> </button> <ul class="dropdown-menu dropdown-menu-right"> <li class="cursor"> <a ng-click="bidAction($index, 1)" ng-if="bid.project.project_status_id == projectConstant.OpenForBidding"> <i class="fa fa-edit fa-fw"></i>{{\'Edit\'|translate}} </a> </li> <li class="cursor"> <a ng-click="bidAction($index, 2)" ng-if="bid.project.project_status_id == projectConstant.OpenForBidding"><i class="fa fa-trash-o"></i> {{\'Withdraw My Bid\'|translate}} </a> </li> <li class="cursor"> <a ng-click="contactFreelancer(bid.id, bid.project.name, bid.user.name, disputestatus)" ng-if="bid.project.project_status_id == projectConstant.OpenForBidding"><i class="fa fa-comment-o"></i> {{\'View / Send Message\'|translate}} </a> </li> <li class="cursor"> <a ng-click="bidAction($index, 3)" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment"> <i class="fa fa-check fa-fw"></i> {{\'Accept\'|translate}} </a> </li> <li class="cursor"> <a ng-click="bidAction($index, 4)" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment"> <i class="fa fa-close fa-fw"></i>{{\'Reject\'|translate}} </a> </li> <li class="cursor"> <a ui-sref="Bid_ProjectView({id:bid.project.id,slug:bid.project.slug})" ng-if="bid.project.project_status_id == projectConstant.BiddingExpired || bid.project.project_status_id == projectConstant.BiddingClosed"> <i class="fa fa-eye fa-fw"></i>{{\'View\'|translate}} </a> </li> </ul> </div> </span> </div> </div> </div>  <div class="row binding-pagination" ng-show="currentPage > 1"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </div> </section>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_bids_current_projects.html",'<section class="my-contests" ng-controller="biddingProjectDashboardCtrl"> <div class="container"></div> <div class="row"> <div class="col-xs-12 top-mspace"> <div class="project-details" ng-repeat="bid in mybids" ng-if="mybids.length > 0"> <h4>{{\'Project Details\' | translate}}</h4> <div class="row"> <div class="col-xs-8"> <a ui-sref="Bid_ProjectView({id:bid.project.id,slug:bid.project.slug})"><h3>{{bid.project.name}}</h3></a> </div> <div class="col-xs-3"> <span class="pull-right padt30"> <div class="dropdown"> <button class="request-btn btn btn-lg btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{\'Action\'|translate}} <i class="fa fa-angle-down fa-fw" aria-hidden="true"></i> </button> <ul class="dropdown-menu dropdown-menu-right"> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.WinnerSelected" ng-click="awardedprocess(1, bid.project.id, bid.id)"><i class="fa fa-check"></i> {{\'Accept this Project\'|translate}} </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.WinnerSelected" ng-click="awardedprocess(2, bid.project.id, bid.id)"><i class="fa fa-remove"></i> {{\'Reject this Project\'|translate}} </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment ||bid.project.project_status_id == projectConstant.Completed"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 1)"> {{\'Milestones\'|translate}}</a> </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment ||bid.project.project_status_id == projectConstant.Completed"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 2)"> {{\'Invoices\'|translate}}</a> </li> <li class="cursor" ng-if="(bid.project.project_status_id == projectConstant.UnderDevelopment) && (projectstatus != ProjectStatusConstant.FinalReviewPending)"> <a href="javascript:void(0);" ng-click="AcceptCompleted(bid.project.id)"> {{\'Mark as Completed \'|translate}}</a> </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment||bid.project.project_status_id == projectConstant.Completed"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 3)"> {{\'Dispute\'|translate}}</a> </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.FinalReviewPending"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 4)"> {{\'Add Review\'|translate}} / {{\'Update Review\'|translate}} </a> </li> </ul> </div> </span> </div> </div> </div>  <div class="row binding-pagination" ng-show="currentPage > 1"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </div>  </section>'),
$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_bids_past_projects.html",'<section class="my-contests" ng-controller="biddingProjectDashboardCtrl"> <div class="row"> <div class="col-xs-12 top-mspace"> <div class="project-details" ng-repeat="bid in mybids" ng-if="mybids.length > 0"> <h4>{{\'Project Details\' | translate}}</h4> <div class="row"> <div class="col-xs-8"> <a ui-sref="Bid_ProjectView({id:bid.project.id,slug:bid.project.slug})"><h3>{{bid.project.name}}</h3></a> </div> <div class="col-xs-3"> <span class="pull-right padt30"> <div class="dropdown"> <button class="request-btn btn btn-lg btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{\'Action\'|translate}} <i class="fa fa-angle-down fa-fw" aria-hidden="true"></i> </button> <ul class="dropdown-menu dropdown-menu-right"> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.WinnerSelected" ng-click="awardedprocess(1, bid.project.id, bid.id)"><i class="fa fa-check"></i> {{\'Accept this Project\'|translate}} </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.WinnerSelected" ng-click="awardedprocess(2, bid.project.id, bid.id)"><i class="fa fa-remove"></i> {{\'Reject this Project\'|translate}} </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment ||bid.project.project_status_id == projectConstant.Completed"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 1)"> {{\'Milestones\'|translate}}</a> </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment ||bid.project.project_status_id == projectConstant.Completed"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 2)"> {{\'Invoices\'|translate}}</a> </li> <li class="cursor" ng-if="(bid.project.project_status_id == projectConstant.UnderDevelopment) && (projectstatus != ProjectStatusConstant.FinalReviewPending)"> <a href="javascript:void(0);" ng-click="AcceptCompleted(bid.project.id)"> {{\'Mark as Completed \'|translate}}</a> </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.UnderDevelopment||bid.project.project_status_id == projectConstant.Completed"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 3)"> {{\'Dispute\'|translate}}</a> </li> <li class="cursor" ng-if="bid.project.project_status_id == projectConstant.FinalReviewPending"> <a href="javascript:void(0);" ng-click="milestonePage(bid.project.id, action, 4)"> {{\'Add Review\'|translate}} / {{\'Update Review\'|translate}} </a> </li> </ul> </div> </span> </div> </div> </div>  </div> <div class="row binding-pagination" ng-show="currentPage > 1"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </section>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_project_draft.html",'<div class="tabs-block container"> <div role="tabpanel" class="tab-pane active" id="projects"> <div class="my-projects clearfix"> <div class="pull-left float-none-xs">  </div> </div>  <div class="actions"> <div class="row"> <div class="col-sm-2"> <p class="no-mar">{{\'Project Name\'| translate}}</p> </div> <div class="col-sm-1"> <p class="no-mar">{{\'Bids\'| translate}}</p> </div> <div class="col-sm-2"> <p class="no-mar">{{\'Freelancer\'| translate}}</p> </div> <div class="col-sm-2"> <p class="no-mar">{{\'Awarded Bid\'| translate}}</p> </div> <div class="col-sm-2"> <p class="no-mar">{{\'Time\'| translate}}</p> </div> <div class="col-sm-1"> <p class="no-mar">{{\'Status\'| translate}}</p> </div> <div class="col-sm-2"> <p class="no-mar">{{\'Action\'| translate}}</p> </div> </div> </div> <hr> <div class="actions" ng-repeat="project in projects"> <div class="row"> <div class="col-sm-2"> <p> <a ui-sref="Bid_ProjectView({id:project.id,slug:project.slug})"> {{project.name}} </a> </p> </div> <div class="col-sm-1"> <p class="no-mar">{{project.project_bid.bid_count}}</p> </div> <div class="col-sm-2"> <p class="no-mar"><a href="users/{{project.project_bid.user.id}}/{{project.project_bid.user.username}}">{{project.project_bid.user.username}}</a></p> </div> <div class="col-sm-2"> <p class="no-mar"> <amount-display amount="{{project.project_range.min_amount}}" ng-if="project.project_range.min_amount"></amount-display> - <amount-display amount="{{project.project_range.max_amount}}" ng-if="project.project_range.max_amount"></amount-display> </p> </div> <div class="col-sm-2"> <p class="no-mar">{{project.created_at }}</p> </div> <div class="col-sm-1"> <p class="no-mar">{{project.project_status.name}}</p> </div> <div class="col-sm-2"> <div class="center-responsive"> <div class="dropdown"> <button class="request-btn btn btn-default dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Action<i class="fa fa-angle-down" aria-hidden="true"></i> </button> <ul class="dropdown-menu dropdown-menu-right"> <li> <a ng-if="project.project_status_id < projectConstant.OpenForBidding" ui-sref="Bid_ProjectEdit({\'id\':project.id})"> <i class="fa fa-edit fa-fw"></i> {{\'Edit\'| translate}} </a> </li> <li> <a href="javascript:void(0);" ng-click="deleteProject(project.id)"> <i class="fa fa-close fa-fw"></i>{{\'Delete\'|translate}} </a> </li> </ul> </div> </div> </div> </div> </div> <div ng-if="projects.length == 0" class="list-group-item project-content"> <p class="no-mar text-center text-danger">{{\'No records available\'| translate}}</p> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_project_past.html",""),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_project_pending.html",'<section class=""> <div class="container"> <div class="row"> <div class="col-xs-12"> <div class="project-contest"> <div class="clearfix"> <div class="navbar-left"> <p class="grayc">Showing <strong class="blackc">{{totalItems}}</strong></p> </div> <ul class="list-inline navbar-right"> <li> <ul class="list-inline"> <li class="grayc">Sort by:</li> <li class="sort"> <div class="dropdown"> <button class="btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"> Newest<span><i class="fa fa-angle-down fa-fw"></i></span> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"> <li><a href="#">Newest</a></li> </ul> </div> </li> </ul> </li> <li> <ul class="list-inline"> <li class="grayc">View</li> <li> <div class="dropdown view"> <button class="btn btn-default dropdown-toggle" type="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"> <i class="fa fa-th fa-fw"></i><span><i class="fa fa-angle-down fa-fw"></i></span> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"> <li><a href="#"><i class="fa fa-th"></i></a></li> <li><a href="#"><i class="fa fa-list"></i></a></li> </ul> </div> </li> </ul> </li> <li class="visible-xs"> <ul class="list-inline"> <li class="grayc">Date:</li> <li><a href="#" class="btn btn-default text-uppercase">started <i class="fa fa-angle-down"></i></a></li> </ul> </li> </ul> </div> <div class="clearfix"> <ul class="list-group custom-binding"> <li class="list-group-item project-heading hidden-xs"> <div class="row"> <div class="col-sm-6"> <h5>PROJECT NAME</h5> </div> <div class="col-sm-6 text-center"> <div class="row"> <div class="col-sm-4"> <h5>Budget</h5> </div> <div class="col-sm-4"> <h5>Status</h5> </div> <div class="col-sm-4"> <h5>Action</h5> </div> </div> </div> </div> </li> <li class="list-group-item project-content" ng-if="projects.length > 0" ng-repeat="project in projects"> <div class="row"> <div class="col-sm-6"> <h5 class="visible-xs">PROJECT NAME</h5> <h5 class="text-18"><a ui-sref="Bid_ProjectView({id:project.id,slug:project.slug})">{{project.name}}</a></h5> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-4"> <span class="visible-xs">Budget</span> <span class="content"> <amount-display amount="{{project.project_range.min_amount}}" ng-if="project.project_range.min_amount"></amount-display> - <amount-display amount="{{project.project_range.max_amount}}" ng-if="project.project_range.max_amount"></amount-display> </span> </div> <div class="col-sm-4"> <span class="visible-xs">Status</span> <span class="content">--</span> </div> <div class="col-sm-4"> <span class="visible-xs">Action</span> <span class="content"> <a ng-if="project.project_status_id < OpenForBidding" ui-sref="Bid_ProjectEdit({\'id\':project.id})"> {{\'Edit\'| translate}} </a> <a ng-if="project.project_status_id == BiddingExpired || project.project_status_id == BiddingClosed" ui-sref="Bid_ProjectEdit({\'id\':project.id,\'status\':\'request_to_open\'})"> {{\'Reopen\'| translate}} </a> <a href="javascript:void(0);" ng-click="deleteProject(project.id)"> {{\'Delete\'| translate}} </a> <a ui-sref="Bid_ProjectPayment({id:project.id,slug:project.slug})" ng-if="PaymentPending == project.project_status_id"> {{\'Pay Listing Fee\'| translate}} </a> </span> </div> </div> </div> </div> </li> <li ng-if="mybids.length == 0" class="list-group-item project-content"> <p class="no-mar text-center">{{\'No Bids\'| translate}}</p> </li> </ul> </div> </div> </div>  </div>  <div class="row binding-pagination"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </section>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_project_progress.html",""),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/my_projects.html",'<div class="section navbar-default"> <div class="container"> <div class="row"> <br> <br> <ul class="list-inline cursor"> <li ng-repeat="projstatus in projectStatus"> <span ng-click="getProjects(projstatus.id)"> {{projstatus.name}} <span class="badge badge-red"> {{projstatus.project_count}}</span> </span> </li>  </ul> <div ng-include="scripts/plugins/Bidding/Bidding/views/default/my_project_draft.html"></div>  </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/project_add.html",'<section class="proj-details"> <div class="container-fluid"> <div class="row"> <div class="col-xs-12"> <div ng-include="\'views/menu.html\'"></div> </div> </div> </div> <div class="login_banner ml-10"> <img src="images/login_banner.png" alt="login-banner" class="img-responsive pos-abs" width="100%"> <div class="container pos-rel"> <h1 class="mt50 whitec">{{\'Post a Job\' | translate}}</h1> </div> </div> <div class="container"> <div class="row"> <div class="col-md-12">  <form class="proj-form" role="form" name="projectFrm" novalidate> <div class="form-group" ng-show="user.role_id == ConstUserRole.Admin && isAuth"> <label>{{\'Employer\'|translate}}</label> <ajax-search-input text-attr="username" container-css-class="span2 form-control emp-text frm-select" query-param="q" selected-item="data.username" ng-model="data.user_id"> </ajax-search-input> </div> <div class="form-group"> <label class="label-title">{{\'Title\'|translate}} <span class="req-color">*</span></label> <p class="label-sub-text">{{\'Name your job\'|translate}}</p> <input type="text" ng-model="data.name" class="form-control" id="projtitle" name="projtitle" required> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.projtitle.$touched) && (projectFrm.projtitle.$pristine || projectFrm.projtitle.$invalid) && (projectFrm.projtitle.$error.required)"> {{\'Required\'| translate }} </span> </div> <div class="form-group mt30"> <label class="label-title">{{\'Category\'|translate}} <span class="req-color">*</span></label> <p class="label-sub-text">{{\'e.g. Graphic Design\'|translate}}</p> <tags-input name="category_select" ng-model="data.category_select" add-from-autocomplete-only="true" on-tag-added="tagAdded($tag)" on-tag-removed="tagRemoved($tag)" replace-spaces-with-dashes="false" ng-required="true"> <auto-complete min-length="1" debounce-delay="0" source="loadCategories($query)"></auto-complete> </tags-input> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.category_select.$touched) && (projectFrm.category_select.$pristine || projectFrm.category_select.$invalid) && (projectFrm.category_select.$error.required)"> {{\'Required\'| translate }} </span> </div> <div class="form-group mt30"> <label class="label-title">{{\'Description\'|translate}} <span class="req-color">*</span></label> <p class="label-sub-text">{{\'Describe what you need done. Be as detailed as possible\'|translate}}</p> <textarea ng-model="data.description" name="description" ng-required="true" ng-if="text_box" rows="8" cols="50" class="form-control"></textarea> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.description.$touched) && (projectFrm.description.$pristine || projectFrm.description.$invalid) && (projectFrm.description.$error.required)"> {{\'Required\'| translate }} </span> </div> <div class="form-group mt30"> <label class="label-title">{{\'Budget Range\'|translate}} <span class="req-color">*</span></label>  <div class="form-group inline-frm"> <div class="row"> <div class="cutom-range" ng-if="show_custom_range"> <div class="col-sm-4"> <div class="input-group"> <span class="input-group-addon" ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">{{settings.CURRENCY_SYMBOL+range.min_amount}}</span> <span class="input-group-addon" ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">{{settings.CURRENCY_CODE+range.min_amount}}</span> <input type="number" ng-model="data.custom_range.min_amount" name="min_amount" ng-required="show_custom_range" class="form-control" id="min_amount" min="1" placeholder="E.g $500" number-only> </div> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.min_amount.$touched) && (projectFrm.min_amount.$pristine || projectFrm.min_amount.$invalid) && (projectFrm.min_amount.$error.required)">{{\'Required\'|translate}}</span> <span class="error" ng-show="projectFrm.min_amount.$error.min && !projectFrm.min_amount.$error.required">{{\'Enter the valid amount\'|translate}}</span> </div> <div class="col-sm-1 mt10 text-center"> <p>to</p> </div> <div class="col-sm-4"> <div class="input-group"> <span class="input-group-addon" ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">{{settings.CURRENCY_SYMBOL+range.max_amount}}</span> <span class="input-group-addon" ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">{{settings.CURRENCY_CODE+range.max_amount}}</span> <input type="number" name="max_amount" ng-model="data.custom_range.max_amount" ng-required="show_custom_range" id="max_amount" class="form-control" placeholder="E.g $5000" min="1" number-only> </div> <span class="error" ng-show="data.custom_range.min_amount >= data.custom_range.max_amount">{{\'Maximum Budget should be greater than minimum Budget\'| translate }}</span> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.max_amount.$touched) && (projectFrm.max_amount.$pristine || projectFrm.max_amount.$invalid) && (projectFrm.max_amount.$error.required)">Required</span> <span class="error" ng-show="projectFrm.max_amount.$error.min && !projectFrm.max_amount.$error.required">{{\'Enter the valid amount\'|translate}}</span> </div> </div> </div> </div> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.project_range_id.$touched) && (projectFrm.project_range_id.$pristine || projectFrm.project_range_id.$invalid) && (projectFrm.project_range_id.$error.required)"> {{\'Required\'| translate }} </span> </div> <div class="form-group mt30"> <label class="label-title">{{\'Duration\'|translate}} <span class="req-color">*</span></label> <p class="label-sub-text">{{\'When do you need this job completed by\'|translate}}</p> <div class="row"> <div class="col-sm-4"> <input type="number" name="bid_duration" ng-model="data.bid_duration" class="form-control" ng-required="true" number-only id="bid_duration" min="1">  <span class="error" ng-if="(data.bid_duration > project_bidding_fee) && (project_bidding_fee !== 0) &&(projectFrm.bid_duration.$error)"><small class="text-12">{{\'Specify the Number of Days to Allow of Bidding. Maximum days: \'| translate}} {{project_bidding_fee}}</small></span> <div> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.bid_duration.$touched) && (projectFrm.bid_duration.$pristine || projectFrm.bid_duration.$invalid) && (projectFrm.bid_duration.$error.required)"> {{\'Required\'| translate}} </span> </div> </div> </div> </div>  <div class="form-group"> <p class="label-title">File</p> <div class="panel"> <div class="panel-body pad0"> <div class="row"> <div class="col-sm-5"> <label class="fileinput-button btn-block"> <input type="file" ngf-select ng-model="file" name="file" ng-change="upload(file)" class="underline text-red"> <img ng-src="images/upload_button.png"> </label> <div ng-if="$root.settings.ALLOWED_EXTENSIONS_FOR_PROJECT_DOCUMENT_FILE"> <span class="grayc help-block">{{\'Allowed extensions:\'|translate}} {{$root.settings.ALLOWED_EXTENSIONS_FOR_PROJECT_DOCUMENT_FILE}}</span> <span class="error bot-space" ng-if="error_message && error_message !== \'\'"> {{error_message}}</span> </div> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.file.$touched) && (projectFrm.file.$pristine || projectFrm.file.$invalid) && (projectFrm.file.$error.required)"> {{\'Required\'| translate }} </span> <img ngf-src="file" alt="[Image: Group]" title="Group" class="img-responsive center-block"> <div ng-bind="file.name" class="navbar-btn"></div> </div> <div class="col-sm-7"> <p class="upload-img-txt"> {{\'Upload any images or document that might helpful in explaining your brief \'|translate}} </p> </div> </div> </div> </div> </div>    <div class="form-group"> <button title="Save as Draft" ng-show="save_btn" class="btn btn-danger" disabled>{{\'Save as Draft\'|translate}}</button> <button title="Save as Draft" type="sumbit" ng-show="!save_btn" ng-click="postProject(projectFrm.$valid, projectFrm ,data, 1)" class="btn btn-danger">{{\'Save as Draft\'|translate}}</button> <button type="submit" ng-show="save_btn" class="btn btn-primary" disabled>{{\'Publish this Project\'|translate}}</button> <button title="Publish this Project" type="submit" ng-click="postProject(projectFrm.$valid, projectFrm, data, 2)" class="btn btn-primary" ng-show="!save_btn">{{\'Publish this Project\'|translate}}</button> </div> </form> </div>  </div> </div> </section>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/project_bookmarks.html",'<div class="container photo-view"> <div> <h3>Bookmarked Projects</h3> <div class="project-contest"> <div class="clearfix"> <ul class="list-group custom-binding bookmark-list"> <li class="list-group-item project-heading hidden-xs"> <div class="row"> <div class="col-md-4 col-sm-3"> <h5>Project</h5> </div> <div class="col-md-8 col-sm-9 text-center"> <div class="row"> <div class="col-sm-3"> <h5>Bids/entries</h5> </div> <div class="col-sm-3"> <h5>{{\'Started\'|translate}}</h5> </div> <div class="col-sm-3"> <h5>{{\'Price\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span></h5> </div> <div class="col-sm-3"> <h5>UnBookMark <i class="fa fa-bookmark fa-fw text-danger" title="bookmarked" aria-hidden="true"></i> </h5> </div> </div> </div> </div> </li> <li class="list-group-item project-content" ng-repeat="BookMark in BookMarks"> <div class="row"> <div class="col-md-4 col-sm-3"> <h5 class="visible-xs">Project</h5> <h5 class="text-18"> <a ui-sref="Bid_ProjectView({id:BookMark.id, slug:BookMark.slug})" class="no-pad"> {{BookMark.name}} </a> </h5> <p class="multiline-ellipsis" ng-bind-html="BookMark.description"></p> </div> <div class="col-md-8 col-sm-9"> <div class="row"> <div class="col-sm-3"> <span class="visible-xs">Bids/entries:</span> <span class="content" ng-if="BookMark.project_bid.bid_count != null">{{BookMark.project_bid.bid_count}}</span> <span class="content" ng-if="BookMark.project_bid.bid_count == null">0</span> </div> <div class="col-sm-3"> <span class="visible-xs">Date:</span> <span class="content">{{BookMark.created_at | timeago}}</span> </div> <div class="col-sm-3"> <span class="visible-xs">{{\'Price\'|translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span> </span> <span class="content">{{\'Min Amount\'|translate}} : <amount-display amount="{{BookMark.project_range.min_amount}}" ng-if="BookMark.project_range.min_amount"></amount-display> {{\'Max Amount\'|translate}} : <amount-display amount="{{BookMark.project_range.max_amount}}" ng-if="BookMark.project_range.max_amount"></amount-display> </span> </div> <div class="col-sm-3" ng-repeat="mark in BookMark.follower"> <span class="visible-xs">{{\'Delete\'|translate}}</span> <span class="content"><button type="button" class="btn btn-primary" ng-click="deleteBookMarks(mark.id)">{{\'UnBookMark\'|translate}}</button></span> </div> </div> </div> </div> </li> <li ng-if="BookMarks.length == 0" class="list-group-item project-content"> <p class="no-mar text-danger text-center">{{\'No BookMarked Projects\'| translate}}</p> </li> </ul> </div> </div> </div> </div>  <div class="binding-pagination clearfix"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/project_edit.html",'<section class="proj-details" ng-if="!showform"> <div class="container"> <div class="row"> <div class="col-md-8"> <h2>{{\'Edit Project\'|translate}} - {{data.name}}</h2> <form class="proj-form" role="form" name="projectFrm" novalidate> <div class="form-group" ng-if="data.project_status_id < OpenForBidding"> <label>{{\'Project Name\'|translate}}</label> <input type="text" class="form-control" name="projtitle" placeholder="e.g., Build a Website" ng-model="data.name" ng-required="true"> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.projtitle.$touched) && (projectFrm.projtitle.$pristine || projectFrm.projtitle.$invalid) && (projectFrm.projtitle.$error.required)"> {{\'Required\'| translate }} </span> </div> <div class="form-group"> <div ng-if="data.project_status_id < OpenForBidding"> <label>{{\'Describe about Your Project\'|translate}} </label> <textarea ng-model="data.description" name="description" ng-required="true" placeholder="Describe about Your Project Here..." rows="6" cols="50" class="form-control"></textarea> </div> <div ng-if="data.project_status_id >= OpenForBidding"> <label>{{\'Add More Description\'|translate}}</label> <textarea ng-model="data.additional_descriptions" name="additionDescription" placeholder="Describe more about Your Project Here..." ng-if="text_box" required rows="6" cols="50" class="form-control"></textarea> <span class="error" ng-if="(projectFrm.$submitted || projectFrm.additionDescription.$touched) && (projectFrm.additionDescription.$pristine || projectFrm.additionDescription.$invalid) && (projectFrm.additionDescription.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> <div class="form-group frm-select"> <div ng-if="data.project_status_id < OpenForBidding"> <label>{{\'Budget Range\'|translate}}</label> <select class="form-control" name="project_range_id" ng-change="customRange(data.project_range_id)" ng-model="data.project_range_id" ng-options="range.id as range.name for range in projectRanges" ng-required="true"> <option value=""> {{\'Select Your Budget Range\'|translate}}</option> </select> <span class="grayc"><small>{{\'Freelancer can bid their proposals between this budget range.\'|translate}}</small></span> <div class="form-group inline-frm"> <div class="row"> <div class="cutom-range" ng-if="show_custom_range"> <div class="col-sm-4"> <label>{{\'Minimum Budget\'|translate}}</label> <div class="input-group"> <span class="input-group-addon">{{settings.CURRENCY_SYMBOL+range.min_amount}}</span> <input type="number" ng-model="data.custom_range.min_amount" name="min_amount" ng-required="show_custom_range" class="form-control" number-only id="min_amount" min="1"> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}})</span> {{projectFrm.min_amount.$error.min}}  </div> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.min_amount.$touched) && (projectFrm.min_amount.$pristine || projectFrm.min_amount.$invalid) && (projectFrm.min_amount.$error.required)">{{\'Required\'|translate}}</span> <span class="error" ng-show="projectFrm.min_amount.$error.min && !projectFrm.min_amount.$error.required">{{\'Enter the Valid Amount\'|translate}}</span> </div> <div class="col-sm-4"> <label>{{\'Maximum Budget\'|translate}} </label> <div class="input-group"> <span class="input-group-addon">{{settings.CURRENCY_SYMBOL+range.max_amount}}</span> <input type="number" ng-model="data.custom_range.max_amount" ng-required="show_custom_range" class="form-control" name="max_amount" id="max_amount" min="1" number-only> </div> <span class="error" ng-show="data.custom_range.min_amount >= data.custom_range.max_amount">{{\'Maximum Budget should be greater than minimum Budget\'| translate }}</span> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.max_amount.$touched) && (projectFrm.max_amount.$pristine || projectFrm.max_amount.$invalid) && (projectFrm.max_amount.$error.required)">Required</span> <span class="error" ng-show="projectFrm.max_amount.$error.min && !projectFrm.max_amount.$error.required">{{\'Enter the Valid Amount\'|translate}}</span> </div> </div> </div> </div> </div>  <div ng-if="data.project_status_id < OpenForBidding"><label>{{\'What Type of Work Do You Require\'|translate}}?</label> <tags-input name="category_select" ng-model="data.category_select" placeholder="Choose Your Work Categories" ng-required="true" add-from-autocomplete-only="true" on-tag-added="tagAdded($tag)" on-tag-removed="tagRemoved($tag)" replace-spaces-with-dashes="false"> <auto-complete source="loadCategories($query)"></auto-complete> </tags-input> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.category_select.$touched) && (projectFrm.category_select.$pristine || projectFrm.category_select.$invalid) && (projectFrm.category_select.$error.required)"> {{\'Required\'| translate }} </span> </div>  <div class="form-group" ng-if="data.project_status_id < OpenForBidding"> <label>{{\'Bidding Duration\'|translate}} ({{\'Days\'|translate}}) </label> <input type="number" name="bid_duration" ng-model="data.bid_duration" class="form-control" placeholder="e.g., 10" ng-required="true" number-only string-to-number min="1" id="bid_duration"> <span class="grayc">{{\'Specify the Number of Days to Allow of Bidding\'|translate}}. <span ng-hide="(project_bidding_fee == 0) || (data.bid_duration > project_bidding_fee)"> {{\'Maximum days:\'|translate}}{{project_bidding_fee}}</span> </span> <span class="error" ng-if="(data.bid_duration > project_bidding_fee) && (project_bidding_fee !== 0) &&(projectFrm.bid_duration.$error)"><small>{{\'Specify the Number of Days to Allow of Bidding. Maximum days: \'| translate}} {{project_bidding_fee}}</small></span> <div class="top-mspace"> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.bid_duration.$touched) && (projectFrm.bid_duration.$pristine || projectFrm.bid_duration.$invalid) && (projectFrm.bid_duration.$error.required)"> {{\'Required\'| translate}} </span> </div> </div>   <div class="form-group"><label>{{\'What Skills Are Required\'|translate}}?</label> <tags-input name="skill_select" ng-model="data.skill_select" placeholder="What Skills Are Required?" ng-required="true" on-tag-added="tagAdded($tag)" on-tag-removed="tagRemoved($tag)" replace-spaces-with-dashes="false" add-on-enter="true"> <auto-complete debounce-delay="0" source="loadSkills($query)"></auto-complete> </tags-input> <span class="error" ng-if="(projectFrm.$submitted || projectFrm.skill_select.$touched) && (projectFrm.skill_select.$pristine || projectFrm.skill_select.$invalid) && (projectFrm.skill_select.$error.required)"> {{\'Required\'| translate }} </span></div>  <div class="form-group" ng-if="data.project_status_id < OpenForBidding"> <div class="panel"> <div class="panel-body"> <div class="row"> <div class="col-sm-5"> <label class="fileinput-button btn-block"> <input type="file" ngf-select ng-model="file" name="file" ng-change="upload(file)" class="underline text-red"> <i class="fa fa-plus fa-fw" aria-hidden="true"></i> {{\'Upload File\'|translate}} </label> <span class="error" ng-show="(projectFrm.$submitted || projectFrm.file.$touched) && (projectFrm.file.$pristine || projectFrm.file.$invalid) && (projectFrm.file.$error.required)"> {{\'Required\'| translate }} </span> <div ng-if="$root.settings.ALLOWED_EXTENSIONS_FOR_PROJECT_DOCUMENT_FILE"> <span class="grayc help-block">{{\'Allowed extensions:\'|translate}} {{$root.settings.ALLOWED_EXTENSIONS_FOR_PROJECT_DOCUMENT_FILE}}</span> <span class="error bot-space" ng-if="error_message && error_message !== \'\'"> {{error_message}}</span> </div> <div class="clearfix" ng-show="!file"> <p>{{project_filename}}</p>  </div>   <div ng-show="file"> <img ngf-src="file" alt="[Image: Group]" title="Group" class="img-responsive center-block"> <div ng-bind="file.name" class="navbar-btn"></div> </div> </div> <div class="col-sm-7"> <p> {{\'Drag and Drop Any Image or Document That Might Be Helpful In Explaining Your Project Brief Here\'|translate}}</p> </div> </div> </div> </div> </div> </div>  <div class="form-group option-blk" ng-if="data.project_status_id == Draft || data.project_status_id == paymentPending"> <div class="panel"> <h4 class="hor-space alert alert-info text-left blackc">{{\'Listing fee\'| translate}}: <span ng-if="settings.PROJECT_LISTING_FEE == 0"> {{\'Free\'|translate}} </span> <span ng-if="settings.PROJECT_LISTING_FEE > 0"> <amount-display amount="{{settings.PROJECT_LISTING_FEE}}" ng-if="settings.PROJECT_LISTING_FEE"></amount-display> </span> </h4> <h3>{{\'Get the most from project! (optional)\'|translate}}</h3> <ul class="list-unstyled"> <li> <div class="option-innr"> <div class="row"> <div class="col-sm-3"> <div class="pull-left"> <div class="form-group"> <div class="checkbox"> <label for="is_featured"> <input type="checkbox" ng-model="data.is_featured" ng-click="projectFeatureFeeAdd(settings.PROJECT_FEATURED_FEE)" name="featured" class="form-control" id="is_featured" ng-required="false"> <span></span> </label> </div> </div> </div> <div class="pull-right"> <div class="form-group"> <div class="label label-info label-orage">{{\'Featured\'|translate}}</div> </div> </div> </div> <div class="col-sm-9"> <div class="row"> <div class="col-sm-10"> <h4>250% {{\'Higher success rate\'|translate}}!</h4> <p> {{\'Our hands on recruitment service ensures you get the best results from your project. Our recruiters personally review your proposals saving you time vetting freelancers. Let us find to right person for the job\'|translate}}. </p> </div> <div class="col-sm-2"> <h4> <span ng-if="settings.PROJECT_FEATURED_FEE == 0"> {{\'Free\'|translate}} </span> <span ng-if="settings.PROJECT_FEATURED_FEE > 0"> <amount-display amount="{{settings.PROJECT_FEATURED_FEE}}" ng-if="settings.PROJECT_FEATURED_FEE"></amount-display> </span> </h4> </div> </div> </div> </div> </div> </li> <li> <div class="option-innr"> <div class="row"> <div class="col-sm-3"> <div class="pull-left"> <div class="form-group"> <div class="checkbox"> <label for="is_urgent"> <input type="checkbox" ng-model="data.is_urgent" ng-click="projectUrgentFeeAdd(settings.PROJECT_URGENT_FEE)" name="urgent" class="form-control" id="is_urgent" ng-required="false"> <span></span> </label> </div> </div> </div> <div class="pull-right"> <div class="form-group"> <div class="label label-info label-red">{{\'Urgent\'|translate}}</div> </div> </div> </div> <div class="col-sm-9"> <div class="row"> <div class="col-sm-10"> <p> {{\'Our hands on recruitment service ensures you get the best results from your project. Our recruiters personally review your proposals saving you time vetting freelancers. Let us find to right person for the job\'|translate}}. </p> </div> <div class="col-sm-2"> <h4> <span ng-if="settings.PROJECT_URGENT_FEE == 0"> {{\'Free\'|translate}} </span> <span ng-if="settings.PROJECT_URGENT_FEE > 0"> <amount-display amount="{{settings.PROJECT_URGENT_FEE}}" ng-if="settings.PROJECT_URGENT_FEE"></amount-display> </span> </h4> </div> </div> </div> </div> </div> </li> <li> <div class="option-innr"> <div class="row"> <div class="col-sm-3"> <div class="clearfix"> <div class="pull-left"> <div class="form-group"> <div class="checkbox"> <label for="is_private"> <input type="checkbox" ng-model="data.is_private" ng-click="projectPrivateFeeAdd(settings.PROJECT_PRIVATE_PROJECT_FEE)" name="private" class="form-control" id="is_private" ng-required="false"> <span></span> </label> </div> </div> </div> <div class="pull-right"> <div class="form-group"> <div class="label label-info label-blue">{{\'Private\'|translate}}</div> </div> </div> </div> </div> <div class="col-sm-9"> <div class="row"> <div class="col-sm-10"> <p>{{\'I want to hide project details from search engines and users that are not logged in. This feature is recommended for projects where confidentiality is a must\'|translate}}. </p> </div> <div class="col-sm-2"> <h4> <span ng-if="settings.PROJECT_PRIVATE_PROJECT_FEE == 0"> {{\'Free\'|translate}} </span> <span ng-if="settings.PROJECT_PRIVATE_PROJECT_FEE > 0"> <amount-display amount="{{settings.PROJECT_PRIVATE_PROJECT_FEE}}" ng-if="settings.PROJECT_PRIVATE_PROJECT_FEE"></amount-display> </span> </h4> </div> </div> </div> </div> </div> </li> <li> <div class="option-innr"> <div class="row"> <div class="col-sm-3"> <div class="clearfix"> <div class="pull-left"> <div class="form-group"> <div class="checkbox"> <label for="is_hidden"> <input type="checkbox" ng-model="data.is_hidded_bid" ng-click="projectHiddenFeeAdd(settings.PROJECT_HIDDEN_BID_FEE)" name="is_hidden" class="form-control" id="is_hidden" ng-required="false"> <span></span> </label> </div> </div> </div> <div class="pull-right"> <div class="form-group"> <div class="label label-info label-gray">{{\'SEALED\'|translate}}</div> </div> </div> </div> </div> <div class="col-sm-9"> <div class="row"> <div class="col-sm-10"> <p>{{\'I want all bids to be sealed so that freelancers cannot see what others are bidding, leading to more accurate, higher quality proposals\'|translate}}. </p> </div> <div class="col-sm-2"> <h4> <span ng-if="settings.PROJECT_HIDDEN_BID_FEE == 0"> {{\'Free\'|translate}} </span> <span ng-if="settings.PROJECT_HIDDEN_BID_FEE > 0"> <amount-display amount="{{settings.PROJECT_HIDDEN_BID_FEE}}" ng-if="settings.PROJECT_HIDDEN_BID_FEE"></amount-display> </span> </h4> </div> </div> </div> </div> </div> </li> </ul> </div> <p class="pull-right total-fee"> <label for="is_total">{{\'PROJECT TOTAL FEE\'|translate}}</label> <span class="js-total"> <label ng-if="PROJECT_TOTAL_FEE == 0"> ({{\'Free\'|translate}}) </label> <label ng-if="PROJECT_TOTAL_FEE > 0"> <strong class="total-fee-amount"> <amount-display amount="{{PROJECT_TOTAL_FEE}}" ng-if="PROJECT_TOTAL_FEE && amount_find"></amount-display></strong> </label> </span> </p> </div> <div class="form-group" ng-if="data.project_status_id == Draft"> <button title="Save as Draft" type="button" ng-click="postProject(projectFrm.$valid, data, 1)" class="btn btn-danger">{{\'Save as Draft\'|translate}}</button> <button type="submit" ng-show="save_btn" class="btn btn-primary" disabled>{{\'Publish this Project\'|translate}}</button> <button title="Publish this Project" type="submit" ng-click="postProject(projectFrm.$valid, data, 2)" class="btn btn-primary" ng-show="!save_btn">{{\'Publish this Project\'|translate}}</button> </div> <div class="form-group" ng-if="data.project_status_id != Draft"> <button type="submit" ng-show="save_btn" class="btn btn-primary" disabled>{{\'Update\'|translate}}</button> <button title="Update" type="submit" ng-click="postProject(projectFrm.$valid, data, 3)" class="btn btn-primary" ng-show="!save_btn">{{\'Update\'|translate}}</button> </div> </form> </div> <div class="col-md-4"> <div class="post-project"> <div class="bg-primary"> <h4 class="text-center no-mar">{{"Post your project"|translate}}</h4> </div> <ul class="list-unstyled clearfix"> <li> <span class="sprite sprite-head-check2"> </span> <span class="menu-content"> {{\'Get bid from skilled freelancer in minutes\'|translate}}. </span> </li> <li> <span class="sprite sprite-head-check2"> </span> <span class="menu-content"> {{\'View freelancer profiles and feeback and choose best freelancer\'|translate}}.</span> </li> <li> <span class="sprite sprite-head-check2"> </span> <span class="menu-content"> {{"Pay the freelancer once you\'re 100% satisfied"|translate}}. </span> </li><li ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Milestone\') && settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_MILESTONE"> <span class="sprite sprite-head-check2"> </span> <span class="menu-content"> {{"Milestone payment commission"|translate}}: {{settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_MILESTONE}}%</span> </li> <li ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Invoice\') && settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_INVOICE"> <span class="sprite sprite-head-check2"> </span> <span class="menu-content"> {{"Invoice payment commission"|translate}}: {{settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_INVOICE}}%</span> </li>  </ul> </div> </div> </div> </div> </section>     '),
$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/project_payment.html",'<div class="section" ng-controller="ProjectPaymentController"> <div class="container"> <div class="row"> <div class="modal-header photo-view"> <h3>{{\'Listing fee for\'|translate}} {{projectTitle}}</h3> </div> <div class="modal-body"> <div class=""> <div class=""> <div class="clearfix"> <form name="PaymentForm" role="form" ng-submit="PaymentFormSubmit(PaymentForm.$valid)"> <div class="panel navbar-btn clearfix"> <div class="panel-body col-xs-12">  <div class="col-xs-12 text-center navbar-btn"> <p class="text-22 textb" ng-show="quote_request_views_detail.quote_amount && show_discount"> {{"Price" | translate }} <amount-display amount="{{quote_request_views_detail.quote_amount}}" ng-if="quote_request_views_detail.quote_amount"></amount-display> </p> <p class="text-22 textb" ng-show="show_discount"> {{"Coupon discount" | translate }} {{show_discount}}</p> <p class="text-22 textb"> {{"You have to pay" | translate }} <amount-display amount="{{total_listing_fee}}" ng-if="total_listing_fee"></amount-display> </p> </div> </div> <div ng-include="\'views/gateway.html\'" class="col-xs-12"></div> </div> </form> </div> </div> </div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/project_view.html",'<div class="container-fluid mt50"> <div class="row"> <div class="col-xs-12"> <div ng-include="\'views/menu.html\'"></div> </div> </div> </div> <div class="login_banner"> <img src="images/login_banner.png" alt="login-banner" class="img-responsive pos-abs" width="100%"> <div class="container pos-rel"> <h1 class="mt50 whitec">{{project.name}}</h1> </div> </div> <div class="container" ng-if="show_response_page == true"> <div class="project-bid-block"> <div class="row"> <div class="col-sm-3"> <div class="img-hodler"> <div> <a href="users/{{project.user.id}}/{{project.user.username}}" ng-if="$root.user.role_id == 1 || project.freelancer_user_id == $root.user.id"> <img ng-src="{{project.user.user_avatar_url}}" class="img-responsive img-circle project-med" title="{{project.user.username}}" alt="[Image: {{project.user.username}}]"> </a> <span ng-if="$root.user.role_id != 1 && (project.freelancer_user_id != $root.user.id || project.freelancer_user_id == null)"> <img src="images/default.png" class="img-responsive img-circle project-med"> </span> </div> </div> </div> <div class="col-sm-6"> <div class="row"> <div class="col-sm-6"> <h3><amount-display amount="{{project.project_range.min_amount}}" ng-if="project.project_range.min_amount"></amount-display> - <amount-display amount="{{project.project_range.max_amount}}" ng-if="project.project_range.max_amount"></amount-display></h3> </div> <div class="col-sm-6"> <h3 ng-bind-html="project.description | nl2br | limitTo : 35"></h3> </div> </div> <div class="row"> <div class="col-sm-12"> <h3> J-Looks </h3> </div> </div> <div class="row"> <div class="col-sm-8"> <h3> Brief </h3> <p ng-bind-html="project.additional_descriptions | nl2br"></p> </div> <div class="col-sm-4"> <h4>Time : 2 Weeks</h4> <h4>Style : Modern</h4> <h4>Level :n/a</h4> </div> </div> </div> <div class="col-sm-3"> <h3>1 Day ago</h3> <div class="int-btn"> <div class="col-sm-12"> <a class="btn btn-gray mt50" ui-sref="Bid_ProjectAdd()" ng-if="$root.user.role_id == $root.ConstUserRole.User || $root.user.role_id == $root.ConstUserRole.Employer">Interested</a> </div> <div class="col-sm-12 mt10"> <a class="btn btn-orange" ui-sref="Bid_ProjectAdd()" ng-if="$root.user.role_id == $root.ConstUserRole.User || $root.user.role_id == $root.ConstUserRole.Employer">See Brief</a> </div> </div> </div> </div> </div> <hr class="mt30"> <div class="project-details-block"> <div class="row"> <div class="col-sm-2 col-sm-offset-1"> <div class="img-hodler"> <div> <a href="users/{{project.user.id}}/{{project.user.username}}" ng-if="$root.user.role_id == 1 || project.freelancer_user_id == $root.user.id"> <img ng-src="{{project.user.user_avatar_url}}" class="img-responsive img-circle project-med" title="{{project.user.username}}" alt="[Image: {{project.user.username}}]"> </a> <span ng-if="$root.user.role_id != 1 && (project.freelancer_user_id != $root.user.id || project.freelancer_user_id == null)"> <img src="images/default.png" class="img-responsive img-circle project-med"> </span> </div> </div> </div> <div class="col-sm-9"> <h2>Project Price <amount-display amount="{{project.project_range.min_amount}}" ng-if="project.project_range.min_amount"></amount-display> - <amount-display amount="{{project.project_range.max_amount}}" ng-if="project.project_range.max_amount"></amount-display></h2> <h2>Bids {{(project.project_bid.bid_count != null)?project.project_bid.bid_count: \'0\'}}</h2> </div> </div> <div class="row"> <div class="col-sm-9 col-sm-offset-1 mt50"> <h2>Project Description</h2> <p ng-bind-html="project.description | nl2br"></p> </div> <div class="col-sm-9 col-sm-offset-1 mt50"> <h2>Additional Information</h2> <p ng-bind-html="project.additional_descriptions | nl2br"></p> </div> <div class="col-sm-11 col-sm-offset-1 mt50"> <h2>Image Reference</h2> <file-download attachment="{{project.attachment}}" downloadlable="{{project.attachment.filename}}" ng-if="project.attachment"> {{project.attachment.filename}} </file-download> <file-download attachment="{{project.attachment}}" downloadlable="<i class=\'fa fa-download\'> </i>" ng-if="project.attachment"></file-download> </div> </div> </div>          <bidding-list ng-if="project.id" project="{{project.id}}" projectuser="{{project.user_id}}" projectstatus="{{project.project_status_id}}" hiddienbid="{{project.is_hidded_bid}}" isbid="{{is_already_bidded}}" projectbidid="{{project.project_bid.id}}" isprojectcancel="{{isprojectcancel}}" isdispute="{{project.is_dispute}}" id="bidsAll"></bidding-list> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/project_view_share.html",'<div class="share project-share"> <div ng-click="ShareModel()"> <ul class="list-inline cursor no-mar"> <li class="share-border status-show"> <a href="" class="text-primary"> <i class="fa fa-plus"></i></a> <span>{{\'Share\'|translate}}</span> </li>  </ul> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/project_view_share_modal.html",'<div class="modal-content"> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="closeInstance()">&times;</button> <h3 class="text-center no-mar pull-left">{{\'Social Share\'|translate}}</h3> </div> <div class="modal-body contest-share-modal"> <ul class="list-inline text-center social-btn"> <li ng-if="$root.twitter_provider != null"> <a href="projects/view/{{project.id}}/{{project.slug}}" class="btn btn-twitter" socialshare socialshare-provider="twitter" socialshare-text="{{project.name}}" socialshare-hashtags="{{project.user.username}}" socialshare-url="{{absUrl}}"> <i class="fa fa-twitter" aria-hidden="true"></i> {{\'Twitter\'|translate}}</a> </li> <li ng-if="$root.facebook_provider != null"> <a href="projects/view/{{project.id}}/{{project.slug}}" class="btn btn-facebook" socialshare socialshare-provider="facebook" socialshare-title="{{project.name}}" socialshare-type="share" socialshare-description="{{project.description}}" socialshare-media="" socialshare-via="{{$root.facebook_provider}}" socialshare-display="popup" socialshare-quote="{{project.name}}" socialshare-hashtags="{{project.user.username}}" socialshare-caption="{{project.name}}" socialshare-mobileiframe="true" socialshare-url="{{absUrl}}"> <i class="fa fa-facebook" aria-hidden="true"></i> {{\'Facebook\'|translate}} </a> </li> <li> <a href="projects/view/{{project.id}}/{{project.slug}}" class="btn btn-pinterest" socialshare socialshare-provider="pinterest" socialshare-text="{{project.name}}" socialshare-media="" socialshare-url="{{absUrl}}"> <i class="fa fa-pinterest" aria-hidden="true"></i> {{\'Pinterest\'|translate}} </a> </li> <li ng-if="$root.google_provider != null"> <a href="projects/view/{{project.id}}/{{project.slug}}" class="btn btn-google" socialshare socialshare-provider="google" socialshare-url="{{absUrl}}"> <i class="fa fa-google-plus" aria-hidden="true"></i> {{\'Google+\'|translate}} </a> </li> </ul> </div> <div class="modal-footer"> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/projects.html",'<main id="main" class="main">  <section class="binding-freelancer"> <div class="login_banner"> <img src="images/login_banner.png" alt="login-banner" class="img-responsive pos-abs" width="100%"> <div class="container pos-rel"> <h1 class="mt50 whitec">{{\'Find Works\' | translate}}</h1> </div> </div> <div class="container-fluid"> <div class="row"> <div ng-if="(type == \'bookmarked\')" class="col-xs-12"> <h4 class="text-22 bot-15-space">{{\'Bookmarked Projects\'|translate}}</h4> </div> <div ng-if="(type == \'my_skills\')" class="col-xs-12"> <h4 class="text-22 bot-15-space">{{\'Projects with My Skills\'|translate}}</h4> </div> <div class="col-sm-3">  <form class="form-horizontal" ng-submit="refinesearch(data)" novalidate>  <div class="form-group has-feedback">    <div class="col-md-10 col-sm-12"> <h3>All Categories</h3>  <ul class="list-unstyled"> <li class="text-muted checkbox" ng-repeat="parentCategory in projectCategories"> <div class="checkbox"> <label> <input type="checkbox" ng-click="Searchcategory(\'category\')" ng-model="categories_add[parentCategory.id]" value="parentCategory.id"> <span> {{parentCategory.name}}</span></label> </div> </li> </ul> </div> <div class="col-md-10 col-sm-12"> <h3>Location</h3> <div class="checkbox"> <label for="checkbox{{$index}}"> <input type="checkbox" name="user_skill" checklist-model="skill_select" ng-model="skill_select" checklist-value="skill.id"> <span>{{\'All\' | translate}}</span> </label> </div> <div class="checkbox"> <label for="checkbox{{$index}}"> <input type="checkbox" name="user_skill" checklist-model="skill_select" ng-model="skill_select" checklist-value="skill.id"> <span>{{\'Australia\' | translate}}</span> </label> </div> <div class="checkbox"> <label for="checkbox{{$index}}"> <input type="checkbox" name="user_skill" checklist-model="skill_select" ng-model="skill_select" checklist-value="skill.id"> <span>{{\'New Zealand\' | translate}}</span> </label> </div> <div class="checkbox"> <label for="checkbox{{$index}}"> <input type="checkbox" name="user_skill" checklist-model="skill_select" ng-model="skill_select" checklist-value="skill.id"> <span>{{\'US\' | translate}}</span> </label> </div> </div> </div> </form> </div>  <div class="col-sm-9"> <div class="project-contest"> <div class="clearfix"> <div class="navbar-left"> <p class="grayc">{{\'Showing\'|translate}} <strong class="blackc">{{totalItems}}</strong> {{\'were found based on your criteria\'|translate}}</p> </div> </div> <div class="clearfix"> <ul class="list-unstyled no-pad"> <li class="list-group-item freelancher-innerblock border-none users-index" ng-repeat="project in projects"> <div class="clearfix"> <div class="media freelancer-media"> <div class="pull-left"> <div class="freelancherprotfolio"> <div class="navbar-left"> <div class="freelancheruserimage"> <a href="users/{{user.id}}/{{user.username}}"> <h5 class="img-resposnive center-block user-med"></h5> </a> </div> </div> </div> </div> <div class="media-body"> <div class="row"> <div class="col-sm-6"> <div class="freelancherdetail"> <a ui-sref="Bid_ProjectView({id:project.id, slug:project.slug})"> <h2 class="no-mar blackc text-b">{{project.name}}</h2> </a> <ul class="list-unstyled navbar-nav gold-verified"> <li><span class="ml10"> <img ng-src="images/gold.png"></span>Gold</li> <li><span class="ml10"> <img ng-src="images/verified.png"></span>Verified</li> </ul> <span class="mt10"><img ng-src="images/star.png"> <img ng-src="images/star.png"> <img ng-src="images/star.png"> <img ng-src="images/star.png"> <img ng-src="images/star.png"></span>  </div> <div class="info-skills bot-space-10" ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/BiddingReview\') > -1 || settings.SITE_ENABLED_PLUGINS.indexOf(\'Contest/ContestReview\') > -1 || settings.SITE_ENABLED_PLUGINS.indexOf(\'Quote/QuoteReview\') > -1">  <ul class="list-inline show-Skills"> <li ng-repeat="exam_user in user.exams_users" class="skill-certificate"> <div ng-if="exam_user.user_id == user.id"> <div class="pull-left"> <div class="no-mar" ng-mouseover="showhideSkills(user.id, 1, exams.exam_id)"> <a href="#"> <img ng-src="{{exam_user.exam_image}}" alt="\n                                                                                        {{exam_user.title}}" class="img-min"> </a> </div> </div> <div class="user-certificate-skills" id="skills-{{user.id}}" ng-mouseleave="showhideSkills(user.id,2)"> <h5 class="text-b"> {{\'Passed Freelancer Certifications\' | translate}}</h5> <div class="clearfix" ng-repeat="exam_user in user.exams_users"> <div class="pull-left"> <a href="#" title="{{exam_user.exam.title}}" class="text-info"> {{exam_user.exam.title}} </a> {{exam_user.exam_level.name}} ({{exam_user.exam_user_per |number:0}}%, {{exam_user.percentile_rank}} percentile) </div> </div> </div> </div> </li> </ul> </div> <ul class="list-inline project-content" ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Bidding\') > -1 || settings.SITE_ENABLED_PLUGINS.indexOf(\'Job/Job\') > -1 || settings.SITE_ENABLED_PLUGINS.indexOf(\'Portfolio/Portfolio\') > -1"> <li ng-repeat="userskill in user.skill_users"> <a ui-sref="Users({skills:userskill.skills.id})"> {{userskill.skills.name | capitalize}}{{!$last?\', \':\'\'}}</a> </li> </ul> <p ng-bind-html="project.description | cut:true:450:\' ...\'"></p> </div> <div class="col-sm-3"> </div> <div class="col-sm-3 free-right-blk"> <div class="text-right"> <span class="content text-b text-16"> <amount-display amount="{{project.project_range.min_amount}}" ng-if="project.project_range.min_amount"></amount-display> - <amount-display amount="{{project.project_range.max_amount}}" ng-if="project.project_range.max_amount"></amount-display> </span> <div ng-if="!isAuth"> <div ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Bidding\') > -1"> <button type="button" class="btn btn-primary text-uppercase gradient-btn" ng-click="openLoginModal(\'login\')">{{\'Message\'|translate}}</button> <button type="button" class="btn btn-primary text-uppercase gradient-btn" ng-click="openLoginModal(\'login\')">{{\'Bid Now\'|translate}}</button> </div> </div> <div ng-if="isAuth"> <div ng-if="settings.SITE_ENABLED_PLUGINS.indexOf(\'Bidding/Bidding\') > -1"> <button type="button" class="btn btn-primary text-uppercase gradient-btn" ng-show="user.id !== $root.user.id && $root.user.role_id <= 3" ng-click="HireMe()">{{\'Message\'|translate}}</button> <button type="button" class="btn btn-primary text-uppercase gradient-btn" ng-show="user.id !== $root.user.id && $root.user.role_id <= 3" ng-click="HireMe()">{{\'Bid Now\'|translate}}</button> </div> </div> </div> </div> </div> </div> </div> </div> </li> <li ng-if="!users.length && !loader" class="list-group-item"> <p class="text-danger text-center top-mspace">{{\'No records available\'| translate}}</p> </li> <li ng-if="!users.length && loader" class="text-center"> <span> <img ng-src="images/contest_loader.gif" alt="loading" title="loading"> </span> </li> </ul>  </div> </div> </div>  </div>  <div class="row binding-pagination" ng-hide="!projects.length"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </section>    </main>'),$templateCache.put("scripts/plugins/Bidding/Bidding/views/default/supplier_portal_invoice.html",'<section class="my-contests" ng-controller="biddingProjectDashboardCtrl"> <div class="row"> <div class="col-xs-12 top-mspace"> <div class="project-details" ng-repeat="invoice in my_invoices"> <h4>{{\'Project Details\' | translate}}</h4> <div class="row"> <div class="col-xs-8"> <a ui-sref="Bid_ProjectView({id:invoice.project_id,slug:invoice.bid.project.slug})" title="{{invoice.bid.project.name}}"><h3>{{invoice.bid.project.name}}</h3></a> </div> <div class="col-xs-3"> <span class="pull-right padt30"> <button class="request-btn btn btn-lg btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">{{\'View\'|translate}} </button> </span> </div> </div> </div>  <div class="row binding-pagination" ng-show="currentPage> 1"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </div> </section>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding');"use strict";angular.module("getlancerApp.Bidding.BiddingReview",["getlancerApp.Bidding.Constant","ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngFileUpload","infinite-scroll","ngTagsInput","angularMoment","bc.Flickity","afkl.lazyImage","angular-loading-bar","ngAnimate","oitozero.ngSweetAlert","slugifier","checklist-model","angularjs-dropdown-multiselect","rzModule"]).config(function($stateProvider,$urlRouterProvider){}),angular.module("getlancerApp.Bidding").directive("biddingReview",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/BiddingReview/view/default/bidding_project_review.html",scope:{bidid:"@",project:"@",biduser:"@",projectuser:"@",isdispute:"@",projectstatus:"@"},controller:function($scope,$rootScope,$cookies,$state,$filter,flash,SweetAlert,biddingReviewFactory,ProjectEditView){function usersDetail(){var getParams={id:$state.params.id,fields:"id,project_status_id,is_dispute,is_cancel_request_freelancer,is_cancel_request_employer"};ProjectEditView.get(getParams,function(response){$scope.reviewsLists=response.data.reviews,angular.forEach($scope.reviewsLists,function(reviewList){reviewList.user_id==$rootScope.user.id&&($scope.review.rating=reviewList.rating,$scope.review.message=reviewList.message,$scope.reviewid=reviewList.id)})})}$scope.auth=JSON.parse($cookies.get("auth"));var flashMessage;$scope.review={},$scope.rating_review=!0,$scope.reviewSubmit=function(is_valid){if(is_valid&&0==$scope.review.rating?(is_valid=!1,$scope.rating_review=!1):is_valid&&$scope.review.rating>0&&(is_valid=!0,$scope.rating_review=!0),is_valid)if($scope.reviewid){var params={};params.id=$scope.reviewid,params.rating=$scope.review.rating,params.message=$scope.review.message,biddingReviewFactory.put(params,function(response){0===response.error.code?(flashMessage=$filter("translate")("review updated successfully."),flash.set(flashMessage,"success",!1),$scope.closefrm()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}else{var params={};params.foreign_id=$scope.bidid,params["class"]="Bid",params.rating=$scope.review.rating,params.message=$scope.review.message,biddingReviewFactory.post(params,function(response){0===response.error.code?(flashMessage=$filter("translate")("review added successfully."),flash.set(flashMessage,"success",!1),$scope.closefrm()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}},$scope.closefrm=function(){$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"messages"},{reload:!0})},usersDetail()}}}),angular.module("getlancerApp.Bidding.BiddingReview").directive("biddingReviewPost",function(){return{restrict:"E",templateUrl:"scripts/plugins/Bidding/BiddingReview/views/default/bidding_reivew_post.html",scope:{project:"@",projectuser:"@",projectstatus:"@",bidid:"@",biduser:"@",isprojectcancel:"@",isdispute:"@"},controller:function($scope,$rootScope,$state,$filter,$cookies,flash,ProjectStatusConstant){}}}).directive("biddingReviewView",function(){return{restrict:"E",templateUrl:"scripts/plugins/Bidding/BiddingReview/views/default/bidding_reivew_view.html",scope:{project:"@",projectuser:"@",projectstatus:"@",bidid:"@",biduser:"@",isprojectcancel:"@",isdispute:"@"},controller:function($scope,$rootScope,$state,$filter,$cookies,flash,ProjectStatusConstant,BiddingReviews){$scope.postReview=function($valid,data){if($valid){BiddingReviews.post(postReview,function(response){var flashmsg="";0===parseInt(response.error.code)?(flashmsg=$filter("translate")("Review posted successfully"),flash.set(flashmsg,"success",!1),$state.reload()):(flashmsg=$filter("translate")("Review posted failed"),flash.set(flashmsg,"error",!1))})}}}}}),angular.module("getlancerApp.Bidding.BiddingReview").factory("BiddingReviews",["$resource",function($resource){return $resource("/api/v1/reviews",{},{get:{method:"GET"},create:{method:"POST"}})}]).factory("BiddingReview",["$resource",function($resource){return $resource("/api/v1/reviews/:id",{},{get:{method:"GET",params:{id:"@id"}},update:{method:"PUT",params:{id:"@id"}},remove:{method:"DELETE",params:{id:"@id"}}})}]),angular.module("getlancerApp.Bidding.BiddingReview").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/BiddingReview/views/default/bidding_project_review.html",'<div id="update" class="submit-review-block clearfix milestone-submit"> <div> <form class="form-horizontal" name="reviewFrm" ng-submit="reviewSubmit(reviewFrm.$valid)" novalidate> <div class="form-group"> <div class=""> <label for="review" class="col-lg-1 col-sm-2">{{\'Rating\'|translate}}:</label> <div class="col-lg-8 col-sm-6 control-label"> <input-stars ng-model="review.rating" max="5" on-star-click="starCount(review.rating)" name="rateing" class="cursor" required></input-stars> <span class="error" ng-show="(review.rating == 0) && (!rating_review)"> {{\' Required \'| translate }} </span> <span class="error" ng-show="(reviewFrm.$submitted || reviewFrm.rateing.$touched) && (reviewFrm.rateing.$pristine || reviewFrm.rateing.$invalid) && (reviewFrm.rateing.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> <div class="form-group"> <div class=""> <label for="review" class="col-lg-1 col-sm-2">{{\'Review\'|translate}}:</label> <div class="col-lg-11 col-sm-10 control-label"> <textarea name="message" ng-model="review.message" class="form-control" rows="3" placeholder="{{\'Review\'|translate}}" required></textarea> <span class="error" ng-show="(reviewFrm.$submitted || reviewFrm.message.$touched) && (reviewFrm.message.$pristine || reviewFrm.message.$invalid) && (reviewFrm.message.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> <div class="col-sm-offset-2 col-lg-offset-1 no-pad"> <button type="submit" class="text-uppercase btn btn-primary">{{\'Submit\'|translate}}</button> <button class="text-uppercase btn btn-danger" ng-click="closefrm()">{{\'Cancel\'|translate}}</button> </div> </form> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding.BiddingReview');"use strict";angular.module("getlancerApp.Bidding.Dispute",["getlancerApp.Bidding.Constant","ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngFileUpload","infinite-scroll","ngTagsInput","angularMoment","bc.Flickity","afkl.lazyImage","angular-loading-bar","ngAnimate","oitozero.ngSweetAlert","slugifier","checklist-model","angularjs-dropdown-multiselect","rzModule"]).config(function($stateProvider,$urlRouterProvider){}),angular.module("getlancerApp.Bidding.Dispute").directive("biddingDispute",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Dispute/views/default/bidding_project_dispute.html",scope:{bidid:"@",project:"@",biduser:"@",projectuser:"@",isdispute:"@",projectstatus:"@"},controller:function($scope,$rootScope,$cookies,$state,$filter,flash,SweetAlert,DisputeStatus,ProjectDispute,md5){if($scope.auth=JSON.parse($cookies.get("auth")),"true"!==$scope.isdispute)$scope.data={},$scope.closefrm=function(){$scope.project_dispute=$rootScope.project_dispute=!1,$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"messages"},{reload:!0})},DisputeStatus.get({id:$scope.bidid},function(response){0===parseInt(response.error.code)&&($scope.disputeTypes=response.data)},function(error){console.log("DisputeStatus",error)}),$scope.dispute_submit=!1,$scope.disputeSubmit=function($valid,data){$valid&&($scope.dispute_submit=!0,data.bid_id=$scope.bidid,SweetAlert.swal({title:$filter("translate")("Are you sure you raise the dispute for this project?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&ProjectDispute.post(data,function(response){$scope.dispute_submit=!1;var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Your dispute request sent successfully."),flash.set(flashMessage,"success",!1),$state.reload()):(flashMessage=$filter("translate")("Your dispute request sending failed."),flash.set(flashMessage,"error",!1),$scope.dispute_submit=!1)},function(error){console.log(error)}),$scope.dispute_submit=!1}))};else{var params={project_id:$scope.project,bid_id:$scope.bidid,user_id:$scope.biduser,fields:"id,reason,user_id,dispute_status_id,created_at"};ProjectDispute.get(params,function(response){0===parseInt(response.error.code)&&($scope.dispute=response.data[0],angular.isDefined($scope.dispute.user.attachment)&&null!==$scope.dispute.user.attachment?$scope.user_avatar_url="images/normal_thumb/UserAvatar/"+$scope.dispute.user.id+"."+md5.createHash("UserAvatar"+$scope.dispute.user.id+"pngnormal_thumb")+".png":$scope.user_avatar_url="images/default.png")},function(error){console.log("ProjectDispute Get",error)})}}}}),angular.module("getlancerApp.Bidding.Dispute").directive("biddingDisputeMessage",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Dispute/views/default/bidding_project_dispute_message.html",scope:{bidid:"@",project:"@",biduser:"@",projectuser:"@",projectstatus:"@",disputeid:"@",disputestatus:"@"},controller:function($scope,$rootScope,$timeout,$state,$cookies,$filter,flash,md5,ProjectStatusConstant,SweetAlert,Messages,Upload,DisputeMsgClass,DisputeStatusConstant){$scope.DisputeStatusConstant=DisputeStatusConstant,$timeout(function(){$scope.GetMessages=function(){Messages.get({foreign_id:$scope.disputeid,"class":DisputeMsgClass["class"]},function(response){0===parseInt(response.error.code)?($scope.messages=response.data,angular.forEach($scope.messages,function(value){angular.isDefined(value.user.attachment)&&null!==value.user.attachment?value.user.user_avatar_url="images/big_thumb/UserAvatar/"+value.user.id+"."+md5.createHash("UserAvatar"+value.user.id+"pngbig_thumb")+".png":value.user.user_avatar_url="images/default.png"})):$scope.messages=[]})},$scope.GetMessages()},2e3),$scope.data={},$scope.post_messages=!1,$scope.PostMessages=function(messageFrm,$valid){if($valid){$scope.post_messages=!0;var projectName=$state.params.slug,msgparams={foreign_id:$scope.disputeid,"class":DisputeMsgClass["class"]};msgparams.parent_id=0,msgparams.subject=$filter("capitalize")(projectName.replace(/-/g,"+")),msgparams.message=$scope.data.message,msgparams.image=$scope.file,console.log(msgparams),Messages.post(msgparams,function(response){var flashMessage="";console.log(response),0===parseInt(response.error.code)?($scope.post_messages=!1,flashMessage=$filter("translate")("Message sent successfully."),flash.set(flashMessage,"success",!1),$scope.data.message="",$scope.GetMessages(),messageFrm.$setPristine(),messageFrm.$setUntouched()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1),$scope.post_messages=!1)})}}}}}),angular.module("getlancerApp.Bidding").directive("biddingReview",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Dispute/views/default/bidding_project_review.html",scope:{bidid:"@",project:"@",biduser:"@",projectuser:"@",isdispute:"@",projectstatus:"@"},controller:function($scope,$rootScope,$cookies,$state,$filter,flash,SweetAlert,biddingReviewFactory,ProjectEditView){function usersDetail(){var getParams={id:$state.params.id,fields:"id,project_status_id,is_dispute,is_cancel_request_freelancer,is_cancel_request_employer"};ProjectEditView.get(getParams,function(response){$scope.reviewsLists=response.data.reviews,angular.forEach($scope.reviewsLists,function(reviewList){reviewList.user_id==$rootScope.user.id&&($scope.review.rating=reviewList.rating,$scope.review.message=reviewList.message,$scope.reviewid=reviewList.id)})})}$scope.auth=JSON.parse($cookies.get("auth"));var flashMessage;$scope.review={},$scope.rating_review=!0,$scope.reviewSubmit=function(is_valid){if(is_valid&&0==$scope.review.rating?(is_valid=!1,$scope.rating_review=!1):is_valid&&$scope.review.rating>0&&(is_valid=!0,$scope.rating_review=!0),is_valid)if($scope.reviewid){var params={};params.id=$scope.reviewid,params.rating=$scope.review.rating,params.message=$scope.review.message,biddingReviewFactory.put(params,function(response){0===response.error.code?(flashMessage=$filter("translate")("review updated successfully."),flash.set(flashMessage,"success",!1),$scope.closefrm()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}else{var params={};params.foreign_id=$scope.bidid,params["class"]="Bid",params.rating=$scope.review.rating,params.message=$scope.review.message,biddingReviewFactory.post(params,function(response){0===response.error.code?(flashMessage=$filter("translate")("review added successfully."),flash.set(flashMessage,"success",!1),$scope.closefrm()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}},$scope.closefrm=function(){$state.go("Bid_ProjectView",{id:$state.params.id,slug:$state.params.slug,action:"messages"},{reload:!0})},usersDetail()}}}),angular.module("getlancerApp.Bidding.Dispute").factory("DisputeStatus",["$resource",function($resource){return $resource("/api/v1/bids/:id/dispute_open_types",{},{get:{method:"GET"}})}]).factory("ProjectDispute",function($resource){return $resource("/api/v1/project_disputes",{},{get:{method:"GET"},post:{method:"POST"}})}),angular.module("getlancerApp.Bidding.Dispute").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/Dispute/views/default/bidding_project_dispute.html",'<div class="clearfix" id="dispute-block"> <h3 class="clearfix montserrat-bold text-18">{{\'Dispute\'|translate}}</h3> <div ng-if="isdispute == \'false\'" class="top-space"> <form class="form-horizontal row" name="disputeFrm" ng-submit="disputeSubmit(disputeFrm.$valid, data)" novalidate> <div class="bot-20-space col-sm-12 col-md-9"> <div class="row"> <div class="col-sm-3"> <label for="review" class="">{{\'Type\'|translate}}:</label> </div> <div class="col-sm-7"> <div class="frm-select">  <select ng-model="data.dispute_open_type_id" name="dispute_open_type_id" class="form-control" ng-options="disputeType.id as disputeType.name for disputeType in disputeTypes" ng-required="true"> <option value=""> {{\'Select Dispute Type\' | translate}}</option> </select> <pan class="error" ng-show="(disputeFrm.$submitted || disputeFrm.dispute_open_type_id.$touched) && (disputeFrm.dispute_open_type_id.$pristine || disputeFrm.dispute_open_type_id.$invalid) && (disputeFrm.dispute_open_type_id.$error.required)"> {{\'Required\'| translate}}  </pan></div> </div> </div> </div> <div class="bot-20-space col-sm-12 col-md-9" ng-if="projectstatus != \'11\'"> <div class="row"> <div class="col-sm-3"> <label for="review">{{\'Expected Rating\'|translate}}:</label> </div> <div class="col-lg-7"> <input-stars ng-model="data.expected_rating" max="5" on-star-click="starCount(data.expected_rating)" name="rateing" class="cursor" required></input-stars> <span class="error" ng-show="(disputeFrm.$submitted || disputeFrm.rateing.$touched) && (disputeFrm.rateing.$pristine || disputeFrm.rateing.$invalid) && (disputeFrm.rateing.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> <div class="bot-20-space col-sm-12 col-md-9"> <div class="row"> <div class="col-sm-3"> <label for="review" class="">{{\'Dispute Note\'|translate}}:</label> </div> <div class="col-sm-7"> <textarea name="reason" ng-model="data.reason" class="form-control" rows="3" placeholder="{{\'Enter your dispute note\'|translate}}" ng-required="true"></textarea> <span class="error" ng-show="(disputeFrm.$submitted || disputeFrm.reason.$touched) && (disputeFrm.reason.$pristine || disputeFrm.reason.$invalid) && (disputeFrm.reason.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> <div class="col-sm-12 col-md-9"> <div class="row"> <div class="col-sm-offset-3 col-sm-8"> <button type="submit" ng-show="dispute_submit" class="text-uppercase btn btn-primary" disabled>{{\'Submit\'|translate}}</button> <button type="submit" class="text-uppercase btn btn-primary" ng-show="!dispute_submit">{{\'Submit\'|translate}}</button> <span class="review-cancel" ng-if="isdispute == \'false\'">  <a href="javascript:void(0)" ng-click="closefrm()" class="btn btn-danger text-14">{{\'Cancel\'|translate}}</a> </span> </div> </div> </div> </form> </div> <div ng-if="isdispute != \'false\'" class="comments-block"> <div class="comments-msg"> <div class="media"> <div class="pull-left"> <a class="blog-user-img center-block" href="users/{{dispute.user.id}}/{{dispute.user.username}}"><img ng-src="{{user_avatar_url}}" title="{{dispute.user.username}}" alt="[Image: {{dispute.user.username}}]" class="center-block img-circle"></a> </div> <div class="media-body"> <h4 class="text-16"><a href="users/{{dispute.user.id}}/{{dispute.user.username}}">{{dispute.user.username}}</a> , <span class="text-12 text-normal text-lowercase grayc"> {{ dispute.created_at | timeago}}</span></h4> <p> {{dispute.reason}} </p> </div> </div> </div>  <bidding-dispute-message bidid="{{bidid}}" project="{{project}}" biduser="{{biduser}}" projectuser="{{projectuser}" projectstatus="{{projectstatus}}" isdispute="{{isdispute}}" disputeid="{{dispute.id}}" disputestatus="{{dispute.dispute_status_id}}"></bidding-dispute-message> </div>  </div>'),$templateCache.put("scripts/plugins/Bidding/Dispute/views/default/bidding_project_dispute_message.html",'<div class="clearfix"> <div class="col-xs-12 comments-block"> <div class="clearfix comment-msg coment-setion"> <div class="media" ng-repeat="message in messages | orderBy:\'$index\':true"> <div class="pull-left"> <a class="blog-user-img center-block" href="users/{{message.user.id}}/{{message.user.username}}"><img ng-src="{{message.user.user_avatar_url}}" title="{{message.user.username}}" alt="[Image: {{message.user.username}}]" class="center-block img-circle"></a> </div> <div class="media-body"> <h4 class="text-16"><a href="users/{{message.user.id}}/{{message.user.username}}">{{message.user.username}}</a> , <span class="text-12 text-normal text-lowercase"> {{ message.created_at | timeago}} </span></h4> <p ng-bind-html="message.message_content.message"> </p> </div> </div> <div class="media" ng-if="disputestatus <= DisputeStatusConstant.UnderDiscussion"> <div class="pull-left media-top"> <img src="images/default.png" alt="[Image: USer]" class="img-circle center-block user-small"> </div> <div class="media-body"> <form role="form" name="messageFrm" ng-submit="PostMessages(messageFrm,messageFrm.$valid)" novalidate> <div class="form-group"> <label for="comments1" class="sr-only">comment</label> <textarea id="comments1" class="form-control" ng-model="data.message" name="message" placeholder="write your messages..." rows="3" ng-required="true"></textarea> <span class="error" ng-show="(messageFrm.$submitted || messageFrm.message.$touched) && (messageFrm.message.$pristine || messageFrm.message.$invalid) && (messageFrm.message.$error.required)"> {{\'Required\'| translate}} </span> </div> <div class="clearfix pull-right"> <button type="submit" ng-show="post_messages" class="gradi-rnd-btn btn btn-primary" disabled>{{\'Send\'|translate}}</button> <button type="submit" class="gradi-rnd-btn btn btn-primary" title="send" ng-show="!post_messages">Send</button> </div> </form> </div> </div> <div ng-if="disputestatus > DisputeStatusConstant.UnderDiscussion" class="navbar-btn"> <div class="alert alert-info"> <span ng-if="disputestatus == DisputeStatusConstant.WaitingforAdministratorDecision"> {{\'Waiting for Administrator Decision\'| translate}} </span> <span ng-if="disputestatus == DisputeStatusConstant.Closed"> {{\'Dispute closed\'| translate}} </span> </div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Dispute/views/default/bidding_project_review.html",'<div id="update" class="submit-review-block clearfix milestone-submit"> <div> <form class="form-horizontal" name="reviewFrm" ng-submit="reviewSubmit(reviewFrm.$valid)" novalidate> <div class="form-group"> <div class=""> <label for="review" class="col-lg-1 col-sm-2">{{\'Rating\'|translate}}:</label> <div class="col-lg-8 col-sm-6 control-label"> <input-stars ng-model="review.rating" max="5" on-star-click="starCount(review.rating)" name="rateing" class="cursor" required></input-stars> <span class="error" ng-show="(review.rating == 0) && (!rating_review)"> {{\' Required \'| translate }} </span> <span class="error" ng-show="(reviewFrm.$submitted || reviewFrm.rateing.$touched) && (reviewFrm.rateing.$pristine || reviewFrm.rateing.$invalid) && (reviewFrm.rateing.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> <div class="form-group"> <div class=""> <label for="review" class="col-lg-1 col-sm-2">{{\'Review\'|translate}}:</label> <div class="col-lg-11 col-sm-10 control-label"> <textarea name="message" ng-model="review.message" class="form-control" rows="3" placeholder="{{\'Review\'|translate}}" required></textarea> <span class="error" ng-show="(reviewFrm.$submitted || reviewFrm.message.$touched) && (reviewFrm.message.$pristine || reviewFrm.message.$invalid) && (reviewFrm.message.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> <div class="col-sm-offset-2 col-lg-offset-1 no-pad"> <button type="submit" class="text-uppercase btn btn-primary">{{\'Submit\'|translate}}</button> <button class="text-uppercase btn btn-danger" ng-click="closefrm()">{{\'Cancel\'|translate}}</button> </div> </form> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding.Dispute');"use strict";angular.module("getlancerApp.Bidding.Exam",["getlancerApp.Bidding.Constant","ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngFileUpload","infinite-scroll","ngTagsInput","angularMoment","bc.Flickity","afkl.lazyImage","angular-loading-bar","ngAnimate","oitozero.ngSweetAlert","slugifier","checklist-model","angularjs-dropdown-multiselect","rzModule"]).config(function($stateProvider,$urlRouterProvider){var getToken={TokenServiceData:function(TokenService,$q){return $q.all({AuthServiceData:TokenService.promise,SettingServiceData:TokenService.promiseSettings})}};$urlRouterProvider.otherwise("/"),$stateProvider.state("Exam",{url:"/exams?q&page",templateUrl:"scripts/plugins/Bidding/Exam/views/default/exams.html",controller:"ExamListCtrl",resolve:getToken}).state("MyExams",{url:"/exams/my_attempts",templateUrl:"scripts/plugins/Bidding/Exam/views/default/my_exams.html",controller:"MyExamController",resolve:getToken}).state("ExamCertified",{url:"/exams/my_attempts/status/certified",templateUrl:"scripts/plugins/Bidding/Exam/views/default/my_exams.html",controller:"MyExamController",resolve:getToken}).state("Exam_Payment",{url:"/exams/order/:id",templateUrl:"scripts/plugins/Bidding/Exam/views/default/exam_payment.html",controller:"ExamPaymentController",resolve:getToken}).state("ExamStart",{url:"/exams/start/:id",templateUrl:"scripts/plugins/Bidding/Exam/views/default/exam_start.html",controller:"ExamStartController",resolve:getToken}).state("OnlineTest",{url:"/exams/online_test/:id",templateUrl:"scripts/plugins/Bidding/Exam/views/default/exam_online.html",controller:"ExamOnlineTestCtrl",resolve:getToken}).state("ExamResult",{url:"/exams/result/:id",templateUrl:"scripts/plugins/Bidding/Exam/views/default/exam_result.html",controller:"ExamResultController",resolve:getToken}).state("ExamView",{url:"/exams/:id/:slug",templateUrl:"scripts/plugins/Bidding/Exam/views/default/exam_view.html",controller:"ExamViewCtrl",resolve:getToken})}),angular.module("getlancerApp.Bidding.Exam").controller("ExamListCtrl",function($scope,$rootScope,$state,$filter,$location,flash,Exams,md5){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Skills Lab"),$scope.params={},void 0!==$state.params.q&&($scope.params.q=$state.params.q),$scope.index=function(){$scope.loader=!0,$scope.params.limit=21,$scope.params.page=$scope.currentPage,Exams.get($scope.params,function(response){0===parseInt(response.error.code)&&(angular.isDefined(response._metadata)&&($scope.currentPage=response._metadata.current_page,$scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page),angular.isDefined(response.data)?($scope.exams=response.data,angular.forEach($scope.exams,function(value){angular.isDefined(value.attachment)&&null!=value.attachment?value.logo_url="images/small_normal_thumb/"+value.attachment["class"]+"/"+value.attachment.foreign_id+"."+md5.createHash(value.attachment["class"]+value.attachment.foreign_id+"pngsmall_normal_thumb")+".png":value.logo_url="images/no-image.png"})):($scope.exams="",$scope.errorMessage="",angular.isDefined(response.error)&&($scope.errorMessage=response.error.message),$scope.currentPage=0,$scope.totalItems=0,$scope.itemsPerPage=0,$scope.noOfPages=0))},function(error){console.log("Exam Get",error)}),$scope.loader=!1},$scope.refinesearch=function(qVal){qVal?($scope.params.q=qVal,$state.go("Exam",{q:qVal})):$state.go("Exam")},$scope.paginate=function(){$scope.currentPage=parseInt($scope.currentPage),$scope.index()},$scope.index()}).controller("ExamViewCtrl",function($scope,$rootScope,$state,$filter,$location,flash,ExamsView,PerDayExam,ExamStatus,ExamUser,md5,$cookies){$scope.PerDayLimit=PerDayExam.NumOfTime,$scope.ExamStatus=ExamStatus;var flashMessage="",params={};ExamsView.get({id:$state.params.id},function(response){if(0===parseInt(response.error.code)){$scope.show_response_page=!0,$scope.examValue=response.data,$scope.str=$scope.examValue.instructions.replace("##QUESTION_COUNT##",$scope.examValue.exams_question_count).replace("##EXAM_DURATION##",$scope.examValue.duration),$scope.topics_covered=$scope.examValue.topics_covered,angular.isDefined($scope.examValue.attachment)&&(null!==$scope.examValue.attachment?$scope.examValue.logo_url="images/big_thumb/"+$scope.examValue.attachment["class"]+"/"+$scope.examValue.attachment.foreign_id+"."+md5.createHash($scope.examValue.attachment["class"]+$scope.examValue.attachment.foreign_id+"pngbig_thumb")+".png":$scope.examValue.logo_url="images/no-image.png");var noAttempt=0,passedCount=0,Inprogress=0,Incomplete=0,FeePaidOrNotStarted=0,SuspendedDueToTakingOvertime=0,Failed=0;angular.forEach($scope.examValue.ExamsUser,function(value){noAttempt+=value.no_of_times,value.exam_status_id==ExamStatus.Passed?passedCount+=1:value.exam_status_id==ExamStatus.Inprogress?Inprogress+=1:value.exam_status_id==ExamStatus.Incomplete?Incomplete+=1:value.exam_status_id==ExamStatus.FeePaidOrNotStarted?FeePaidOrNotStarted+=1:value.exam_status_id==ExamStatus.SuspendedDueToTakingOvertime?SuspendedDueToTakingOvertime+=1:value.exam_status_id==ExamStatus.Failed&&(Failed+=1)}),$scope.passedCount=passedCount,$scope.Inprogress=Inprogress,$scope.Incomplete=Incomplete,$scope.FeePaidOrNotStarted=FeePaidOrNotStarted,$scope.SuspendedDueToTakingOvertime=SuspendedDueToTakingOvertime,$scope.Failed=Failed,$scope.examAttempts=noAttempt;var parentpassCount=0;0!==$scope.examValue.parent.length&&(angular.forEach($scope.examValue.parent[0].parent_exams_users,function(parentvalue){parentvalue.exam_status_id==ExamStatus.Passed&&(parentpassCount+=1)}),$scope.parentpassCount=parentpassCount)}},function(error){}),$scope.exam_users=function(value){params.exam_id=value,$cookies.put("exam_id",JSON.stringify(value)),ExamUser.post(params,function(response){0===response.error.code?response.data.exam_status_id==ExamStatus.ExamFeePaymentPending?($rootScope.exam_id=response.data.exam_id,$state.go("Exam_Payment",{id:response.data.id},{reload:!0})):response.data.exam_status_id==ExamStatus.FeePaidOrNotStarted&&$state.go("ExamStart",{id:response.data.id},{reload:!0}):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})}}).controller("ExamStartController",function($scope,$rootScope,$state,$filter,$location,flash,ExamStart,$window){ExamStart.get({id:$state.params.id},function(response){0===parseInt(response.error.code)&&($scope.exam_start=response.data,$scope.str=$scope.exam_start.exam.splash_content.replace("##QUESTION_COUNT##",$scope.exam_start.exam.exams_question_count).replace("##EXAM_DURATION##",$scope.exam_start.exam.duration))},function(error){}),$scope.examStart=function(examId){$state.go("OnlineTest",{id:examId})}}).controller("MyExamController",function($scope,$rootScope,$state,$filter,$location,flash,MyExam,$window){function index(){$scope.id="MyExams"==$state.current.name?4:3,MyExam.get({exam_status_id:$scope.id},function(response){0===parseInt(response.error.code)&&($scope.myExams=response.data)},function(error){})}index(),$scope.filter=function(value){3===parseInt(value)?$state.go("ExamCertified"):$state.go("MyExams")}}).controller("ExamOnlineTestCtrl",function($scope,$rootScope,$state,$filter,$location,flash,ExamStart,$cookies,QuestionAnswer,SweetAlert,$timeout,$interval,$window){$scope.startautoCall=0,$scope.stopautoCall=0,$scope.questionAnswer=[],$scope.tmp_skills=[];var flashMessage="";$scope.milisecondsDiff=0,$scope.currentPage=void 0!==$cookies.get("exampage")?parseInt($cookies.get("exampage")):0,0===$scope.currentPage?$cookies.put("exampage",0,{path:"/"}):$scope.is_show_previous=!0,void 0!==$cookies.get("examValue")&&($scope.tmp_skills=JSON.parse($cookies.get("examValue"))),parseInt($scope.currentPage)<9?$scope.is_show_next=!0:$scope.is_show_next=!1,ExamStart.get({id:$state.params.id,is_exam_started:1},function(response){function shuffle(array){if($scope.exam_data){if(1===$scope.exam_data.exam_status_id){for(var temporaryValue,randomIndex,currentIndex=array.length;0!==currentIndex;)randomIndex=Math.floor(Math.random()*currentIndex),currentIndex-=1,temporaryValue=array[currentIndex],array[currentIndex]=array[randomIndex],array[randomIndex]=temporaryValue;return array}for(var temporaryValue,currentIndex=array.length;0!==currentIndex;)randomIndex=Math.floor(currentIndex),currentIndex-=0,temporaryValue=array[currentIndex],array[currentIndex]=array[randomIndex],array[randomIndex]=temporaryValue;return array}}if(0===parseInt(response.error.code)){$scope.exam_data=response.data,$timeout(function(){$scope.accessTimeOut=!0},1e3),$scope.intervalFunction(),$scope.callfailure=!1;$scope.questionArray=shuffle($scope.exam_data.Question)}else flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1),$state.go("Exam");$scope.exam_data&&(1===$scope.exam_data.exam_status_id?$scope.milisecondsDiff=6e4*($scope.exam_data.allow_duration-$scope.exam_data.taken_time):($scope.milisecondsDiff=$window.localStorage.getTime,$window.localStorage.removeItem("getTime"))),$timeout(function(){$scope.timerStop=!1,$scope.timerStop===!0&&(flashMessage=$filter("translate")("Your time is out"),flash.set(flashMessage,"success",!1)),$scope.answercall={},$scope.answercall.user_answer=$scope.user_answer,$scope.answercall.exams_user_id=parseInt($state.params.id),$scope.answercall.is_exam_completed=1,QuestionAnswer.post($scope.answercall,function(response){0===response.error.code?(flashMessage=$filter("translate")("Your exam is successfully completed"),flash.set(flashMessage,"success",!1),$scope.stopautoCall=1,$state.go("ExamResult",{id:$state.params.id})):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})},$scope.milisecondsDiff),$scope.timerStop=!0,$scope.timerId=$interval(function(){$scope.timerStop===!0&&($scope.milisecondsDiff<=0||($scope.timeLeft=$scope.getRemainTimeFormat($scope.milisecondsDiff),$(".js-time-display").html($scope.timeLeft+""),$scope.milisecondsDiff=$scope.milisecondsDiff-1e3))},1e3)},function(error){console.log(error)}),window.onbeforeunload=function(event){var hms=$scope.timeLeft,a=hms.split(":"),seconds=60*+a[0]*60+60*+a[1]+ +a[2];$scope.timevalue=1e3*seconds,$scope.reloadresponse=$scope.timevalue;var message="Sure you want to leave?";return"undefined"==typeof event&&(event=window.event),event&&(event.returnValue=message),message},$scope.prevQuestion=function(){Object.keys($scope.questionArray).length>0&&($scope.currentPage=parseInt($scope.currentPage)-1===0?0:parseInt($scope.currentPage)-1,$cookies.put("exampage",$scope.currentPage,{path:"/"}),0===parseInt($scope.currentPage)?($scope.is_show_previous=!1,$scope.is_show_next=!0):($scope.is_show_next=!0,$scope.is_show_previous=!0))},$scope.nextQuestion=function(){Object.keys($scope.questionArray).length>0&&($scope.currentPage=parseInt($scope.currentPage)+1>Object.keys($scope.questionArray).length?Object.keys($scope.questionArray).length-1:$scope.currentPage+1,$cookies.put("exampage",$scope.currentPage,{path:"/"}),Object.keys($scope.questionArray).length===$scope.currentPage+1?$scope.is_show_next=!1:($scope.is_show_next=!0,$scope.is_show_previous=!0))},$scope.user_answer=[],$scope.choosedAnswer=function(qid,ansvalue,$index){$scope.exams_user_id=parseInt($state.params.id),$scope.answer={question_id:qid,answer:ansvalue},0!==$scope.user_answer.length?angular.forEach($scope.user_answer,function(value,key){parseInt(value.question_id)===parseInt(qid)?$scope.user_answer.splice(key,1):$scope.pushvalue=!0}):$scope.user_answer.push($scope.answer),$scope.pushvalue===!0&&$scope.user_answer.push($scope.answer),$scope.autoCallanswer()},$scope.submit=function(){SweetAlert.swal({title:$filter("translate")("Are you sure you want to complete this exam?"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&($scope.timerStop=!0,$scope.answercall={},$scope.answercall.user_answer=$scope.user_answer,$scope.answercall.exams_user_id=parseInt($state.params.id),$scope.answercall.is_exam_completed=1,QuestionAnswer.post($scope.answercall,function(response){0===response.error.code?(flashMessage=$filter("translate")("Your exam is successfully completed"),$scope.stopautoCall=1,flash.set(flashMessage,"success",!1),$state.go("ExamResult",{id:$state.params.id})):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}))})},$scope.autoCallanswer=function(){$scope.answercall={},$scope.answercall.user_answer=$scope.user_answer,$scope.answercall.exams_user_id=parseInt($state.params.id),QuestionAnswer.post($scope.answercall,function(response){0===response.error.code})},$scope.autoCallanswers=function(){$scope.answercall={},$scope.user_answers=[],$scope.answercall.user_answer=$scope.user_answers,$scope.answercall.exams_user_id=parseInt($state.params.id||0),0!==$scope.answercall.exams_user_id&&QuestionAnswer.post($scope.answercall,function(response){0===response.error.code?($scope.callfailure=!1,$scope.intervalFunction(),console.log("Auto call success")):($scope.callfailure=!0,console.log("Auto call failure"))})},$scope.intervalFunction=function(){$timeout(function(){$scope.callfailure===!1&&void 0!==$scope.callfailure&&0===$scope.stopautoCall&&$scope.autoCallanswers()},5e3)},$scope.getRemainTimeFormat=function($milisecondsDiff){return Math.floor($milisecondsDiff/36e5).toLocaleString(void 0,{minimumIntegerDigits:2})+":"+(Math.floor($milisecondsDiff/6e4)%60).toLocaleString(void 0,{minimumIntegerDigits:2})+":"+(Math.floor($milisecondsDiff/1e3)%60).toLocaleString(void 0,{minimumIntegerDigits:2})}}).controller("ExamResultController",function($scope,$rootScope,$state,$filter,$location,flash,ExamStart,$window,$timeout){function examStart(){ExamStart.get({id:$state.params.id},function(response){0===parseInt(response.error.code)&&($scope.exam_data=response.data,$timeout(function(){$scope.accessTimeOut=!0},1e3))},function(error){console.log(error)})}examStart()}),angular.module("getlancerApp.Bidding.Exam").controller("ExamPaymentController",function($rootScope,$scope,$window,countries,states,cities,$stateParams,usersAddresses,wallet,flash,$location,$filter,$state,paymentGateways,userSettings,ConstPaymentGateways,ProjectEditView,UserMeFactory,ExamsPayment,ExamsView,$cookies,md5){$scope.exam_id=JSON.parse($cookies.get("exam_id")),$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Confirm your Payment"),ExamsView.get({id:$scope.exam_id},function(response){0===parseInt(response.error.code)&&($scope.examValue=response.data,$scope.plan_info.price_final=$scope.examValue.fee),angular.isDefined($scope.examValue.attachment)&&(null!==$scope.examValue.attachment?$scope.examValue.logo_url="images/big_thumb/"+$scope.examValue.attachment["class"]+"/"+$scope.examValue.attachment.foreign_id+"."+md5.createHash($scope.examValue.attachment["class"]+$scope.examValue.attachment.foreign_id+"pngbig_thumb")+".png":$scope.examValue.logo_url="images/no-image.png")}),$scope.minimum_wallet_amount=$rootScope.settings.WALLET_MIN_WALLET_AMOUNT,$scope.maximum_wallet_amount=$rootScope.settings.WALLET_MAX_WALLET_AMOUNT,$scope.buyer={},$scope.plan={},$scope.paynow_is_disabled=!1,$scope.payment_note_enabled=!1,$scope.payer_form_enabled=!0,$scope.is_wallet_page=!0,$scope.plan_info={},$scope.save_btn=!1,$scope.first_gateway_id="",$scope.index=function(){$scope.loader=!0,$scope.payment=!0,UserMeFactory.get({},function(response){$scope.user_available_balance=response.data.available_wallet_amount,0===parseInt($scope.user_available_balance)?$scope.is_show_wallet_paybtn=!1:$scope.is_show_wallet_paybtn=!0});var payment_gateways=[];paymentGateways.get({},function(payment_response){if(payment_response.wallet&&($scope.wallet_enabled=!0),payment_response.PayPalREST){var response=payment_response.PayPalREST;response.paypalrest_enabled&&($scope.paypal_enabled=!0)}$scope.group_gateway_id="",0===payment_response.error.code&&(void 0!==payment_response.zazpay&&1!==payment_response.zazpay.error.code?(angular.forEach(payment_response.zazpay.gateways,function(gateway_group_value,gateway_group_key){0===gateway_group_key&&($scope.group_gateway_id=gateway_group_value.id,$scope.first_gateway_id=gateway_group_value.id),angular.forEach(gateway_group_value.gateways,function(payment_geteway_value,payment_geteway_key){var payment_gateway={},suffix="sp_";0===gateway_group_key&&($scope.sel_payment_gateway="sp_"+payment_geteway_value.id),suffix+=payment_geteway_value.id,payment_gateway.id=payment_geteway_value.id,payment_gateway.payment_id=suffix,payment_gateway.group_id=gateway_group_value.id,payment_gateway.display_name=payment_geteway_value.display_name,payment_gateway.thumb_url=payment_geteway_value.thumb_url,payment_gateway.suffix=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.form_fields=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.instruction_for_manual=payment_geteway_value.instruction_for_manual,payment_gateways.push(payment_gateway)})}),$scope.gateway_groups=payment_response.zazpay.gateways,$scope.payment_gateways=payment_gateways,$scope.form_fields_tpls=payment_response.zazpay._form_fields_tpls,$scope.show_form=[],$scope.form_fields=[],angular.forEach($scope.form_fields_tpls,function(key,value){"buyer"===value&&($scope.form_fields[value]="views/buyer.html"),"credit_card"===value&&($scope.form_fields[value]="views/credit_card.html"),"manual"===value&&($scope.form_fields[value]="views/manual.html"),$scope.show_form[value]=!0}),$scope.gateway_id=ConstPaymentGateways.ZazPay):response.paypalrest_enabled&&($scope.gateway_id=ConstPaymentGateways.PayPal)),$scope.loader=!1})},$scope.applyCoupon=function(){var params={};params.coupon_code=$scope.plan.coupon,params.amount=$scope.examValue.Exam.zazpay_revised_amount,CouponGetStatusFactory.get(params,function(response){if($scope.discountCoupon=response,0===response.error.code)if($scope.discountCoupon.data.discount_type_id==ConstDiscountType.Amount)$scope.plan_info.price_final=parseFloat($scope.examValue.Exam.zazpay_revised_amount)-parseFloat(response.data.discount),$scope.show_discount=$filter("currency")(response.data.discount);else{var discount_amt=response.data.discount/100*$scope.examValue.Exam.zazpay_revised_amount;$scope.plan_info.price_final=$scope.examValue.Exam.zazpay_revised_amount-discount_amt,$scope.show_discount=$filter("translate")(response.data.discount+"%")}else flash.set($filter("translate")(response.error.message),"error",!1),$scope.plan.coupon=""})},$scope.ClearCoupon=function(){$scope.plan_info.price_final=$scope.examValue.Exam.zazpay_revised_amount,$scope.purchase_plan_coupon=!1,$scope.show_discount=!1},$scope.paneChanged=function(pane){"Manual / Offline"===pane&&($scope.payment_note_enabled=!0);var keepGoing=!0;$scope.buyer={},$scope.PaymentForm.$setPristine(),$scope.PaymentForm.$setUntouched(),angular.forEach($scope.form_fields_tpls,function(key,value){$scope.show_form[value]=!1}),$scope.gateway_id=ConstPaymentGateways.ZazPay,angular.forEach($scope.gateway_groups,function(res){if(res.display_name===pane&&"Wallet"!==pane){var selPayment="";angular.forEach($scope.payment_gateways,function(response){keepGoing&&response.group_id===res.id&&(selPayment=response,keepGoing=!1,$scope.rdoclick(selPayment.id,selPayment.form_fields))}),$scope.sel_payment_gateway="sp_"+selPayment.id,$scope.group_gateway_id=selPayment.group_id}}),"Wallet"===pane&&($scope.gateway_id=ConstPaymentGateways.Wallet),"paypal"===pane&&($scope.gateway_id=ConstPaymentGateways.PayPal)},$scope.rdoclick=function(res,res1){$scope.paynow_is_disabled=!1,$scope.sel_payment_gateway="sp_"+res,$scope.array=res1.split(","),angular.forEach($scope.array,function(value){$scope.show_form[value]=!0})},$scope.PaymentFormSubmit=function(form){var payment_id="";if($scope.sel_payment_gateway&&$scope.gateway_id===ConstPaymentGateways.ZazPay&&(payment_id=$scope.sel_payment_gateway.split("_")[1]),$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=payment_id,$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]="ExamsUser",$scope.buyer.coupon_code=$scope.plan.coupon,angular.isDefined($scope.buyer.credit_card_expired)&&($scope.buyer.credit_card_expired.month||$scope.buyer.credit_card_expired.year)&&($scope.buyer.credit_card_expire=$scope.buyer.credit_card_expired.month+"/"+$scope.buyer.credit_card_expired.year),form){$scope.paynow_is_disabled=!0;var flashMessage;if(parseFloat($scope.plan_info.price_final)>parseFloat($scope.user_available_balance)&&$scope.gateway_id===ConstPaymentGateways.Wallet)return flashMessage=$filter("translate")("Your wallet has insufficient money."),flash.set(flashMessage,"error",!1),$scope.paynow_is_disabled=!1,!0;ExamsPayment.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.go("ExamStart",{id:response.data.id})):0===response.error.code?("Captured"===response.payment_response.status&&($scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.fee_paid)),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.go("ExamStart",{id:response.data.id})):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.data.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.data.error.message),"error",!1),$scope.paynow_is_disabled=!1})}},$scope.payNowPayPalClick=function(){var flashMessage;$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=$scope.buyer.payment_gateway_id,$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]="ExamsUser",$scope.paynow_is_disabled=!0,ExamsPayment.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.go("ExamStart",{id:response.data.id})):0===response.error.code?("Captured"===response.payment_response.status&&($scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.total_listing_fee)),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.go("ExamStart",{id:response.data.id})):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.data.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.data.error.message),"error",!1),$scope.paynow_is_disabled=!1})},countries.get({limit:"all"},function(response){angular.isDefined(response.data)&&($scope.countries=response.data)}),$scope.index()}),angular.module("getlancerApp.Bidding.Exam").factory("Exams",["$resource",function($resource){return $resource("/api/v1/exams",{},{get:{method:"GET"}})}]).factory("ExamsView",["$resource",function($resource){return $resource("/api/v1/exams/:id",{},{get:{method:"GET"}})}]).factory("ExamsPayment",["$resource",function($resource){return $resource("/api/v1/order",{},{create:{method:"POST"}})}]).factory("ExamStart",["$resource",function($resource){return $resource("/api/v1/exams_users/:id",{},{get:{method:"GET"}})}]).factory("MyExam",["$resource",function($resource){return $resource("/api/v1/me/exams_users",{},{get:{method:"GET"}})}]).factory("QuestionAnswer",["$resource",function($resource){return $resource("/api/v1/exam_answers",{},{post:{method:"POST"}})}]).factory("ExamUser",["$resource",function($resource){return $resource("/api/v1/exams_users",{},{post:{method:"POST"}})}]),angular.module("getlancerApp.Bidding.Exam").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/Exam/views/default/exam_online.html",'<div class="section photo-view online-exam" prevent-right-click> <div class="container" ng-if="exam_data.user_id == user.id"> <h2 class="head-bot">{{exam_data.exam.title}} - {{exam_data.exam.exam_level.name}} </h2> <div ng-show="exam_data.exam_status_id == 1"> <div class="clearfix panel panel-default online-head"> <div class="col-sm-2"> <span class="js-time-display btn btn-primary"></span> </div> <ul class="list-inline col-sm-3"> <li ng-repeat="questionName in questionArray"> <a ng-class="(!questionName.exam_answer.user_answer)? \'btn btn-warning\' : \'btn btn-primary\'">{{$index +1 }}</a> </li> </ul> <div class="col-sm-2 navbar-right"> <div> <a class="btn btn-primary"></a> {{\'Attempted\' | translate}} </div> <div> <a class="btn btn-warning"></a> {{\'Not attempted\' | translate}} </div> </div> </div> <div id="question"> <div ng-show="exam_data.exam.question_display_type_id == 2"> <h2>{{\'Question #\'|translate}}{{currentPage + 1}}</h2> <div class="panel panel-default"> <div class="panel-heading"> {{questionArray[currentPage].question}} </div> <div class="panel-body"> <div class="anser-options" ng-repeat="question in questionArray[currentPage].question_answer_options"> <label class="rad"> <input type="radio" name="answer" value="{{question.option}}" ng-model="questionArray[currentPage].exam_answer.user_answer" ng-click="choosedAnswer(questionArray[currentPage].id, question.option)"> {{question.option}} </label> </div> </div> </div> <a class="text-center btn btn-primary bot-mspace" ng-click="prevQuestion()" ng-if="is_show_previous">{{\'Prev\' | translate}}</a> <a class="btn btn-primary text-right bot-mspace" ng-click="nextQuestion()" ng-if="is_show_next">{{\'Next\' | translate}}</a> </div> </div> <div ng-show="exam_data.exam.question_display_type_id == 1"> <div class="panel panel-default" ng-repeat="questionName in questionArray"> <div class="panel-heading"> {{questionName.question}} </div> <div class="panel-body"> <div class="anser-options" ng-repeat="question in questionName.question_answer_options"> <label class="rad"> <input type="radio" name="value{{questionName.id}}" value="{{question.option}}" ng-model="questionName.exam_answer.user_answer" ng-click="choosedAnswer(questionName.id, question.option)" id="checkbox{{$index}}"> {{question.option}} </label> </div> </div> </div> </div> <p class="hor-space alert alert-info text-left text-center">{{\'By clicking answer, system will auto save your answers\' | translate}}.</p> <div class="panel-heading text-right"> <button class="btn btn-primary bot-mspace" ng-click="submit()" name="continue">{{\'Complete this skill test\' | translate}}</button> </div> </div> <div ng-show="exam_data.exam_status_id == 4"> <p class="hor-space alert alert-info text-left">{{\'Exam Already attend\'|translate}}</p> </div> </div> <div class="container" ng-if="exam_data.user_id != user.id && accessTimeOut"> <div class="row"> <p class="hor-space alert alert-info text-left">{{\'Access Denied\' | translate}}</p> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Exam/views/default/exam_payment.html",'<div class="section photo-view"> <div class="container"> <div> <div class="clearfix"> <h2 class="panel-title text-22 bot-15-mspace head-bot">{{\'Exam fee for\' | translate}} {{examValue.title}}</h2> <div class="job-body row"> <div class="col-md-2 bot-space"> <img ng-src="{{examValue.logo_url}}" class="img-responsive center-block"> </div> <div class="col-md-6"> <div class="col-xs-12"> <div class="job-info navbar-btn"> <ul class="list-unstyled"> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'Exam\'|translate}}</span> <span class="col-sm-9 col-xs-6"> {{examValue.title}} </span> </p> </li> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'Exams Level\'|translate}}</span> <span class="col-sm-9 col-xs-6"> {{examValue.exam_level.name}} </span> </p> </li> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'Questions\'|translate}}</span> <span class="col-sm-9 col-xs-6"> {{examValue.exams_question_count}}</span> </p> </li> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'Duration\'|translate}}</span> <span class="col-sm-9 col-xs-6"> {{examValue.duration}}</span> </p> </li> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'To pass\'|translate}}</span> <span class="col-sm-9 col-xs-6"> {{examValue.pass_mark_percentage}}%</span> </p> </li> </ul> </div> </div> </div> </div> </div> </div> <br>  <div class="row"> <div class="modal-header"> <h3>{{\'Select Payment Type\' | translate}}</h3> </div> <div class="modal-body"> <div class=""> <div class=""> <div class="clearfix"> <form name="PaymentForm" role="form" ng-submit="PaymentFormSubmit(PaymentForm.$valid)"> <div class="panel navbar-btn clearfix"> <div class="panel-body col-xs-12">   <div class="col-xs-12 text-center navbar-btn"> <p class="text-22 textb" ng-show="quote_request_views_detail.quote_amount && show_discount"> {{"Price" | translate }} <amount-display amount="{{quote_request_views_detail.quote_amount}}" ng-if="quote_request_views_detail.quote_amount"></amount-display> </p> <p class="text-22 textb" ng-show="show_discount"> {{"Coupon discount" | translate}} {{show_discount}}</p> <p class="text-22 textb" ng-if="examValue.fee"> {{"You have to pay" | translate }} <span>{{examValue.fee |customCurrency}}</span> </p> </div> </div> <div ng-include="\'views/gateway.html\'" class="col-xs-12"></div> </div> </form> </div> </div> </div> </div> </div> </div></div>'),$templateCache.put("scripts/plugins/Bidding/Exam/views/default/exam_result.html",'<div class="section photo-view"> <div class="container" ng-if="exam_data.user_id == user.id"> <div class="row" ng-if="exam_data.exam_status_id == 4"> <h2 class="text-center">{{\'Oops\'|translate}}!! {{"Were Sorry"|translate}}!!</h2> <h2 class="text-center">{{\'You have failed this level of skill test\'|translate}}.</h2> <h2 class="text-center"> {{\'We appreciate you for participating in the skill test\'|translate}}.</h2> </div> <div class="row" ng-if="exam_data.exam_status_id == 3"> <h2 class="text-center">{{\'Congratulation\'|translate}}!!!!</h2> <h2 class="text-center">{{\'You have passed this level of skill test\'|translate}}.</h2> <h2 class="text-center"> {{\'We appreciate you for participating in the skill test\'|translate}}.</h2> </div> <hr> <div class="row text-center"> <h3>{{exam_data.exam.title}} ({{exam_data.exam.exam_level.name}})</h3> <p>{{\'Your score card\'|translate}}: {{exam_data.total_mark * 10}}% Marks</p> </div> <div class="row text-center"> <a class="text-center btn btn-primary" href="/">{{\'Home\' | translate}}</a> <a class="text-center btn btn-primary" href="users/dashboard">{{\'Dashboard\' | translate}}</a> <a class="text-center btn btn-primary" ui-sref="Exam()">{{\'Skill Labs\' | translate}}</a> <a class="text-center btn btn-warning" href="users/logout">{{\'Logout\' | translate}}</a> </div> </div> <div class="container" ng-if="exam_data.user_id != user.id && accessTimeOut"> <div class="row"> <p class="hor-space alert alert-info text-left">{{\'Access Denied\' | translate}}</p> </div> </div> </div>'),
$templateCache.put("scripts/plugins/Bidding/Exam/views/default/exam_start.html",'<div class="section photo-view"> <div class="container"> <h2 class="head-bot">{{\'Test Your Skill -\'|translate}} {{exam_start.exam.title}}</h2> <div> <h4>{{exam_start.exam.exam_level.name}}</h4> <p class="hor-space alert alert-info text-left text-center">{{\'Please read the below instructions before start your skill test\' | translate}}.</p> </div> <div> <div class="panel-heading"> <p ng-bind-html="str"></p> </div> </div> <div class="panel-heading text-right"> <button class="btn btn-primary bot-mspace" name="continue" ng-click="examStart(exam_start.id)">{{\'Continue\' | translate}}</button> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Exam/views/default/exam_view.html",'<div class="section photo-view binding-freelancer exams" ng-if="show_response_page"> <div class="container"> <div class="row"> <br> <div class="clearfix"> <div class="clearfix bot-20-mar col-md-12">  <h2 class="panel-title text-22 head-bot">{{examValue.title}}</h2> </div> <div class="job-body"> <div class="row" ng-if="examValue.ExamsUser[0].exam_status_id == 4 && examValue.ExamsUser[0].exam_status_id == 3"> <p class="hor-space alert alert-info text-left">{{\'Already you attend this exam\' | translate}}</p> </div> <div class="col-sm-2 bot-mspace"> <img ng-src="{{examValue.logo_url}}" class="img-responsive center-block" src="{{examValue.logo_url}}"> </div> <div class="col-sm-6 clearfix"> <div class="job-info"> <ul class="list-unstyled"> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'Exams Level\'|translate}}</span> <span class="col-sm-9 col-xs-4"> {{examValue.exam_level.name}} </span> </p> </li> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'Questions\'|translate}}</span> <span class="col-sm-9 col-xs-4"> {{examValue.exams_question_count}}</span> </p> </li> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'Duration\'|translate}}</span> <span class="col-sm-9 col-xs-4"> {{examValue.duration}}</span> </p> </li> <li> <p class="row"> <span class="col-sm-3 col-xs-4">{{\'To pass\'|translate}}</span> <span class="col-sm-9 col-xs-4"> {{examValue.pass_mark_percentage}}% </span> </p> </li> </ul> </div> </div> <div class="col-sm-4 center"> <div class="panel-body no-pad" ng-if="isAuth"> <div ng-show="examValue.fee > 0"> <span class="text-center text-22">${{examValue.fee}}</span> <span>{{\'is required to take this skills test\' | translate}}.</span> </div> <div ng-show="examValue.fee == 0"> <span>{{\'This Skill Test Is Free\' | translate}}.</span> </div> <div class="top-mar"> <div ng-if="passedCount >= 1"> <p class="alert alert-success text-center no-mar">{{\'You Already Taken and Got Passed this Exam\'| translate}}.</p> </div> <div ng-if="Inprogress >= 1" class="top-mspace-10"> <p class="hor-space alert alert-success text-center text-success">{{\'This skill start is already started/inprocess status right now\' | translate}}</p> <div ng-if="settings[\'IS_ALLOW_TO_RECONTINUE_SKILL_TEST\'] && (settings[\'MAX_NUMBER_OF_TIME_USER_CAN_RECONTINUE\'] == \'\' || settings[\'MAX_NUMBER_OF_TIME_USER_CAN_RECONTINUE\'] >= examAttempts)"> <span> <a class="text-center btn btn-primary" ng-if="Inprogress >= 1 || Incomplete >= 1" ui-sref="ExamStart({id:examValue.ExamsUser[0].id})">{{\'Resume Now\' | translate }}</a></span> </div> </div> <div ng-if="FeePaidOrNotStarted >= 1"> <div ng-show="examValue.fee > 0"> <p class="hor-space alert alert-success text-center text-success">{{\'You have already paid this skill test and yet to start\'| translate}}.</p> <span> <a class="text-center btn btn-primary" ui-sref="ExamStart({id:examValue.ExamsUser[0].id})" title="Start Your Skill Test Now">{{\'Start Your Skill Test Now\'|translate}}</a> </span> </div> </div> <div ng-if="(Failed + Incomplete + SuspendedDueToTakingOvertime) >= 1" class="top-mspace-10"> <p class="hor-space alert alert-success text-center text-success">{{\'You already tried this exam\'| translate}} {{(Failed + Incomplete + SuspendedDueToTakingOvertime)}} {{\'times\' | translate}}.</p> <div ng-if="(Failed + Incomplete + SuspendedDueToTakingOvertime) > settings[\'MAX_NUMBER_OF_TIME_PER_USER_PER_EXAM\']"> <div ng-if="settings[\'IS_FEE_NEEDED_FOR_RERATTEMPTS\'] && examValue.fee > 0"> <span class="text-center text-22">${{examValue.fee}}</span> <span>{{\'is required to take this skills test\' | translate}}.</span> <span> <a class="text-center btn btn-primary" ng-click="exam_users(examValue.id)" title="Start Your Skill Test Now">{{\'Retry Skill Test Now\' | translate}}</a> </span> </div> <div ng-if="settings[\'IS_FEE_NEEDED_FOR_RERATTEMPTS\'] && examValue.fee = 0"> <span> <a class="text-center btn btn-primary" ui-sref="ExamStart({id:examValue.ExamsUser[0].id})" title="Start Your Skill Test Now">{{\'Retry Skill Test Now\' | translate}}</a> </span> </div> </div> </div> <div ng-if="settings[\'IS_ENABLED_HIERARCHY_LEVEL_ATTENDING_EXAM\'] > 0"> <div ng-if="parentpassCount >= 1"> <div ng-if="settings[\'IS_FEE_NEEDED_FOR_RERATTEMPTS\'] && examValue.fee > 0"> <span class="text-center text-22">${{examValue.fee}}</span> <span>{{\'is required to take this skills test\' | translate}}.</span> <span> <a class="text-center btn btn-primary" ng-click="exam_users(examValue.id)" title="Start Your Skill Test Now">{{\'Test Your Skills\' | translate}}</a> </span> </div> <div ng-if="settings[\'IS_FEE_NEEDED_FOR_RERATTEMPTS\'] && examValue.fee == 0"> <span> <a class="text-center btn btn-primary" ui-sref="ExamStart({id:examValue.ExamsUser[0].id})" title="Start Your Skill Test Now">{{\'Test Your Skills\' | translate}}</a> </span> </div> </div> <div ng-if="parentpassCount == 0"> <p class="hor-space alert alert-success text-center text-success">{{\'You must complete the exam in order of difficulty. So please complete\'| translate}} {{examValue.parent[0].title}} {{\'Level\' | translate}} {{examValue.parent[0].exam_level_id}} {{\'before trying\' | translate }} {{examValue.title}} {{\'Level\' | translate}} {{examValue.exam_level_id}} {{\'test\' | translate}}</p> </div> </div> <a class="text-center btn btn-primary top-mspace-10" ng-click="exam_users(examValue.id)" title="Test Your Skills">{{\'Test Your Skills\' | translate}}</a> </div>  </div> <div class="panel-body" ng-if="!isAuth"> <span class="text-center">${{examValue.fee}}</span><br> <span>{{\'is required to take this skills test\' | translate}}.</span> <span> <a class="text-center btn btn-primary" ng-click="openLoginModal(\'login\')" title="Test Your Skills">{{\'Test Your Skills\'|translate}}</a> </span> </div> <div class="top-mar"> <a class="text-center btn btn-default" ui-sref="Exam()" title="Back To Skills Lab">{{\'Back To Skills Lab\'|translate}}</a> <span class="featured" ng-show="examValue.is_featured == 1">{{\'Featured\'|translate}}</span> </div> </div>  </div> </div> <br> <div class="col-md-12"> <h3 class="panel-title text-18 bottom-mar-5">{{\'Topics Covered\' | translate}}</h3> <div> <p ng-bind-html="topics_covered"></p> </div> <br> </div> <div class="col-md-12"> <h3 class="panel-title text-18 bottom-mar-5">{{\'Instructions\' | translate}}</h3> <div> <p ng-bind-html="str"></p> </div> <br> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Exam/views/default/exams.html",'<div class="section photo-view skill-tests" ng-controller="ExamListCtrl"> <div class="container"> <h3 class="panel-title text-22 pull-left bot-space">{{\'Search Skill Tests\' | translate}}</h3> <div class="clearfix"> <div class="pull-right"> <div class="form-group label-frm"> <form class="form-inline" role="form" name="ExamsearchForm"> <div class="input-group"> <input type="text" class="form-control" ng-model="params.q" placeholder="Search Exams"> <span class="input-group-btn"> <button type="submit" ng-click="refinesearch(params.q)" class="btn btn-primary"><i class="fa fa-search"></i></button> </span> </div> </form> </div> </div> </div> <ul class="row list-inline"> <li class="col-sm-4" ng-repeat="examsValue in exams" ng-class="{\'featured\':examsValue.is_featured == 1}"> <div class="media"> <div class="pull-left exams-img"> <img ng-src="{{examsValue.logo_url}}" alt="{{examsValue.title}}"> </div> <div class="media-body"> <a class="cursor" ui-sref="ExamView({id:examsValue.id , slug:examsValue.slug})">{{examsValue.title}}</a> ({{examsValue.exam_level.name}}) <p class="top-mspace-5 text-12">{{examsValue.exams_question_count}} {{\'Questions\'|translate}}<span class="left-space">{{examsValue.duration}} mins</span></p> </div> </div> </li> </ul> <div class="text-center bot-space" ng-if="exams.length <= 0"> <span class="text-danger">{{\'No records Found\' | translate}}</span> </div> <div class="row binding-pagination bot-mspace"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <div class="row"> <div class="col-md-12 text-center"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Exam/views/default/my_exams.html",'<div class="section photo-view"> <div class="container"> <div class="row"> <div class="col-md-12"> <div class="col-md-8"> <h2>Skill Test Attempts</h2> </div> <div class="col-md-4 pull-right"> <a class="text-center btn btn-primary" ng-click="filter(3)">{{\'View All Certificate\' | translate}}</a> <a class="text-center btn btn-primary" ng-click="filter(4)">{{\'View All Attempts\' | translate}}</a> </div> </div> </div> <div class="row"> <div class="col-md-12"> <table ng-if="myExams.length > 0" class="table table-striped sep table-inner ver-mspace table-bordered"> <thead> <tr> <th class="col-md-4"> <label> Exam </label> </th> <th class="col-md-4"> <label> Date </label> </th> <th class="col-md-4"> <label> Taken Mark </label> </th> <th class="col-md-4"> <label> Result </label> </th> </tr> </thead> <tbody> <tr ng-repeat="myExam in myExams"> <td>{{myExam.exam.title}}</td> <td>{{myExam.exam_status.created_at}}</td> <td>{{myExam.total_mark}}</td> <td>{{myExam.exam_status.name}}</td> </tr> </tbody> </table> <div ng-if="myExams.length == 0"> <p class="hor-space alert alert-info text-left">{{\'No exams are found\' | translate}}</p> </div> </div> </div> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding.Exam');"use strict";angular.module("getlancerApp.Bidding.Invoice",["getlancerApp.Bidding.Constant","ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngFileUpload","infinite-scroll","ngTagsInput","angularMoment","bc.Flickity","afkl.lazyImage","angular-loading-bar","ngAnimate","oitozero.ngSweetAlert","slugifier","checklist-model","angularjs-dropdown-multiselect","rzModule"]).config(function($stateProvider,$urlRouterProvider){var getToken={TokenServiceData:function(TokenService,$q){return $q.all({AuthServiceData:TokenService.promise,SettingServiceData:TokenService.promiseSettings})}};$urlRouterProvider.otherwise("/"),$stateProvider.state("Bidding_InvoicePayment",{url:"/projects/payment/invoice/:id",templateUrl:"scripts/plugins/Bidding/Invoice/views/default/bidding_invoice_payment.html",controller:"BiddingInvoicePaymentCtrl",resolve:getToken})}),angular.module("getlancerApp.Bidding.Invoice").controller("BiddingInvoiceCtrl",function($scope,$rootScope,$timeout,$state,$cookies,$filter,flash,md5,ProjectStatusConstant,SweetAlert,Invoice){$scope.GetInvoices=function(){$scope.invoiceparams.page=void 0!==$scope.InvoicecurrentPage?$scope.InvoicecurrentPage:1,Invoice.get($scope.invoiceparams,function(response){angular.isDefined(response._metadata)&&($scope.InvoicecurrentPage=response._metadata.current_page,$scope.InvoicetotalItems=response._metadata.total,$scope.InvoiceitemsPerPage=response._metadata.per_page,$scope.InvoicenoOfPages=response._metadata.last_page),0===parseInt(response.error.code)?$scope.invoices=response.data:$scope.invoices=[]})},$scope.InvoicePaginate=function(items){$scope.InvoicecurrentPage=parseInt(items),$rootScope.settings.SITE_ENABLED_PLUGINS.indexOf("Bidding/Invoice")>-1&&$scope.GetInvoices()},$scope.buttonInvoice="Add Invoice",$scope.form=function(){$scope.data={},0==$scope.invoice_value?($scope.invoice_value=!0,$scope.buttonInvoice="Cancel"):($scope.invoice_value=!1,$scope.buttonInvoice="Add Invoice")},$scope.bids={},$scope.invoice_set=!1,$scope.ProjectInvoice=function(invoiceform,is_valid){$scope.invoice_set=!0;var flashMessage="";$scope.projectvalue={},$scope.projectvalue.bid_id=$scope.bidid,$scope.projectvalue.project_bid_invoice_items=[$scope.bids],angular.isDefined($scope.formid)&&null!==$scope.formid?Invoice.put({id:$scope.formid},$scope.projectvalue,function(response){$scope.invoice_set=!1,0===parseInt(response.error.code)?($scope.addInvoice=!1,flashMessage=$filter("translate")("Invoice updated successfully."),$scope.invoice_value=!1,$scope.buttonInvoice="Add Invoice",$scope.formid=null,flash.set(flashMessage,"success",!1),$scope.bids={},invoiceform.$setPristine(),invoiceform.$setUntouched(),$scope.GetInvoices()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}):is_valid&&($scope.invoice_set=!0,Invoice.post($scope.projectvalue,function(response){$scope.invoice_set=!1,0===parseInt(response.error.code)?($scope.addInvoice=!1,flashMessage=$filter("translate")("Invoice sent successfully."),$scope.buttonInvoice="Add Invoice",$scope.invoice_value=!1,flash.set(flashMessage,"success",!1),$scope.bids={},invoiceform.$setPristine(),invoiceform.$setUntouched(),$scope.GetInvoices()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}))},$scope.EditInvoice=function(invoiceId){$scope.buttonInvoice="Cancel",$scope.invoice_value=!0,$rootScope.settings.SITE_ENABLED_PLUGINS.indexOf("Bidding/Invoice")>-1&&Invoice.get({id:invoiceId},function(response){0===parseInt(response.error.code)&&($scope.getinvoice=response.data,angular.forEach($scope.getinvoice.projectbidinvoiceitems,function(value){$scope.formid=value.project_bid_invoice_id,$scope.bids.amount=parseInt(value.amount),$scope.bids.description=value.description}))})},$scope.deleteInvoice=function(invoiceId){var flashMessage={};null!==$rootScope.user&&void 0!==$rootScope.user&&SweetAlert.swal({title:$filter("translate")("Are you sure you want to delete?"),type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&Invoice["delete"]({id:invoiceId},function(response){0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Invoice deleted successfully."),flash.set(flashMessage,"success",!1),$scope.GetInvoices()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})})},$scope.GetInvoices()}),angular.module("getlancerApp.Bidding.Invoice").controller("BiddingInvoicePaymentCtrl",function($rootScope,$scope,$window,countries,states,cities,$stateParams,usersAddresses,wallet,flash,$location,$filter,$state,paymentGateways,userSettings,ConstPaymentGateways,ProjectEditView,UserMeFactory,$cookies,Invoice,ClassName,PaymentOrderFactory,CouponGetStatusFactory,$uibModalStack){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Confirm your Payment"),$rootScope.settings.SITE_ENABLED_PLUGINS.indexOf("Bidding/Invoice")>-1&&Invoice.get({id:$state.params.id},function(response){0===parseInt(response.error.code)&&($scope.paymentValue=response.data,$scope.plan_info.price_final=$scope.paymentValue.amount,$scope.className=ClassName.invoice,$scope.commission_value=parseInt($scope.plan_info.price_final*$rootScope.settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_INVOICE)/100)}),$scope.minimum_wallet_amount=$rootScope.settings.WALLET_MIN_WALLET_AMOUNT,$scope.maximum_wallet_amount=$rootScope.settings.WALLET_MAX_WALLET_AMOUNT,$scope.buyer={},$scope.plan={},$scope.paynow_is_disabled=!1,$scope.payment_note_enabled=!1,$scope.payer_form_enabled=!0,$scope.is_wallet_page=!0,$scope.plan_info={},$scope.save_btn=!1,$scope.first_gateway_id="",$scope.index=function(){$scope.loader=!0,$scope.payment=!0,UserMeFactory.get({},function(response){$scope.user_available_balance=response.data.available_wallet_amount,0===parseInt($scope.user_available_balance)?$scope.is_show_wallet_paybtn=!1:$scope.is_show_wallet_paybtn=!0});var payment_gateways=[];paymentGateways.get({},function(payment_response){if(payment_response.wallet&&($scope.wallet_enabled=!0),payment_response.PayPalREST){var response=payment_response.PayPalREST;response.paypalrest_enabled&&($scope.paypal_enabled=!0)}$scope.group_gateway_id="",0===payment_response.error.code&&(void 0!==payment_response.zazpay&&1!==payment_response.zazpay.error.code?(angular.forEach(payment_response.zazpay.gateways,function(gateway_group_value,gateway_group_key){0===gateway_group_key&&($scope.group_gateway_id=gateway_group_value.id,$scope.first_gateway_id=gateway_group_value.id),angular.forEach(gateway_group_value.gateways,function(payment_geteway_value,payment_geteway_key){var payment_gateway={},suffix="sp_";0===gateway_group_key&&($scope.sel_payment_gateway="sp_"+payment_geteway_value.id),suffix+=payment_geteway_value.id,payment_gateway.id=payment_geteway_value.id,payment_gateway.payment_id=suffix,payment_gateway.group_id=gateway_group_value.id,payment_gateway.display_name=payment_geteway_value.display_name,payment_gateway.thumb_url=payment_geteway_value.thumb_url,payment_gateway.suffix=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.form_fields=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.instruction_for_manual=payment_geteway_value.instruction_for_manual,payment_gateways.push(payment_gateway)})}),$scope.gateway_groups=payment_response.zazpay.gateways,$scope.payment_gateways=payment_gateways,$scope.form_fields_tpls=payment_response.zazpay._form_fields_tpls,$scope.show_form=[],$scope.form_fields=[],angular.forEach($scope.form_fields_tpls,function(key,value){"buyer"===value&&($scope.form_fields[value]="views/buyer.html"),"credit_card"===value&&($scope.form_fields[value]="views/credit_card.html"),"manual"===value&&($scope.form_fields[value]="views/manual.html"),$scope.show_form[value]=!0}),$scope.gateway_id=ConstPaymentGateways.ZazPay):response.paypalrest_enabled&&($scope.gateway_id=ConstPaymentGateways.PayPal)),$scope.loader=!1})},$scope.applyCoupon=function(){var params={};params.coupon_code=$scope.plan.coupon,params.amount=$scope.paymentValue.amount,CouponGetStatusFactory.get(params,function(response){if($scope.discountCoupon=response,0===response.error.code)if($scope.discountCoupon.data.discount_type_id==ConstDiscountType.Amount)$scope.plan_info.price_final=parseFloat($scope.paymentValue.amount)-parseFloat(response.data.discount),$scope.show_discount=$filter("currency")(response.data.discount);else{var discount_amt=response.data.discount/100*$scope.paymentValue.amount;$scope.plan_info.price_final=$scope.paymentValue.amount-discount_amt,$scope.show_discount=$filter("translate")(response.data.discount+"%")}else flash.set($filter("translate")(response.error.message),"error",!1),$scope.plan.coupon=""})},$scope.ClearCoupon=function(){$scope.plan_info.price_final=$scope.paymentValue.amount,$scope.purchase_plan_coupon=!1,$scope.show_discount=!1},$scope.paneChanged=function(pane){"Manual / Offline"===pane&&($scope.payment_note_enabled=!0);var keepGoing=!0;$scope.buyer={},$scope.PaymentForm.$setPristine(),$scope.PaymentForm.$setUntouched(),angular.forEach($scope.form_fields_tpls,function(key,value){$scope.show_form[value]=!1}),$scope.gateway_id=ConstPaymentGateways.ZazPay,angular.forEach($scope.gateway_groups,function(res){if(res.display_name===pane&&"Wallet"!==pane){var selPayment="";angular.forEach($scope.payment_gateways,function(response){keepGoing&&response.group_id===res.id&&(selPayment=response,keepGoing=!1,$scope.rdoclick(selPayment.id,selPayment.form_fields))}),$scope.sel_payment_gateway="sp_"+selPayment.id,$scope.group_gateway_id=selPayment.group_id}}),"Wallet"===pane&&($scope.gateway_id=ConstPaymentGateways.Wallet),"paypal"===pane&&($scope.gateway_id=ConstPaymentGateways.PayPal)},$scope.rdoclick=function(res,res1){$scope.paynow_is_disabled=!1,$scope.sel_payment_gateway="sp_"+res,$scope.array=res1.split(","),angular.forEach($scope.array,function(value){$scope.show_form[value]=!0})},$scope.PaymentFormSubmit=function(form){var payment_id="";if($scope.sel_payment_gateway&&$scope.gateway_id===ConstPaymentGateways.ZazPay&&(payment_id=$scope.sel_payment_gateway.split("_")[1]),$scope.auth=JSON.parse($cookies.get("auth")),$scope.buyer.user_id=$scope.auth.id,$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]="ProjectBidInvoice",$scope.buyer.buyer_name=$scope.buyer.credit_card_name_on_card,$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=payment_id,$scope.buyer.coupon_code=$scope.plan.coupon,angular.isDefined($scope.buyer.credit_card_expired)&&($scope.buyer.credit_card_expired.month||$scope.buyer.credit_card_expired.year)&&($scope.buyer.credit_card_expire=$scope.buyer.credit_card_expired.month+"/"+$scope.buyer.credit_card_expired.year),form){$scope.paynow_is_disabled=!0;var flashMessage;if(parseFloat($scope.plan_info.price_final)>parseFloat($scope.user_available_balance)&&$scope.gateway_id===ConstPaymentGateways.Wallet)return flashMessage=$filter("translate")("Your wallet has insufficient money."),flash.set(flashMessage,"error",!1),$scope.paynow_is_disabled=!1,!0;PaymentOrderFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.go("Bid_ProjectView",{id:$scope.paymentValue.project.id,slug:$scope.paymentValue.project.slug})):0===response.error.code?("Captured"===response.payment_response.status&&($scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.amount)),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.go("Bid_ProjectView",{id:$scope.paymentValue.project.id,slug:$scope.paymentValue.project.slug})):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.data.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.data.error.message),"error",!1),$scope.paynow_is_disabled=!1})}},$scope.payNowPayPalClick=function(){var flashMessage;$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]="ProjectBidInvoice",$scope.buyer.payment_gateway_id=ConstPaymentGateways.PayPal,$scope.buyer.gateway_id=$scope.buyer.payment_gateway_id,$scope.paynow_is_disabled=!0,PaymentOrderFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.error.code?("Captured"===response.payment_response.status&&($scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.amount)),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload(),$state.go("user_dashboard")):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1,$uibModalStack.dismissAll()},function(error){console.log(error)})},countries.get({limit:"all"},function(response){angular.isDefined(response.data)&&($scope.countries=response.data)}),$scope.index()}),angular.module("getlancerApp.Bidding.Invoice").factory("MeInvoice",function($resource){return $resource("/api/v1/me/project_bid_invoices",{},{get:{method:"GET"}})}),angular.module("getlancerApp.Bidding.Invoice").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/Invoice/views/default/bidding_invoice.html",' <div class="tab-content" ng-controller="BiddingInvoiceCtrl"> <div class="milestone-block clearfix"> <div class="tab-pane active"> <div class="clearfix"> <h3 class="pull-left no-mar text-uppercase">{{\'INVOICES\'|translate}}</h3> <p ng-show="!project_is_dispute" class="pull-right cursor btn btn-default" ng-class="(buttonInvoice == \'Add Invoice\')?\'request-btn\':\'text-danger\'" ng-click="form()" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment && is_freelancer">{{buttonInvoice}}</p> </div> <div class="row" ng-show="invoice_value"> <form class="proj-form clearfix top-small-mspace" role="form" name="invoiceform" ng-submit="ProjectInvoice(invoiceform,invoiceform.$valid)" novalidate> <div class="col-sm-6"> <input type="number" ng-model="bids.amount" name="InvoiceAmount" id="amount" placeholder="Amount" class="milestone-heading form-control" min="0" number-only ng-required="true"> <span class="error" ng-show="(invoiceform.$submitted || invoiceform.InvoiceAmount.$touched) && (invoiceform.InvoiceAmount.$pristine || invoiceform.InvoiceAmount.$invalid) && (invoiceform.InvoiceAmount.$error.required)">{{\'Required\'| translate }} </span> </div> <div class="col-sm-6"> <input type="text" ng-model="bids.description" name="InvoiceDescription" placeholder="Description" class="milestone-heading form-control" ng-required="true"> <span class="error" ng-show="(invoiceform.$submitted || invoiceform.InvoiceDescription.$touched) && (invoiceform.InvoiceDescription.$pristine || invoiceform.InvoiceDescription.$invalid) && (invoiceform.InvoiceDescription.$error.required)">{{\'Required\'| translate}} </span> </div> <div class="col-sm-6"> <div class="ver-mar-20"> <button type="submit" ng-show="invoice_set" title="{{\'Submit\'|translate}}" class="btn btn-primary text-uppercase" disabled>{{\'Submit\'|translate}}</button> <button type="submit" ng-show="!invoice_set" title="{{\'Submit\'|translate}}" class="btn btn-primary text-uppercase">{{\'Submit\'|translate}}</button> </div> </div> </form> </div>  <div class="panel-heading row" ng-show="!loader"> <div class="add-wallet-table"> <div class="table-responsive pg-table"> <table class="table table-striped no-mar table-bordered"> <thead> <tr ng-if="invoices.length > 0"> <th>{{\'Amount\' |translate}}</th> <th>{{\'Description\'|translate}}</th> <th>{{\'Status\'|translate}}</th> <th width="100" ng-show="!project_is_dispute">{{\'Actions\'|translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="invoices in invoices"> <td> <table> <tr ng-repeat="invoice in invoices.projectbidinvoiceitems"> <td> <amount-display amount="{{invoice.amount}}" ng-if="invoice.amount"></amount-display> </td> </tr> </table> </td> <td> <table> <tr ng-repeat="invoice in invoices.projectbidinvoiceitems"> <td>{{invoice.description}}</td> </tr> </table> </td> <td> <table> <tr ng-repeat="invoice in invoices.projectbidinvoiceitems"> <td> <p class="no-mar" ng-if="invoices.is_paid == 0"> Not yet Paid</p> <p class="no-mar" ng-if="invoices.is_paid > 0">Paid</p> </td> </tr> </table> </td> <td> <table> <tr ng-repeat="invoice in invoices.projectbidinvoiceitems" ng-show="!project_is_dispute"> <td> <div class="center-responsive"> <div class="dropdown" ng-if="is_freelancer && invoices.is_paid == 0"> <button class="request-btn btn btn-primary dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Action<i class="fa fa-angle-down" aria-hidden="true"></i> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenu4"> <li ng-if="is_freelancer && invoices.is_paid == 0"> <a ng-click="EditInvoice(invoice.project_bid_invoice_id)"><i class="fa fa-edit fa-fw"></i> {{\'Edit\'| translate}}</a></li> <li ng-if="is_freelancer && invoices.is_paid == 0"> <a ng-click="deleteInvoice(invoice.project_bid_invoice_id)"><i class="fa fa-trash-o fa-fw"></i> {{\'Delete\'| translate}}</a></li> </ul> </div> <div class="employer-invoice-action" ng-if="!is_freelancer && invoices.is_paid == 0"> <a class="btn btn-primary" ui-sref="Bidding_InvoicePayment({\'slug\':\'invoice\' , \'id\':invoices.id})">{{\'Pay\'| translate}}</a> </div> <div class="no-action" ng-if="invoices.is_paid != 0"> - </div> </div> </td> </tr> </table> </td> </tr> <tr class="text-center"> <p colspan="8" class="text-center text-danger" ng-if="invoices.length == 0"> {{\'No records available\' | translate}} </p>  </tr></tbody></table></div>    </div> <div class="row"> <div class="col-md-12 text-center" ng-hide="(credit_purchase_logs.length > itemsPerPage) && currentPage==1"> <uib-pagination ng-hide="!credit_purchase_logs.length" total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="noOfPages" ng-click="paginate_credit_log()"></uib-pagination> </div> </div> </div> </div>  </div> </div>  '),$templateCache.put("scripts/plugins/Bidding/Invoice/views/default/bidding_invoice_payment.html",'<div class="section photo-view"> <div class="container">  <div class="row"> <div class="modal-header"> <h3>{{\'Invoice payment for\' | translate}} {{paymentValue.project.name}}</h3> </div> <div class="modal-body"> <div class=""> <div class=""> <div class="clearfix"> <form name="PaymentForm" role="form" ng-submit="PaymentFormSubmit(PaymentForm.$valid)"> <div class="panel navbar-btn clearfix"> <div class="panel-body col-xs-12">   <div class="col-xs-12 text-center navbar-btn"> <p class="text-22 textb" ng-show="quote_request_views_detail.quote_amount && show_discount"> {{"Price" | translate }} <amount-display amount="{{quote_request_views_detail.quote_amount}}" ng-if="quote_request_views_detail.quote_amount"></amount-display> </p> <p class="text-22 textb" ng-show="show_discount"> {{"Coupon discount" | translate }} {{show_discount}}</p> <p class="text-22 textb" ng-if="paymentValue.amount"> {{"You have to pay" | translate }} <span>{{paymentValue.amount |customCurrency}}</span> </p> <p class="alert alert-info" ng-if="settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_INVOICE && (settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_INVOICE !== \'0\' || settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_INVOICE !== \'\')"> {{\'Including site commission, system will take\'| translate}} {{paymentValue.amount -- commission_value | customCurrency}} {{\'from you\'| translate}}. </p> </div> </div> <div ng-include="\'views/gateway.html\'" class="col-xs-12"></div> </div> </form></div>  </div> </div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Invoice/views/default/my_bids_invoices.html",'<section class=""> <div class="container"> <div class="row"> <div class="col-xs-12"> <div class="project-contest"> <div class="clearfix"> <ul class="list-group custom-binding"> <li class="list-group-item project-heading hidden-xs"> <div class="row text-center"> <div class="col-sm-4"> <h5>PROJECT NAME</h5> </div> <div class="col-sm-2"> <h5>AMOUNT</h5> </div> <div class="col-sm-2"> <h5>DESCRIPTION </h5> </div> <div class="col-sm-2"> <h5>STATUS</h5> </div> <div class="col-sm-2"> <h5>ACTIONS</h5> </div> </div> </li> <li class="list-group-item project-content" ng-repeat="invoicesBid in invoices" ng-if="invoices.length > 0"> <div class="row" ng-repeat="invoice in invoicesBid.projectbidinvoiceitems"> <div class="col-sm-4"> <h5 class="visible-xs">PROJECT NAME</h5> <h5 class="text-18"><a ui-sref="Bid_ProjectView({\'id\':invoicesBid.bid.project.id, \'slug\':invoicesBid.bid.project.slug})"> {{invoicesBid.bid.project.name}} </a></h5> </div> <div class="col-sm-2"> <span class="visible-xs">AMOUNT</span> <span class="content"> <amount-display amount="{{invoice.amount}}" ng-if="invoice.amount"></amount-display> </span> </div> <div class="col-sm-2"> <span class="visible-xs">DESCRIPTION</span> <span class="content" ng-bind-html="invoice.description"></span> </div> <div class="col-sm-2"> <span class="visible-xs">STATUS</span> <span class="no-mar" ng-if="invoicesBid.is_paid == 0"> Not yet Paid</span> <span class="no-mar" ng-if="invoicesBid.is_paid > 0">Paid</span> </div> <div class="col-sm-2"> <div class="center-responsive"> <div class="dropdown" ng-if="is_freelancer && invoicesBid.is_paid == 0"> <button class="request-btn btn btn-default dropdown-toggle" type="button" id="dropdownMenu4" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">Action<i class="fa fa-angle-down" aria-hidden="true"></i> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenu4"> <li ng-if="is_freelancer && invoicesBid.is_paid == 0"> <a ui-sref="Bid_ProjectView({\'id\':invoicesBid.bid.project.id, \'slug\':invoicesBid.bid.project.slug})">{{\'Edit\'| translate}}</a> </li> </ul> </div> <div class="employer-invoice-action" ng-if="!is_freelancer && invoicesBid.is_paid == 0"> <a class="btn btn-default" ui-sref="Bid_ProjectFinalPayment({\'name\':\'invoice\' , \'id\':invoice.id})">{{\'Pay\'| translate}}</a> </div> <div class="no-action" ng-if="invoicesBid.is_paid != 0"> - </div> </div> </div> </div> </li> <li ng-if="invoices.length == 0" class="list-group-item project-content"> <p class="no-mar text-center">{{\'No records available\' | translate}}</p> </li> </ul> </div> </div> </div> </div>  <div class="row binding-pagination" ng-if="invoices.length == 0"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </section>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding.Invoice');"use strict";angular.module("getlancerApp.Bidding.Milestone",["getlancerApp.Bidding.Constant","ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngFileUpload","infinite-scroll","ngTagsInput","angularMoment","bc.Flickity","afkl.lazyImage","angular-loading-bar","ngAnimate","oitozero.ngSweetAlert","slugifier","checklist-model","angularjs-dropdown-multiselect","rzModule"]).config(function($stateProvider,$urlRouterProvider){var getToken={TokenServiceData:function(TokenService,$q){return $q.all({AuthServiceData:TokenService.promise,SettingServiceData:TokenService.promiseSettings})}};$urlRouterProvider.otherwise("/"),$stateProvider.state("Bidding_MilestonePayment",{url:"/projects/payment/milestone/:id",templateUrl:"scripts/plugins/Bidding/Milestone/views/default/bidding_milestone_payment.html",controller:"BiddingMilestonePaymentCtrl",resolve:getToken})}),angular.module("getlancerApp.Bidding.Milestone").controller("BiddingMilestoneCtrl",function($scope,$rootScope,$timeout,$state,$cookies,$filter,flash,md5,ProjectStatusConstant,SweetAlert,MeMilestone,BidMilestone,GetMilestoneStatus,MilestoneStatusChange,Milestone,MilestoneStatusConstant){function toggleMin(){$scope.inlineOptions.minDate=$scope.inlineOptions.minDate?null:new Date,$scope.dateOptions.minDate=new Date}function getDayClass(data){var date=data.date,mode=data.mode;if("day"===mode)for(var dayToCheck=new Date(date).setHours(0,0,0,0),i=0;i<$scope.events.length;i++){var currentDay=new Date($scope.events[i].date).setHours(0,0,0,0);if(dayToCheck===currentDay)return $scope.events[i].status}return""}$scope.MilestoneStatusConstant=MilestoneStatusConstant;var flashMessage="";$scope.isupdated=!1,$scope.milestones=[],$scope.data={},$scope.form_value=!1,$scope.milestoneinit=function(){$scope.milestoneindex(1),$scope.milestoneindex(2)},$scope.milestoneindex=function(reqType){if(1===reqType?$scope.milestoneParams={page:$scope.currentPageMilestone,limit:3,bid_id:$scope.bidid}:2===reqType?$scope.milestoneParams={page:$scope.currentPage,limit:3,bid_id:$scope.bidid}:$scope.milestoneParams={page:void 0!==$scope.currentPage?$scope.currentPage:1,limit:3,bid_id:$scope.bidid},1===parseInt(reqType))$scope.milestoneParams.milestone_status_id=1,$scope.totalAmount=0;else{var milestone_status_id=[2,3,4,5,6,7];$scope.milestoneParams.milestone_status_id=milestone_status_id.toString(),$scope.all=0}BidMilestone.get($scope.milestoneParams,function(response){0===parseInt(response.error.code)&&(angular.forEach(response.data,function(value){1===parseInt(reqType)?$scope.totalAmount+=parseInt(value.amount):$scope.all+=parseInt(value.amount)}),1===parseInt(reqType)?($scope.milestones=response.data,$scope.currentPageMilestone=response._metadata.current_page,$scope.totalItemsMilestone=response._metadata.total,$scope.itemsPerPageMilestone=response._metadata.per_page,$scope.noOfPagesMilestone=response._metadata.last_page,$scope.is_show_loader=!1):($scope.milestonesGet=response.data,$scope.currentPage=response._metadata.current_page,$scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page,$scope.is_show_loader=!1))},function(error){1===parseInt(reqType)?($scope.currentPageMilestone=0,$scope.totalItemsMilestone=0,$scope.itemsPerPageMilestone=0,$scope.noOfPagesMilestone=0):($scope.currentPage=0,$scope.totalItems=0,$scope.itemsPerPage=0,$scope.noOfPages=0)})},GetMilestoneStatus.get(function(response){$scope.is_show_loader=!1,0===parseInt(response.error.code)&&($scope.milestoneStatus=response.data)},function(error){console.log("Milestone directive",error)}),$scope.form=function(){$scope.data={},0==$scope.form_value?($scope.create_mile=!0,$scope.form_value=!0,$scope.milestone_set_status_id=!1,$scope.buttonName="Cancel"):($scope.form_value=!1,$scope.buttonName=$scope.is_freelancer===!0?"Request Milestone":"Create Milestone")},$scope.milestone_set=!1,$scope.submit=function(id,$valid){$valid&&($scope.milestone_set=!0,angular.isDefined(id)?($scope.approveButton=!0,$scope.data.id=id,$scope.data.bid_id=$scope.bidid,$scope.is_freelancer||($scope.data.milestone_status_id=MilestoneStatusConstant.MilestoneSet),Milestone.put($scope.data,function(response){$scope.milestone_set=!1,$scope.milestonesss=response.data,0===response.error.code?($scope.form_value=!1,flashMessage=$filter("translate")("Milestone updated successfully."),flash.set(flashMessage,"success",!1),$scope.milestone_set=!1,$scope.buttonName=$scope.is_freelancer===!0?"Request Milestone":"Create Milestone"):($scope.milestone_set=!1,flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1)),$scope.milestoneinit()})):($scope.data.bid_id=$scope.bidid,BidMilestone.post($scope.data,function(response){$scope.milestonesss=response.data,0===response.error.code?($scope.form_value=!1,flashMessage=$filter("translate")("Milestone added successfully."),flash.set(flashMessage,"success",!1),$scope.milestone_set=!1,$scope.buttonName=$scope.is_freelancer===!0?"Request Milestone":"Create Milestone"):($scope.milestone_set=!1,flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1)),$scope.milestoneinit()})))},$scope.milestoneDelete=function(id){Milestone["delete"]({id:id},function(response){$scope.data=response.data;var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Milestone is deleted"),flash.set(flashMessage,"success",!1),$scope.milestoneinit()):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))})},$scope.MilestoneEdit=function(id){$scope.milestone_set=!1,$scope.create_mile=!1,$scope.data={},$scope.buttonName="Cancel",$scope.form_value=!0,Milestone.get({id:id},function(response){$scope.milestone_set_status_id=response.data.milestone_status_id,response.data.amount=parseInt(response.data.amount),$scope.data=response.data,$scope.setDate($scope.data.deadline_date)})},$scope.paginate=function(value,page){1===value?($scope.currentPageMilestone=parseInt(page),$scope.milestoneindex(1)):($scope.currentPage=parseInt(page),$scope.milestoneindex(2))},$scope.milestoneinit(),$scope.$on("isupdated",function(event,data){$scope.milestoneinit()}),$scope.today=function(){$scope.dt=new Date},$scope.today(),$scope.clear=function(){$scope.dt=null},$scope.inlineOptions={customClass:getDayClass,minDate:new Date,showWeeks:!0},$scope.dateOptions={formatYear:"yy",maxDate:new Date(2020,12,31),minDate:new Date,startingDay:1},toggleMin(),$scope.open1=function(){$scope.popup1.opened=!0},$scope.open2=function(){$scope.popup2.opened=!0},$scope.setDate=function(date){$scope.data.deadline_date=new Date(date)},$scope.formats=["yyyy-MM-dd","yyyy/MM/dd","dd.MM.yyyy","shortDate"],$scope.format=$scope.formats[1],$scope.altInputFormats=$scope.formats[1],$scope.popup1={opened:!1},$scope.popup2={opened:!1}}),angular.module("getlancerApp.Bidding.Milestone").controller("BiddingMilestonePaymentCtrl",function($rootScope,$scope,$window,countries,states,cities,$stateParams,usersAddresses,wallet,flash,$location,$filter,$state,paymentGateways,userSettings,ConstPaymentGateways,ProjectEditView,UserMeFactory,$cookies,Milestone,ClassName,PaymentOrderFactory,CouponGetStatusFactory,$uibModalStack){$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Confirm your Payment"),Milestone.get({id:$state.params.id},function(response){0===parseInt(response.error.code)&&($scope.paymentValue=response.data,$scope.projectId=$scope.paymentValue.project.id,$scope.plan_info.price_final=$scope.paymentValue.amount,$scope.className=ClassName.milestone,$scope.commission_value=parseInt($scope.plan_info.price_final*$rootScope.settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_MILESTONE)/100)}),$scope.minimum_wallet_amount=$rootScope.settings.WALLET_MIN_WALLET_AMOUNT,$scope.maximum_wallet_amount=$rootScope.settings.WALLET_MAX_WALLET_AMOUNT,$scope.buyer={},$scope.plan={},$scope.paynow_is_disabled=!1,$scope.payment_note_enabled=!1,$scope.payer_form_enabled=!0,$scope.is_wallet_page=!0,$scope.plan_info={},$scope.save_btn=!1,$scope.first_gateway_id="",$scope.index=function(){$scope.loader=!0,$scope.payment=!0,UserMeFactory.get({},function(response){$scope.user_available_balance=response.data.available_wallet_amount,0===parseInt($scope.user_available_balance)?$scope.is_show_wallet_paybtn=!1:$scope.is_show_wallet_paybtn=!0});var payment_gateways=[];paymentGateways.get({},function(payment_response){if(payment_response.wallet&&($scope.wallet_enabled=!0),payment_response.PayPalREST){var response=payment_response.PayPalREST;response.paypalrest_enabled&&($scope.paypal_enabled=!0)}$scope.group_gateway_id="",0===payment_response.error.code&&(void 0!==payment_response.zazpay&&1!==payment_response.zazpay.error.code?(angular.forEach(payment_response.zazpay.gateways,function(gateway_group_value,gateway_group_key){0===gateway_group_key&&($scope.group_gateway_id=gateway_group_value.id,$scope.first_gateway_id=gateway_group_value.id),angular.forEach(gateway_group_value.gateways,function(payment_geteway_value,payment_geteway_key){var payment_gateway={},suffix="sp_";0===gateway_group_key&&($scope.sel_payment_gateway="sp_"+payment_geteway_value.id),suffix+=payment_geteway_value.id,payment_gateway.id=payment_geteway_value.id,payment_gateway.payment_id=suffix,payment_gateway.group_id=gateway_group_value.id,payment_gateway.display_name=payment_geteway_value.display_name,payment_gateway.thumb_url=payment_geteway_value.thumb_url,payment_gateway.suffix=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.form_fields=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.instruction_for_manual=payment_geteway_value.instruction_for_manual,payment_gateways.push(payment_gateway)})}),$scope.gateway_groups=payment_response.zazpay.gateways,$scope.payment_gateways=payment_gateways,$scope.form_fields_tpls=payment_response.zazpay._form_fields_tpls,$scope.show_form=[],$scope.form_fields=[],angular.forEach($scope.form_fields_tpls,function(key,value){"buyer"===value&&($scope.form_fields[value]="views/buyer.html"),"credit_card"===value&&($scope.form_fields[value]="views/credit_card.html"),"manual"===value&&($scope.form_fields[value]="views/manual.html"),$scope.show_form[value]=!0}),$scope.gateway_id=ConstPaymentGateways.ZazPay):response.paypalrest_enabled&&($scope.gateway_id=ConstPaymentGateways.PayPal)),$scope.loader=!1})},$scope.applyCoupon=function(){var params={};params.coupon_code=$scope.plan.coupon,params.amount=$scope.paymentValue.amount,CouponGetStatusFactory.get(params,function(response){if($scope.discountCoupon=response,0===response.error.code)if($scope.discountCoupon.data.discount_type_id==ConstDiscountType.Amount)$scope.plan_info.price_final=parseFloat($scope.paymentValue.amount)-parseFloat(response.data.discount),$scope.show_discount=$filter("currency")(response.data.discount);else{var discount_amt=response.data.discount/100*$scope.paymentValue.amount;$scope.plan_info.price_final=$scope.paymentValue.amount-discount_amt,$scope.show_discount=$filter("translate")(response.data.discount+"%")}else flash.set($filter("translate")(response.error.message),"error",!1),$scope.plan.coupon=""})},$scope.ClearCoupon=function(){$scope.plan_info.price_final=$scope.paymentValue.amount,$scope.purchase_plan_coupon=!1,$scope.show_discount=!1},$scope.paneChanged=function(pane){"Manual / Offline"===pane&&($scope.payment_note_enabled=!0);var keepGoing=!0;$scope.buyer={},$scope.PaymentForm.$setPristine(),$scope.PaymentForm.$setUntouched(),angular.forEach($scope.form_fields_tpls,function(key,value){$scope.show_form[value]=!1}),$scope.gateway_id=ConstPaymentGateways.ZazPay,angular.forEach($scope.gateway_groups,function(res){if(res.display_name===pane&&"Wallet"!==pane){var selPayment="";angular.forEach($scope.payment_gateways,function(response){keepGoing&&response.group_id===res.id&&(selPayment=response,keepGoing=!1,$scope.rdoclick(selPayment.id,selPayment.form_fields))}),$scope.sel_payment_gateway="sp_"+selPayment.id,$scope.group_gateway_id=selPayment.group_id}}),"Wallet"===pane&&($scope.gateway_id=ConstPaymentGateways.Wallet),"paypal"===pane&&($scope.gateway_id=ConstPaymentGateways.PayPal)},$scope.rdoclick=function(res,res1){$scope.paynow_is_disabled=!1,$scope.sel_payment_gateway="sp_"+res,$scope.array=res1.split(","),angular.forEach($scope.array,function(value){$scope.show_form[value]=!0})},$scope.PaymentFormSubmit=function(form){var payment_id="";if($scope.sel_payment_gateway&&$scope.gateway_id===ConstPaymentGateways.ZazPay&&(payment_id=$scope.sel_payment_gateway.split("_")[1]),$scope.auth=JSON.parse($cookies.get("auth")),$scope.buyer.user_id=$scope.auth.id,$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]=$scope.className,$scope.buyer.buyer_name=$scope.buyer.credit_card_name_on_card,$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=payment_id,$scope.buyer.coupon_code=$scope.plan.coupon,angular.isDefined($scope.buyer.credit_card_expired)&&($scope.buyer.credit_card_expired.month||$scope.buyer.credit_card_expired.year)&&($scope.buyer.credit_card_expire=$scope.buyer.credit_card_expired.month+"/"+$scope.buyer.credit_card_expired.year),form){$scope.paynow_is_disabled=!0;var flashMessage;if(parseFloat($scope.plan_info.price_final)>parseFloat($scope.user_available_balance)&&$scope.gateway_id===ConstPaymentGateways.Wallet)return flashMessage=$filter("translate")("Your wallet has insufficient money."),flash.set(flashMessage,"error",!1),$scope.paynow_is_disabled=!1,!0;PaymentOrderFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.go("Bid_ProjectView",{id:$scope.paymentValue.project.id,slug:$scope.paymentValue.project.slug})):0===response.error.code?("Captured"===response.payment_response.status&&($scope.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.amount),$scope.my_user.available_wallet_amount=$scope.available_wallet_amount-$scope.project_commision),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.go("Bid_ProjectView",{id:$scope.paymentValue.project.id,slug:$scope.paymentValue.project.slug})):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){console.log(error),(angular.isDefined(error.data.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.data.error.message),"error",!1),$scope.paynow_is_disabled=!1})}},$scope.payNowPayPalClick=function(){var flashMessage;$scope.buyer.foreign_id=$state.params.id,$scope.buyer["class"]="Milestone",$scope.buyer.payment_gateway_id=ConstPaymentGateways.PayPal,$scope.buyer.gateway_id=$scope.buyer.payment_gateway_id,$scope.paynow_is_disabled=!0,PaymentOrderFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.data.gateway_callback_url?$window.location.href=response.data.gateway_callback_url:"Pending"===response.data.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.data.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.error.code?("Captured"===response.payment_response.status&&($scope.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.amount),$scope.my_user.available_wallet_amount=$scope.available_wallet_amount-$scope.project_commision),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload(),$state.go("user_dashboard")):512===response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")("We are unable to process your request. Please try again."+response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1,$uibModalStack.dismissAll()},function(error){console.log(error)})},countries.get({limit:"all"},function(response){angular.isDefined(response.data)&&($scope.countries=response.data)}),$scope.index()}),angular.module("getlancerApp.Bidding.Milestone").directive("milestoneActions",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/Milestone/views/default/bidding_milestone_actions.html",scope:{projectuser:"@",milestoneid:"@",milestonestatus:"@",actiontype:"@"},controller:function($scope,$rootScope,$cookies,$state,$filter,flash,SweetAlert,MilestoneStatusConstant,MilestoneStatusChange){$scope.auth=JSON.parse($cookies.get("auth")),$scope.MilestoneStatusConstant=MilestoneStatusConstant,parseInt($scope.projectuser)===parseInt($scope.auth.id)?$scope.is_freelancer=!1:$scope.is_freelancer=!0,$scope.actiontype=parseInt($scope.actiontype),$scope.milestoneStatueChange=function(milestoneId,statusId,status){"pay"!==statusId?SweetAlert.swal({title:$filter("translate")("Are you sure you want to do this action?"),text:"",type:"warning",showCancelButton:!0,confirmButtonColor:"#DD6B55",confirmButtonText:"OK",cancelButtonText:"Cancel",closeOnConfirm:!0,animation:!1},function(isConfirm){isConfirm&&("workcompleted"===status?MilestoneStatusChange.put({id:milestoneId,milestone_status_id:$scope.MilestoneStatusConstant.Completed},function(response){0===response.error.code?MilestoneStatusChange.put({id:milestoneId,milestone_status_id:statusId},function(response){var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Milestone status changed"),flash.set(flashMessage,"success",!1),$scope.$emit("isupdated","true")):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}):MilestoneStatusChange.put({id:milestoneId,milestone_status_id:statusId},function(response){var flashMessage="";0===parseInt(response.error.code)?(flashMessage=$filter("translate")("Milestone status changed"),flash.set(flashMessage,"success",!1),$scope.$emit("isupdated","true")):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1))}))}):$state.go("Bidding_MilestonePayment",{id:milestoneId,name:"milestone"})}}}}),angular.module("getlancerApp.Bidding.Milestone").factory("Milestone",["$resource",function($resource){return $resource("/api/v1/milestones/:id",{id:"@id"},{put:{method:"PUT"},get:{method:"GET"},"delete":{method:"DELETE"}})}]).factory("BidMilestone",["$resource",function($resource){return $resource("/api/v1/milestones",{},{get:{method:"GET"},post:{method:"POST"}})}]).factory("MeMilestone",["$resource",function($resource){return $resource("/api/v1/me/milestones",{},{get:{method:"GET"}})}]).factory("MilestoneStatus",["$resource",function($resource){return $resource("/api/v1/milestone_statuses",{},{get:{method:"GET"}})}]).factory("GetMilestoneStatus",["$resource",function($resource){return $resource("/api/v1/milestone_statuses",{},{get:{method:"GET"}})}]),angular.module("getlancerApp.Bidding.Milestone").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/Milestone/views/default/bidding_milestone.html",'<div class="tab-pane active" id="milestone" ng-controller="BiddingMilestoneCtrl"> <div class="milestone-block clearfix"> <div class="clearfix" ng-show="!project_is_dispute"> <p class="pull-right cursor btn btn-default" ng-class="((buttonName == \'Request Milestone\') || (buttonName == \'Create Milestone\'))?\'request-btn\':\'text-danger\'" ng-click="form()" ng-if="projectstatus == ProjectStatusConstant.UnderDevelopment">{{buttonName}}</p> </div> <div class="row" ng-if="form_value"> <div class="col-xs-12 clearfix"> <h3 class="pull-left no-mar text-uppercase">{{\'New Milestone Request\'|translate}}</h3> </div> <div class="col-xs-12"> <form class="proj-form clearfix row" role="form" autocomplete="off" name="milestoneAdd" novalidate> <div class="col-sm-3 ver-mar-20"> <input type="number" ng-model="data.amount" name="amount" id="amount" placeholder="Amount" class="milestone-heading form-control" ng-required="true" min="0" number-only> <span class="error" ng-show="(milestoneAdd.$submitted || milestoneAdd.amount.$touched) && (milestoneAdd.amount.$pristine || milestoneAdd.amount.$invalid) && (milestoneAdd.amount.$error.required)">{{\'Required\'| translate }} </span> </div> <div class="col-sm-6 ver-mar-20"> <input type="text" ng-model="data.description" name="description" placeholder="Description" class="milestone-heading form-control" ng-required="true"> <span class="error" ng-show="(milestoneAdd.$submitted || milestoneAdd.description.$touched) && (milestoneAdd.description.$pristine || milestoneAdd.description.$invalid) && (milestoneAdd.description.$error.required)">{{\'Required\'| translate}} </span> </div> <div class="col-sm-3 ver-mar-20"> <input type="text" name="last_date" class="form-control milestone-heading" placeholder="Deadline date " uib-datepicker-popup="{{format}}" ng-model="data.deadline_date" is-open="popup1.opened" datepicker-options="dateOptions" close-text="Close" alt-input-formats="altInputFormats" ng-focus="open1()" ng-required="true"> <span class="error" ng-show="(milestoneAdd.$submitted || milestoneAdd.last_date.$touched) && (milestoneAdd.last_date.$pristine || milestoneAdd.last_date.$invalid) && (milestoneAdd.last_date.$error.required)">{{\'Required\'| translate}} </span> </div> <ul class="col-sm-6 list-inline ver-mar-20 clearfix"> <li class="no-pad"> <button type="submit" ng-show="milestone_set && (milestone_set_status_id != 1 && is_freelancer)" class="btn btn-primary text-uppercase" disabled>{{\'Submit\'|translate}}</button> <button type="submit" ng-click="submit(data.id, milestoneAdd.$valid)" title="{{\'Submit\' | translate}}" class="btn btn-primary text-uppercase" ng-show="!milestone_set && (milestone_set_status_id != 1 && is_freelancer)">{{\'Submit\'|translate}}</button> <button type="submit" ng-click="submit(data.id, milestoneAdd.$valid)" title="{{\'Submit\' | translate}}" class="btn btn-primary text-uppercase" ng-show="milestone_set && (milestone_set_status_id == 1 && is_freelancer)" disabled>{{\'Submit\'|translate}}</button> <button type="submit" ng-click="submit(data.id, milestoneAdd.$valid)" title="{{\'Submit\' | translate}}" class="btn btn-primary text-uppercase" ng-show="!milestone_set && (milestone_set_status_id == 1 && is_freelancer)">{{\'Submit\'|translate}}</button> <button type="submit" ng-click="submit(data.id, milestoneAdd.$valid)" title="{{\'Submit\' | translate}}" class="btn btn-primary text-uppercase" ng-show="milestone_set && (create_mile == true && !is_freelancer && milestone_set_status_id == false)" disabled> {{\'Submit\'|translate}}</button> <button type="submit" ng-click="submit(data.id, milestoneAdd.$valid)" title="{{\'Submit\' | translate}}" class="btn btn-primary text-uppercase" ng-show="!milestone_set && (create_mile == true && !is_freelancer && milestone_set_status_id == false)"> {{\'Submit\'|translate}}</button> <button type="submit" ng-click="submit(data.id, milestoneAdd.$valid)" title="{{\'Approve this Milestone\' | translate}}" class="btn btn-primary text-uppercase" ng-show="milestone_set && (milestone_set_status_id == 1 && !is_freelancer)" disabled>{{\'Approve this Milestone\'|translate}}</button> <button type="submit" ng-click="submit(data.id, milestoneAdd.$valid)" title="{{\'Approve this Milestone\' | translate}}" class="btn btn-primary text-uppercase" ng-show="!milestone_set && (milestone_set_status_id == 1 && !is_freelancer)">{{\'Approve this Milestone\'|translate}}</button> </li>  </ul> </form> </div> </div> <div class="panel-heading row" ng-if="milestones.length > 0 && !project_is_dispute"> <div class="clearfix"> <h3 class="pull-left text-uppercase col-sm-12 row">{{\'Milestone Requests\'|translate}}</h3> </div> <div class="add-wallet-table"> <div class="table-responsive pg-table"> <table class="table table-striped no-mar"> <thead> <tr> <th>{{\'Amount\' |translate}}</th> <th>{{\'Description\'|translate}}</th> <th>{{\'Deadline Date\'|translate}}</th> <th width="100" ng-show="!project_is_dispute">{{\'Actions\'|translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="milestonesValue in milestones"> <td> <amount-display amount="{{milestonesValue.amount}}" ng-if="milestonesValue.amount"></amount-display> </td> <td> <p class="no-mar" ng-bind-html="milestonesValue.description">_</p> </td> <td> <p class="no-mar">{{milestonesValue.deadline_date}}</p> </td> <td ng-show="!project_is_dispute"> <div class="dropdown"> <button class="btn request-btn btn-default dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true"> {{\'Action\'|translate}} <i class="fa fa-angle-down" aria-hidden="true"></i> </button> <ul class="dropdown-menu" aria-labelledby="dropdownMenu1"> <li class="cursor"> <a ng-click="MilestoneEdit(milestonesValue.id)"><i class="fa fa-edit fa-fw"></i> {{\'Edit\'|translate}}</a> </li> <milestone-actions projectuser="{{projectuser}}" milestoneid="{{milestonesValue.id}}" milestonestatus="{{milestonesValue.milestone_status_id}}" actiontype="2" ng-if="!is_freelancer"></milestone-actions> </ul> </div> </td> </tr> <tr ng-if="milestones.length === 0"> <td colspan="8"> <p class="text-center text-danger" ng-if="milestones.length === 0"> {{\'No records available\' | translate}}</p> </td> </tr> </tbody> </table> </div> <div class="pull-right hired-view-total-page" id="paging" ng-if="milestones.length > 0"> <nav aria-label="Page navigation"> <uib-pagination total-items="totalItemsMilestone" max-size="maxSize" items-per-page="itemsPerPageMilestone" ng-model="currentPageMilestone" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPagesMilestone" ng-click="paginate(1 , currentPageMilestone)"></uib-pagination> </nav> </div> </div> </div> <div ng-if="project_is_dispute && is_freelancer"> <p class="text-center text-danger space no-mar"> {{"Project under dispute. So you can\'t send milestone." | translate}} </p> </div> </div> <div class="milestone-block clearfix" ng-if="milestonesGet.length > 0 && !project_is_dispute"> <div class="clearfix"> <h3 class="pull-left no-mar bot-space-10 text-uppercase">Milestones</h3> </div> <div class="table-responsive"> <table class="table table-striped no-mar"> <thead> <tr> <th>{{\'Amount\' |translate}}</th> <th>{{\'Description\'|translate}}</th> <th>{{\'Status\' |translate}}</th> <th>{{\'Deadline Date\'|translate}}</th> <th width="100" ng-show="!project_is_dispute">{{\'Actions\'|translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="milestonesValue in milestonesGet"> <td> <amount-display amount="{{milestonesValue.amount}}" ng-if="milestonesValue.amount"></amount-display> </td> <td> <p class="no-mar" ng-bind-html="milestonesValue.description"></p> </td> <td> <p class="no-mar">{{milestonesValue.milestone_status.name}}</p> </td> <td> <p class="no-mar">{{milestonesValue.deadline_date}}</p> </td> <td> <div class="center-responsive" ng-if="!project_is_dispute && (!is_freelancer && milestonesValue.milestone_status_id != MilestoneStatusConstant.EscrowFunded) || (is_freelancer && milestonesValue.milestone_status_id != MilestoneStatusConstant.RequestedForRelease) && (is_freelancer && milestonesValue.milestone_status_id != MilestoneStatusConstant.Completed)"> <div class="dropdown" ng-if="milestonesValue.milestone_status_id < MilestoneStatusConstant.EscrowReleased"> <milestone-actions projectuser="{{projectuser}}" milestoneid="{{milestonesValue.id}}" milestonestatus="{{milestonesValue.milestone_status_id}}" actiontype="1"></milestone-actions> </div> </div> <div class="center-responsive" ng-if="!project_is_dispute && (!is_freelancer && milestonesValue.milestone_status_id == MilestoneStatusConstant.EscrowFunded) || (is_freelancer && milestonesValue.milestone_status_id == MilestoneStatusConstant.RequestedForRelease) || (is_freelancer && milestonesValue.milestone_status_id == MilestoneStatusConstant.Completed || milestonesValue.milestone_status_id == MilestoneStatusConstant.EscrowReleased)"> <span class="text-center">-</span> </div> </td> </tr> <tr class="text-center"> <div ng-if="milestonesGet.length === 0"> <td colspan="8"> <p class="text-center text-danger" ng-if="milestonesGet.length == 0"> {{\'No records available\' | translate}} </p> </td> </div> </tr> </tbody> </table> <div class="hired-view-total-page" ng-if="milestonesGet.length > 0"> <div class="clearfix"> <div class="pull-left"> <p>Total: <amount-display amount="{{all}}" ng-if="all"></amount-display> </p> </div> <div class="pull-right"> <nav aria-label="Page navigation"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="noOfPages" ng-click="paginate(2 , currentPage)"></uib-pagination> </nav> </div> </div> </div> </div> </div> <div ng-if="project_is_dispute && !is_freelancer"> <p class="text-center text-danger space no-mar"> {{"Project under dispute. So you can\'t send milestone." | translate}} </p> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Milestone/views/default/bidding_milestone_actions.html",'<button class="request-btn btn btn-default dropdown-toggle" type="button" id="dropdownMenu3" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true" ng-if="actiontype == 1"> {{\'Action\'| translate}} <i class="fa fa-angle-down" aria-hidden="true"></i> </button> <ul class="dropdown-menu dropdown-arrow-right" aria-labelledby="dropdownMenu3" ng-if="actiontype == 1"> <li class="cursor" ng-if="!is_freelancer && milestonestatus == MilestoneStatusConstant.MilestoneSuggested"> <a ng-click="milestoneStatueChange(milestoneid, MilestoneStatusConstant.MilestoneSet)"><i class="fa fa-check fa-fw"></i> {{\'Milestone Set\'| translate}} </a> </li> <li class="cursor" ng-if="is_freelancer && milestonestatus == MilestoneStatusConstant.MilestoneSet"> <a ng-click="milestoneStatueChange(milestoneid, MilestoneStatusConstant.RequestedforEscrow)"><i class="fa fa-hand-stop-o fa-fw"></i> {{\'Requested for Escrow\'| translate}} </a> </li> <li class="cursor" ng-if="!is_freelancer && (milestonestatus == MilestoneStatusConstant.RequestedforEscrow)"> <a ng-click="milestoneStatueChange(milestoneid, \'pay\')"><i class="fa fa-money fa-fw"></i> {{\'Pay amount\'| translate}} </a> </li> <li class="cursor" ng-if="is_freelancer && milestonestatus == MilestoneStatusConstant.EscrowFunded"> <a ng-click="milestoneStatueChange(milestoneid, MilestoneStatusConstant.RequestedForRelease, \'workcompleted\')"><i class="fa fa-check fa-fw"></i> {{\'Work Completed / Request to Release Escrow\'| translate}} </a> </li> <li class="cursor" ng-if="!is_freelancer && (milestonestatus == MilestoneStatusConstant.RequestedForRelease || milestonestatus == MilestoneStatusConstant.Completed)"> <a ng-click="milestoneStatueChange(milestoneid, MilestoneStatusConstant.EscrowReleased)"><i class="fa fa-check fa-fw"></i> {{\'Released Escrow Now\'| translate}} </a> </li> <li class="cursor" ng-if="milestonestatus < MilestoneStatusConstant.EscrowFunded"> <a ng-click="milestoneStatueChange(milestoneid, MilestoneStatusConstant.Canceled)"><i class="fa fa-close fa-fw"></i> {{\'Canceled\'| translate}} </a> </li> </ul>  <li class="cursor" ng-if="!is_freelancer && actiontype == 2"> <a class="milestone-action-anchor" ng-click="milestoneStatueChange(milestoneid, MilestoneStatusConstant.MilestoneSet)"><i class="fa fa-check fa-fw"></i> {{\'Approve\'| translate}}</a> </li>'),
$templateCache.put("scripts/plugins/Bidding/Milestone/views/default/bidding_milestone_payment.html",'<div class="section photo-view"> <div class="container">  <div class="row"> <div class="modal-header"> <h3>{{\'Milestone payment for\' | translate}} {{paymentValue.project.name}}</h3> </div> <div class="modal-body"> <div class=""> <div class=""> <div class="clearfix"> <form name="PaymentForm" role="form" ng-submit="PaymentFormSubmit(PaymentForm.$valid)"> <div class="panel navbar-btn clearfix"> <div class="panel-body col-xs-12">   <div class="col-xs-12 text-center navbar-btn"> <p class="text-22 textb" ng-show="quote_request_views_detail.quote_amount && show_discount"> {{"Price" | translate }} <amount-display amount="{{quote_request_views_detail.quote_amount}}" ng-if="quote_request_views_detail.quote_amount"></amount-display> </p> <p class="text-22 textb" ng-show="show_discount"> {{"Coupon discount" | translate }} {{show_discount}}</p> <p class="text-22 textb" ng-if="paymentValue.amount"> {{"You have to pay" | translate }} <span>{{paymentValue.amount |customCurrency}}</span> </p> <p class="alert alert-info" ng-if="settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_MILESTONE && (settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_MILESTONE !== \'0\' || settings.PROJECT_COMMISSION_FROM_EMPLOYER_FOR_MILESTONE !== \'\')"> {{\'Including site commission, system will take\'| translate}} {{commission_value -- paymentValue.amount |customCurrency}} {{\'from you\'| translate}}. </p> </div> </div> <div ng-include="\'views/gateway.html\'" class="col-xs-12"></div> </div> </form></div>  </div> </div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Bidding/Milestone/views/default/my_bids_milestones.html",'<section class=""> <div class="container"> <div class="row"> <div class="col-xs-12"> <div class="project-contest"> <div class="clearfix"> <ul class="list-group custom-binding"> <li class="list-group-item project-heading hidden-xs"> <div class="row text-center"> <div class="col-sm-4"> <h5>{{\'PROJECT NAME\'|translate}}</h5> </div> <div class="col-sm-2"> <h5>{{\'AMOUNT\'|translate}}</h5> </div> <div class="col-sm-2"> <h5>{{\'DESCRIPTION\'|translate}} </h5> </div> <div class="col-sm-2"> <h5>{{\'STATUS\'|translate}}</h5> </div> <div class="col-sm-2"> <h5>{{\'ACTIONS\'|translate}}</h5> </div> </div> </li> <li class="list-group-item project-content" ng-repeat="milestone in milestones" ng-if="milestones.length > 0"> <div class="row"> <div class="col-sm-4"> <h5 class="visible-xs">{{\'PROJECT NAME\'|translate}}</h5> <h5 class="text-18"><a ui-sref="Bid_ProjectView({id:milestone.project.id,slug:milestone.project.slug})"> {{milestone.project.name}} </a></h5> </div> <div class="col-sm-2"> <span class="visible-xs">{{\'AMOUNT\'|translate}}</span> <span class="content"> <amount-display amount="{{milestone.amount}}" ng-if="milestone.amount"></amount-display> </span> </div> <div class="col-sm-2"> <span class="visible-xs">{{\'DESCRIPTION\'|translate}}</span> <span class="content" ng-bind-html="milestone.description"></span> </div> <div class="col-sm-2"> <span class="visible-xs">{{\'STATUS\'|translate}}</span> <span class="content">{{milestone.milestone_status.name}}</span> </div> <div class="col-sm-2"> <div class="center-responsive"> <div class="dropdown" ng-if="milestone.milestone_status_id < MilestoneStatusConstant.EscrowReleased"> <milestone-actions projectuser="{{milestone.project.user_id}}" milestoneid="{{milestone.id}}" milestonestatus="{{milestone.milestone_status_id}}" actiontype="1" isupdated="isupdated"></milestone-actions> </div> </div> </div> </div> </li> <li ng-if="milestones.length == 0" class="list-group-item project-content"> <p class="no-mar alert alert-danger text-center">{{\'No milestone\' | translate}}</p> </li> </ul> </div> </div> </div> </div>  <div class="row binding-pagination" ng-if="milestones.length == 0"> <div class="pagnation-content"> <div class="container"> <div class="clearfix pagnation-inner"> <uib-pagination total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="numPages" num-pages="noOfPages" ng-click="paginate()"></uib-pagination> </div> </div> </div> </div> </div> </section>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding.Milestone');"use strict";angular.module("getlancerApp.Bidding.ProjectFlag",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","ngFileUpload","angularMoment","720kb.socialshare"]),angular.module("getlancerApp.Bidding.ProjectFlag").directive("biddingFlag",function(){return{restrict:"EA",template:'<span class="cursor" ng-click="reportModal()" ng-bind-html=templateBtn> </span>',scope:{classname:"@",foreignid:"@",appendhtml:"@"},controller:function($scope,$rootScope,$state,$filter,flash,$uibModal,$uibModalStack,ReportProjectCategories,ReportProject,$sce){"Project"===$scope.classname?$scope.modeltitle="Report Project":$scope.modeltitle="Report User",void 0!==$scope.appendhtml?$scope.templateBtn=$scope.appendhtml:$scope.templateBtn="Project"===$scope.classname?"Report Project":"Report User",$rootScope.closemodel=function(){$uibModalStack.dismissAll()},$scope.reportModal=function(){$rootScope.project_id=$scope.foreignid,$scope.modalInstance=$uibModal.open({templateUrl:"scripts/plugins/Bidding/Bidding/views/default/bidding_report.html",animation:!1,controller:function($scope,$rootScope,$stateParams,$filter,$state,$uibModal,ReportProjectCategories,ReportProject,flash,flagdatas){$scope.flag=$scope.flags=[],$scope.ReportProjectCategories=function(){var params={};params["class"]="Project",ReportProjectCategories.get(params,function(response){$scope.flag=response.data})},$scope.ReportProjectCategories(),$scope.job_report=!1,$scope.submit=function($valid){if($valid){$scope.job_report=!0;var post_params={foreign_id:flagdatas.foreignid,"class":flagdatas.classname,flag_category_id:$scope.flags.flag_category_id,message:$scope.flags.message},flashMessage="";ReportProject.post(post_params,function(response){$scope.response=response,0===$scope.response.error.code?($scope.flags={},$rootScope.closemodel(),flashMessage=$filter("translate")("Report posted successfully."),flash.set(flashMessage,"success",!1)):(flashMessage=$filter("translate")($scope.response.error.message),flash.set(flashMessage,"error",!1),$scope.job_report=!1)})}}},size:"lg",resolve:{flagdatas:function(){var returnVal={foreignid:$scope.foreignid,classname:$scope.classname};return returnVal}}})}}}}),angular.module("getlancerApp.Bidding.ProjectFlag").factory("ReportProject",["$resource",function($resource){return $resource("/api/v1/flags",{},{get:{method:"GET"},post:{method:"POST"}})}]),angular.module("getlancerApp.Bidding.ProjectFlag").factory("ReportProjectCategories",["$resource",function($resource){return $resource("/api/v1/flag_categories",{},{get:{method:"GET"}})}]),angular.module("getlancerApp.Bidding.ProjectFlag").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/ProjectFlag/views/default/bidding_report.html",'<div class="section navbar-default"> <div> <form class="form-horizontal adminpg-form" name="applyJobReport" role="form" novalidate> <div class="row"> <div class="col-sm-12"> <div class="section navbar-default"> <div class="panel" ng-if="!is_flag"> <div class="modal-header sep-bot"> <button type="button" class="close" data-dismiss="modal" ng-click="closemodel()">&times;</button> <h3 class="no-mar">{{\'Report Project\'|translate}}</h3> </div> <div class="panel-heading"> <div class=""> <div class="form-group"> <div class="col-sm-4"> <label for="flagCategory" class="control-label">{{\'Flag Category\'|translate}} <span class="error">*</span> </label> </div> <div class="col-sm-8"> <select name="flagCategory" ng-model="flags.flag_category_id" class="form-control" ng-required="true"> <option value="{{flags.id}}">{{\'Please Select\'|translate}}</option> <option value="{{flags.id}}" ng-repeat="flags in flag">{{flags.name}}</option> </select> <span class="error" ng-if="(applyJobReport.$submitted || applyJobReport.flagCategory.$touched) && (applyJobReport.flagCategory.$pristine || applyJobReport.flagCategory.$invalid) && (applyJobReport.flagCategory.$error.required)">{{\'Required\'| translate}} </span> </div> </div> <div class="form-group"> <div class="col-sm-4"> <label for="message" class="control-label">{{\'Message\'|translate}}<span class="error">*</span></label> </div> <div class="col-sm-8"> <textarea type="text" name="inputMessage" ng-model="flags.message" class="form-control" ng-required="true"></textarea> <span class="error" ng-if="(applyJobReport.$submitted || applyJobReport.inputMessage.$touched) && (applyJobReport.inputMessage.$pristine || applyJobReport.inputMessage.$invalid) && (applyJobReport.inputMessage.$error.required)"> {{\'Required\'| translate }} </span> </div> </div> </div> </div> <div class="panel" ng-if="is_flag">{{\'Already Reported\'|translate}} </div> </div> <div class="panel" ng-if="is_flag"> {{\'Already Reported\'|translate}} </div> <div class="form-group" ng-if="!is_flag"> <div class="col-sm-offset-4 col-sm-8"> <button type="submit" ng-show="job_report" class="btn btn-primary" disabled>{{\'Submit\'|translate}}</button> <button type="submit" class="btn btn-primary" ng-click="submit(applyJobReport.$valid)" ng-show="!job_report"> {{\'Submit\'|translate}}</button> <button class="btn btn-danger" ng-click="closemodel()">{{\'Cancel\'|translate}}</button> </div> </div> <div class="form-group" ng-if="is_flag"> <div class="col-sm-offset-4 col-sm-8"> <button class="btn btn-danger" ng-click="closemodel()">{{\'Cancel\'|translate}}</button> </div> </div> </div> </div> </div> </form> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding.ProjectFlag');"use strict";angular.module("getlancerApp.Bidding.ProjectFollow",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","ngFileUpload","angularMoment","720kb.socialshare"]),angular.module("getlancerApp.Bidding.ProjectFollow").controller("ProjectFollowController",["$scope","$rootScope","$stateParams","flash","$filter","$state","BookMarkProject","md5","$timeout",function($scope,$rootScope,$stateParams,flash,$filter,$state,BookMarkProject,md5,$timeout){$scope.$on("showisbook",function(event,data){$scope.is_book=data.isbook,$scope.foreignid=data.projectid}),$scope.projectBookmark=function(){var flashMessage="";$timeout(function(){BookMarkProject.post({foreign_id:$scope.foreignid,"class":$scope.classname},function(response){0===response.error.code?($rootScope.book_id=response.id,$scope.is_book=!0,flashMessage=$filter("translate")("Project bookmarked successfully"),flash.set(flashMessage,"success",!1)):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1)),$state.go("Bid_ProjectView",{},{reload:!0})})},1e3)},$scope.projectUnBookmark=function(book_id){var flashMessage="";$timeout(function(){if(null!==$rootScope.user&&void 0!==$rootScope.user){var params={};params.id=$rootScope.book_id,BookMarkProject["delete"]({id:$rootScope.book_id},function(response){0===response.error.code?($rootScope.book_id=0,$scope.is_book=!1,flashMessage=$filter("translate")("Project unbookmarked successfully."),flash.set(flashMessage,"success",!1)):(flashMessage=$filter("translate")(response.error.message),flash.set(flashMessage,"error",!1)),$state.go("Bid_ProjectView",{},{reload:!0})})}},1e3)}}]),angular.module("getlancerApp.Bidding.ProjectFollow").directive("bookmarkFollow",function(){return{restrict:"EA",templateUrl:"scripts/plugins/Bidding/ProjectFollow/views/default/project_follow.html",scope:{classname:"@"},controller:"ProjectFollowController"}}),angular.module("getlancerApp.Bidding.ProjectFollow").factory("BookMarkProject",["$resource",function($resource){return $resource("/api/v1/followers/:id",{},{post:{method:"POST"},"delete":{method:"DELETE"}})}]),angular.module("getlancerApp.Bidding.ProjectFollow").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Bidding/ProjectFollow/views/default/project_follow.html",'<div ng-show="!is_book"> <div title="Bookmark this project" class="project-bookmark cursor" ng-click="projectBookmark()" ng-class="{\'active\': is_book}"> <span class="bookmark-circle"></span> </div> </div> <div ng-show="is_book"> <div title="Unbookmark" class="project-bookmark cursor" ng-click="projectUnBookmark(book_id)" ng-class="{\'active\': is_book}"> <span class="bookmark-circle"></span> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Bidding.ProjectFollow');angular.module("getlancerApp.Common.Subscription",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","ui.select","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","builder","builder.components","validator.rules","angularMoment","ngFileUpload","oitozero.ngSweetAlert","720kb.socialshare","slugifier"]),angular.module("getlancerApp.Common.Subscription",[]).constant("ConstDiscountType",{Percentage:1,Amount:2}).constant("ConstPaymentGateways",{Wallet:1,ZazPay:2,PayPal:3}),angular.module("getlancerApp.Common.Subscription").controller("QuoteCreditPurchaseLogsController",["$rootScope","$scope","$stateParams","flash","md5","$filter","$location","QuoteCreditPurchaseLogsMeFactory","UserMeFactory",function($rootScope,$scope,$stateParams,flash,md5,$filter,$location,QuoteCreditPurchaseLogsMeFactory,UserMeFactory){$rootScope.url_split=$location.path().split("/")[1],$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Credit Purchase Log"),$scope.loader=!0,$scope.index=function(){$scope.loader=!0,$scope.maxSize=5,$scope.currentPage=void 0!==$stateParams.page?parseInt($stateParams.page):1;var params={};params.page=$scope.currentPage,params.is_payment_completed=1,QuoteCreditPurchaseLogsMeFactory.get(params,function(response){$scope.credit_purchase_logs=response.data,$scope.currentPage=params.page,angular.isDefined(response._metadata)&&($scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page),angular.forEach($scope.credit_purchase_logs,function(value){$scope.credit_count=Number(value.credit_count||0),$scope.used_count=Number(value.used_credit_count||0),value.availale_credit_count=$scope.credit_count-$scope.used_count}),$scope.loader=!1})},$scope.userCreditPoints=function(){UserMeFactory.get({},function(response){$scope.user_available_credit_count=Number(response.data.available_credit_count||0)})},$scope.userCreditPoints(),$scope.$on("$locationChangeSuccess",function(){$scope.currentPage=void 0!==$stateParams.page?parseInt($stateParams.page):1}),$scope.paginate_credit_log=function(){$location.search("page",parseInt($scope.currentPage))},$scope.index()}]),angular.module("getlancerApp.Common.Subscription").controller("QuoteCreditPurchasePlanController",["$rootScope","$scope","$window","countries","states","cities","usersAddresses","flash","$location","$filter","$state","paymentGateways","UserMeFactory","QuoteCreditPurchasePlansFactory","QuoteCreditPurchaseLogsFactory","CouponGetStatusFactory","ConstDiscountType","$stateParams","ConstPaymentGateways","$timeout",function($rootScope,$scope,$window,countries,states,cities,usersAddresses,flash,$location,$filter,$state,paymentGateways,UserMeFactory,QuoteCreditPurchasePlansFactory,QuoteCreditPurchaseLogsFactory,CouponGetStatusFactory,ConstDiscountType,$stateParams,ConstPaymentGateways,$timeout){$rootScope.url_split=$location.path().split("/")[1],$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Plans"),$scope.minimum_wallet_amount=$rootScope.settings.WALLET_MIN_WALLET_AMOUNT,$scope.maximum_wallet_amount=$rootScope.settings.WALLET_MAX_WALLET_AMOUNT,$scope.buyer={},$scope.plan={},$scope.paynow_is_disabled=!1,$scope.payment_note_enabled=!1,$scope.payer_form_enabled=!0,$scope.is_wallet_page=!0,$scope.plan_info={},$scope.save_btn=!1,$scope.purchase_plan_select=!1,$scope.purchase_plan_coupon=!1,$scope.first_gateway_id="",$scope.plan_info.price_final="0.00",$scope.is_show_wallet_paybtn=!0,$scope.index=function(){$scope.amount_change=!0,$scope.loader=!0;var flashMessage;512===parseInt($stateParams.error_code)?(flashMessage=$filter("translate")("Payment Failed. Please, try again."),flash.set(flashMessage,"error",!1)):0===parseInt($stateParams.error_code)&&(flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1));var params_credit={};params_credit.sort="id",QuoteCreditPurchasePlansFactory.get(params_credit,function(response){$scope.credit_purchase_plans=response.data}),$scope.payment=!0,UserMeFactory.get({},function(response){$scope.expired_credit_point=Number(response.data.expired_balance_credit_points||0),$scope.user_available_balance=response.data.available_wallet_amount,$scope.user_available_credit_count=Number(response.data.available_credit_count||0)});var payment_gateways=[];paymentGateways.get({},function(payment_response){if(payment_response.PayPalREST){var response=payment_response.PayPalREST;response.paypalrest_enabled&&($scope.paypal_enabled=!0)}payment_response.wallet&&($scope.wallet_enabled=!0),$scope.group_gateway_id="",0===payment_response.error.code&&void 0!==payment_response.zazpay&&(angular.forEach(payment_response.zazpay.gateways,function(gateway_group_value,gateway_group_key){0===gateway_group_key&&($scope.group_gateway_id=gateway_group_value.id,$scope.first_gateway_id=gateway_group_value.id),angular.forEach(gateway_group_value.gateways,function(payment_geteway_value,payment_geteway_key){var payment_gateway={},suffix="sp_";0===gateway_group_key&&($scope.sel_payment_gateway="sp_"+payment_geteway_value.id),suffix+=payment_geteway_value.id,payment_gateway.id=payment_geteway_value.id,payment_gateway.payment_id=suffix,payment_gateway.group_id=gateway_group_value.id,payment_gateway.display_name=payment_geteway_value.display_name,payment_gateway.thumb_url=payment_geteway_value.thumb_url,payment_gateway.suffix=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.form_fields=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.instruction_for_manual=payment_geteway_value.instruction_for_manual,payment_gateways.push(payment_gateway)})}),$scope.gateway_groups=payment_response.zazpay.gateways,$scope.payment_gateways=payment_gateways,$scope.form_fields_tpls=payment_response.zazpay._form_fields_tpls,$scope.show_form=[],$scope.form_fields=[],angular.forEach($scope.form_fields_tpls,function(key,value){"buyer"===value&&($scope.form_fields[value]="views/buyer.html"),"credit_card"===value&&($scope.form_fields[value]="views/credit_card.html"),"manual"===value&&($scope.form_fields[value]="views/manual.html"),$scope.show_form[value]=!0}),$scope.gateway_id=ConstPaymentGateways.ZazPay),$scope.loader=!1})},$scope.getPlandetails=function(index){$scope.amount_change=!1,$timeout(function(){$scope.amount_change=!0,$scope.plan_info=$scope.credit_purchase_plans[index],$scope.plan_info.price_final=$scope.plan_info.price},100),$scope.buyer.credit_purchase_plan_id=$scope.plan.credit_purchase_plan_id,$scope.plan.coupon=""},$scope.applyCoupon=function(){if(""==$scope.plan_info.price||void 0==$scope.plan_info.price)$scope.purchase_plan_select=!0;else if(""===$scope.plan.coupon||void 0==$scope.plan.coupon)$scope.purchase_plan_select=!1,$scope.purchase_plan_coupon=!0;else{$scope.purchase_plan_select=!1,$scope.purchase_plan_coupon=!1;var params={};params.coupon_code=$scope.plan.coupon,params.amount=$scope.plan_info.price,CouponGetStatusFactory.get(params,function(response){if($scope.discountCoupon=response,0===response.error.code)if($scope.discountCoupon.data.discount_type_id==ConstDiscountType.Amount)$scope.plan_info.price_final=parseFloat($scope.plan_info.price)-parseFloat(response.data.discount),$scope.show_discount=$filter("currency")(response.data.discount);else{var discount_amt=response.data.discount/100*$scope.plan_info.price;$scope.plan_info.price_final=$scope.plan_info.price-discount_amt,$scope.show_discount=$filter("translate")(response.data.discount+"%")}else flash.set($filter("translate")(response.error.message),"error",!1),$scope.plan.coupon=""})}$scope.buyer.credit_purchase_plan_id=$scope.plan.credit_purchase_plan_id},$scope.ClearCoupon=function(){$scope.plan_info.price_final=$scope.plan_info.price,$scope.purchase_plan_coupon=!1,$scope.show_discount=!1},$scope.paneChanged=function(pane){"Manual / Offline"===pane&&($scope.payment_note_enabled=!0),"paypal"===pane&&($scope.gateway_id=ConstPaymentGateways.PayPal);var keepGoing=!0;$scope.buyer={},$scope.PaymentForm.$setPristine(),$scope.PaymentForm.$setUntouched(),angular.forEach($scope.form_fields_tpls,function(key,value){$scope.show_form[value]=!1}),$scope.gateway_id=ConstPaymentGateways.ZazPay,angular.forEach($scope.gateway_groups,function(res){if(res.display_name===pane&&"Wallet"!==pane){var selPayment="";angular.forEach($scope.payment_gateways,function(response){keepGoing&&response.group_id===res.id&&(selPayment=response,keepGoing=!1,$scope.rdoclick(selPayment.id,selPayment.form_fields))}),$scope.sel_payment_gateway="sp_"+selPayment.id,$scope.group_gateway_id=selPayment.group_id}}),"Wallet"===pane&&($scope.gateway_id=ConstPaymentGateways.Wallet)},$scope.rdoclick=function(res,res1){$scope.paynow_is_disabled=!1,$scope.sel_payment_gateway="sp_"+res,$scope.array=res1.split(","),angular.forEach($scope.array,function(value){$scope.show_form[value]=!0})},$scope.PaymentFormSubmit=function(form){var payment_id="";if($scope.sel_payment_gateway&&$scope.gateway_id===ConstPaymentGateways.ZazPay&&(payment_id=$scope.sel_payment_gateway.split("_")[1]),$scope.buyer.credit_purchase_plan_id=$scope.plan.credit_purchase_plan_id,$scope.buyer.coupon_code=$scope.plan.coupon,$scope.buyer.buyer_name=$scope.buyer.credit_card_name_on_card,$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=payment_id,angular.isDefined($scope.buyer.credit_card_expired)&&($scope.buyer.credit_card_expired.month||$scope.buyer.credit_card_expired.year)&&($scope.buyer.credit_card_expire=$scope.buyer.credit_card_expired.month+"/"+$scope.buyer.credit_card_expired.year),form){$scope.paynow_is_disabled=!0;var flashMessage;if(parseFloat($scope.plan_info.price_final)>parseFloat($scope.user_available_balance)&&$scope.gateway_id===ConstPaymentGateways.Wallet)return flashMessage=$filter("translate")("Your wallet has insufficient money."),flash.set(flashMessage,"error",!1),$scope.paynow_is_disabled=!1,!0;QuoteCreditPurchaseLogsFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.payment_response.gateway_callback_url?$window.location.href=response.payment_response.gateway_callback_url:"Pending"===response.payment_response.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.payment_response.status?($scope.user_available_credit_count=$scope.user_available_credit_count+parseInt(response.data.credit_count),$scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.price),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload()):512===response.payment_response.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")(response.payment_response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.payment_response.error.message)||null!==error.payment_response.error.message)&&flash.set($filter("translate")(error.payment_response.error.message),"error",!1),$scope.paynow_is_disabled=!1})}},$scope.payNowPayPalClick=function(){var flashMessage;angular.isDefined($scope.plan.credit_purchase_plan_id)?($scope.buyer.credit_purchase_plan_id=$scope.plan.credit_purchase_plan_id,$scope.buyer.payment_gateway_id=ConstPaymentGateways.PayPal,$scope.buyer.gateway_id=$scope.buyer.payment_gateway_id,QuoteCreditPurchaseLogsFactory.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.payment_response.gateway_callback_url?$window.location.href=response.payment_response.gateway_callback_url:"Pending"===response.payment_response.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.payment_response.status?($scope.user_available_credit_count=$scope.user_available_credit_count+parseInt(response.data.credit_count),$scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt(response.data.price),flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload()):512===response.payment_response.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):(flashMessage=$filter("translate")(response.payment_response.error.message),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.payment_response.error.message)||null!==error.payment_response.error.message)&&flash.set($filter("translate")(error.payment_response.error.message),"error",!1),$scope.paynow_is_disabled=!1})):flash.set($filter("translate")("Please select credit purchase plan"),"error",!1)},countries.get({limit:"all"},function(response){angular.isDefined(response.data)&&($scope.countries=response.data)}),$scope.index()}]),angular.module("getlancerApp.Common.Subscription").factory("QuoteCreditPurchaseLogsFactory",["$resource",function($resource){return $resource("/api/v1/credit_purchase_logs",{},{get:{method:"GET"},create:{method:"POST"}})}]).factory("QuoteCreditPurchaseLogFactory",["$resource",function($resource){return $resource("/api/v1/credit_purchase_logs/:creditPurchaseLogId",{},{get:{method:"GET",params:{creditPurchaseLogId:"@creditPurchaseLogId"}},update:{method:"PUT",params:{creditPurchaseLogId:"@creditPurchaseLogId"}},remove:{method:"DELETE",params:{creditPurchaseLogId:"@creditPurchaseLogId"}}})}]).factory("QuoteCreditPurchaseLogsMeFactory",["$resource",function($resource){return $resource("/api/v1/me/credit_purchase_logs",{},{get:{method:"GET"}})}]),angular.module("getlancerApp.Common.Subscription").factory("QuoteCreditPurchasePlansFactory",["$resource",function($resource){return $resource("/api/v1/credit_purchase_plans",{},{get:{method:"GET"},post:{method:"POST"}})}]).factory("CouponGetStatusFactory",["$resource",function($resource){return $resource("/api/v1/coupons/get_status/:coupon_code",{},{get:{method:"GET",params:{coupon_code:"@coupon_code",amount:"@amount"}}})}]).factory("QuoteCreditPurchasePlanFactory",["$resource",function($resource){return $resource("/api/v1/credit_purchase_plans/:/creditPurchasePlanId",{},{get:{method:"GET",params:{creditPurchasePlanId:"@creditPurchasePlanId"}},put:{method:"PUT",params:{creditPurchasePlanId:"@creditPurchasePlanId"}},"delete":{method:"DELETE",params:{creditPurchasePlanId:"@creditPurchasePlanId"}}})}]),angular.module("getlancerApp.Common.Subscription").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("scripts/plugins/Common/Subscription/views/default/quote_credit_purchase_logs.html",'<div class="gray-bg top-space top-mspace-10"> <div class="container"> <div class="row"> <div class="col-md-12"> <ul class="breadcrumb panel"> <li> <a href="/">{{\'Home\'|translate}}</a> </li> <li class="active">{{\'Credit Purchase Log\'|translate}}</li> </ul> </div> </div> </div> <div class="container"> <div class="row"> <div class="col-md-4 col-lg-3"> <div ng-include="\'views/users_account_left_side_menu.html\'"></div> </div> <div class="col-md-8 col-lg-9 navbar-btn" ng-controller="QuoteCreditPurchaseLogsController"> <div class="section navbar-default" ng-show="!loader"> <div class="panel"> <div class="panel-heading sep-bot"> <h3>{{\'Credit Purchase Log\'|translate}} <span class="pull-right trans-amount"> <small class="blackc text-16">{{\'Your current available credit points:\'|translate}}</small>&nbsp; <small class="text-18 greenc">{{user_available_credit_count}}</small> </span> </h3> </div> <div class="panel-heading" ng-show="!loader"> <div class="add-wallet-table"> <div class="table-responsive pg-table"> <div ng-if="credit_purchase_logs.length"> <div ng-if="settings.IS_ENABLED_CREDIT_POINT_CARRY_FORWARD == 1"> <p class="alert alert-success text-center">{{\'Balance credit points will be carried forward to your account on your next purchase\'}}. </p> </div> </div> <table class="table table-striped no-mar top-msapce table-bordered"> <thead> <tr> <th rowspan="2">{{\'Purchase Date\' |translate}}</th> <th rowspan="2">{{\'Plan\'|translate}}</th> <th width="100" rowspan="2">{{\'Expiry Date\'|translate}}</th> <th colspan="3" class="text-center">{{\'Credit Points\'|translate}}</th> <th class="text-center" rowspan="2">{{\'Price\'|translate}}</th> <th rowspan="2">{{\'Payment Status\'|translate}}</th> <th rowspan="2">{{\'Active?\'|translate}}</th> </tr> <tr class="text-center"> <th class="text-center">{{\'All\' |translate}}</th> <th class="text-center">{{\'Used\'|translate}}</th> <th class="text-center">{{\'Available\'|translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="list in credit_purchase_logs" ng-if="credit_purchase_logs.length"> <td>{{list.created_at | date_format : \'MMM dd, yyyy\'}} </td> <td>{{list.quote_credit_purchase_plan.name}}</td> <td><span ng-if="list.expiry_date==null"> {{\'Unlimited\'|translate}}</span> <span ng-if="list.expiry_date!=null"> {{list.expiry_date | date_format}}</span></td> <td class="text-center">{{list.credit_count}}</td> <td class="text-center">{{list.used_credit_count}}</td> <td class="text-center">{{list.availale_credit_count}}</td> <td class="text-center"> <span class="text-center" ng-if="list.original_price == list.price"> <amount-display amount="{{list.original_price}}" ng-if="list.original_price"></amount-display> </span> <p ng-if="list.original_price != list.price"> <span> <amount-display amount="{{list.price}}" ng-if="list.price"></amount-display> </span> <span class="show text-muted">{{list.discount_percentage}}% {{\'Off\'|translate}} <strike> <amount-display amount="{{list.original_price}}" ng-if="list.original_price"></amount-display> </strike> </span> </p> </td> <td class="text-center"><span ng-show="list.is_payment_completed"><i class="fa fa-check" aria-hidden="true"></i></span> <span ng-show="!list.is_payment_completed">--</span>  </td> <td class="text-center"> <span ng-show="list.is_active">{{\'Yes\' | translate}}</span> <span ng-show="!list.is_active"> {{\'No\' | translate}}</span> </td> </tr> <tr ng-if="!credit_purchase_logs.length && !loader" class="text-center"> <td colspan="9"> <p class="text-center text-danger no-mar" ng-show="!loader"> {{\'No records available\' | translate}} </p> <p class="text-center no-mar" ng-show="loader"> {{\'Loading..\' | translate}} </p> </td> </tr> </tbody> </table> </div> <div class="binding-pagination"> <div class="pagnation-content"> <div class="row pagnation-inner"> <div class="col-md-12 text-center" ng-hide="(credit_purchase_logs.length > itemsPerPage) && currentPage==1"> <uib-pagination ng-hide="!credit_purchase_logs.length" total-items="totalItems" max-size="maxSize" items-per-page="itemsPerPage" ng-model="currentPage" class="pagination-sm" boundary-links="true" num-pages="noOfPages" ng-click="paginate_credit_log()"></uib-pagination> </div> </div> </div> </div> </div> </div> <div ng-include="\'views/loader.html\'"></div> </div> </div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Common/Subscription/views/default/quote_credit_purchase_plan.html",'<div class="gray-bg purchase-credit top-mspace-10" ng-controller="QuoteCreditPurchasePlanController"> <div class="container"> <div class="row"> <div class="col-md-12"> <ul class="breadcrumb panel"> <li> <a href="/">{{\'Home\'|translate}}</a> </li> <li class="active">{{\'My Account\'|translate}}</li> </ul> </div> </div> </div> <div class="container"> <div class="row"> <div class="col-md-4 col-lg-3"> <div ng-include="\'views/users_account_left_side_menu.html\'"></div> </div> <div class="col-md-8 col-lg-9 ver-big-mspace"> <div class="text-center navbar-btn clearfix"> <h3>{{\'Purchase credits to get started\' | translate }}</h3>  </div> <div ng-if="expired_credit_point != 0  && user_available_credit_count == 0 && settings.IS_ENABLED_CREDIT_POINT_CARRY_FORWARD != 0"> <p class="alert alert-info"> {{\'Your current expired credit points\'|translate}} {{expired_credit_point}}. {{\'This credit point will be carry forward to your account in next purchase.\'|translate}} </p> </div> <form name="PaymentForm" role="form" ng-submit="PaymentFormSubmit(PaymentForm.$valid)"> <div class="col-md-12 panel navbar-btn clearfix purchase-plan"> <div class="panel-body"> <h4>{{"Select a credit pack" | translate }} <span class="pull-right prices-block" ng-if="user_available_credit_count"> <small class="blackc text-16">{{\'Your current available credit points:\'|translate}}</small>&nbsp; <small class="text-18 greenc">{{user_available_credit_count}}</small> </span> </h4> </div> <div class="table-responsive"> <table class="table table-striped table-bordered table-center table-vcenter"> <tr> <th class="data-left">{{\'Plan\'|translate}}</th> <th>{{\'Validity\'|translate}}</th> <th>{{\'Price\'|translate}}</th> </tr> <tbody> <tr ng-repeat="quote_credit_purchase_plan in credit_purchase_plans"> <td class="data-left"> <div class="radio"> <label for="credit_purchase_plan_id_{{$index}}"> <input type="radio" id="credit_purchase_plan_id_{{$index}}" ng-change="getPlandetails($index)" value="{{quote_credit_purchase_plan.id}}" name="credit_purchase_plan_id" ng-model="plan.credit_purchase_plan_id" required> <span class="left-space"> {{quote_credit_purchase_plan.name}} ({{quote_credit_purchase_plan.no_of_credits}} {{"Credits" | translate }}) </span> </label> </div> </td> <td> <span ng-if="quote_credit_purchase_plan.day_limit"> {{quote_credit_purchase_plan.day_limit}} {{\'days\'|translate}} </span> <span ng-if="!quote_credit_purchase_plan.day_limit"> {{\'Unlimited\'|translate}} </span> </td> <td class="text-right"> <span class="price"> <amount-display amount="{{quote_credit_purchase_plan.price}}" ng-if="quote_credit_purchase_plan.price"></amount-display> </span> <span class="show text-muted"> {{quote_credit_purchase_plan.discount_percentage}}% {{\'Off\'|translate}} <strike> <amount-display amount="{{quote_credit_purchase_plan.original_price}}" ng-if="quote_credit_purchase_plan.original_price"></amount-display> </strike> </span> </td> </tr> </tbody> </table> </div> </div> <div class="clearfix"> <div class="col-xs-12 prices-block mar-bot-10"> <div class="panel panel-primary clearfix" ng-show="plan_info.price_final >= 0">  <div class="clearfix row"> <div class="col-xs-12 text-center"> <div class="have-pay"> <p class="text-22 textb" ng-show="show_discount"> {{"Coupon discount" | translate }} {{show_discount}}</p> <p class="text-22 textb"> <span class="you-have-pay">{{"You have to pay" | translate }}</span> <span class="greenc"> <amount-display amount="{{plan_info.price_final}}" ng-if="amount_change"></amount-display> </span> <span ng-show="plan_info.original_price" class="text-18 textb without-offer text-danger"> <amount-display amount="{{plan_info.original_price}}" ng-if="amount_change"></amount-display> </span> </p> </div> </div> </div>  </div> </div> </div> <div class="col-md-12 panel navbar-btn"> <div class="panel navbar-btn clearfix"> <div class="panel-body"> <div ng-include="\'views/gateway.html\'"> </div> </div> </div> </div> </form> </div> </div> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Common.Subscription');"use strict";angular.module("getlancerApp.Common.Wallet",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","ui.select","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","builder","builder.components","validator.rules","angularMoment","ngFileUpload","oitozero.ngSweetAlert","720kb.socialshare","slugifier"]).config(function($stateProvider,$urlRouterProvider){var getToken={TokenServiceData:function(TokenService,$q){return $q.all({AuthServiceData:TokenService.promise,SettingServiceData:TokenService.promiseSettings})}};$urlRouterProvider.otherwise("/"),$stateProvider.state("wallets",{url:"/wallets",templateUrl:"scripts/plugins/Common/Wallet/views/default/wallet.html",resolve:getToken})}),angular.module("getlancerApp.Common.Wallet").controller("WalletController",["$rootScope","$scope","$window","countries","states","cities","usersAddresses","wallet","flash","$location","$filter","$state","paymentGateways","userSettings","ConstPaymentGateways","UserMeFactory","$timeout",function($rootScope,$scope,$window,countries,states,cities,usersAddresses,wallet,flash,$location,$filter,$state,paymentGateways,userSettings,ConstPaymentGateways,UserMeFactory,$timeout){$rootScope.url_split=$location.path().split("/")[1],$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Add to wallet"),$scope.minimum_wallet_amount=$rootScope.settings.WALLET_MIN_WALLET_AMOUNT,$scope.maximum_wallet_amount=$rootScope.settings.WALLET_MAX_WALLET_AMOUNT,$scope.buyer={},$scope.paynow_is_disabled=!1,$scope.payment_note_enabled=!1,$scope.payer_form_enabled=!0,$scope.is_wallet_page=!0,$scope.existing_new_address=1,$scope.user_address_id="",$scope.user_address_add={},$scope.save_btn=!1,$scope.first_gateway_id="",$scope.gatewayError="",$scope.index=function(){UserMeFactory.get({},function(response){$scope.user_available_balance=response.data.available_wallet_amount||0,0===parseInt($scope.user_available_balance)?$scope.is_show_wallet_paybtn=!1:$scope.is_show_wallet_paybtn=!0});var payment_gateways=[];paymentGateways.get({},function(payment_response){if(payment_response.PayPalREST){var response=payment_response.PayPalREST;response.paypalrest_enabled&&($scope.paypal_enabled=!0)}$scope.group_gateway_id="",0===payment_response.error.code&&void 0!==payment_response.zazpay&&(angular.forEach(payment_response.zazpay.gateways,function(gateway_group_value,gateway_group_key){0===gateway_group_key&&($scope.group_gateway_id=gateway_group_value.id,$scope.first_gateway_id=gateway_group_value.id),angular.forEach(gateway_group_value.gateways,function(payment_geteway_value,payment_geteway_key){var payment_gateway={},suffix="sp_";0===gateway_group_key&&($scope.sel_payment_gateway="sp_"+payment_geteway_value.id),suffix+=payment_geteway_value.id,payment_gateway.id=payment_geteway_value.id,payment_gateway.payment_id=suffix,payment_gateway.group_id=gateway_group_value.id,payment_gateway.display_name=payment_geteway_value.display_name,payment_gateway.thumb_url=payment_geteway_value.thumb_url,payment_gateway.suffix=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.form_fields=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.instruction_for_manual=payment_geteway_value.instruction_for_manual,payment_gateways.push(payment_gateway)})}),$scope.gateway_groups=payment_response.zazpay.gateways,$scope.payment_gateways=payment_gateways,$scope.form_fields_tpls=payment_response.zazpay._form_fields_tpls,$scope.show_form=[],$scope.form_fields=[],angular.forEach($scope.form_fields_tpls,function(key,value){"buyer"===value&&($scope.form_fields[value]="scripts/plugins/Common/Wallet/views/default/buyer.html"),"credit_card"===value&&($scope.form_fields[value]="scripts/plugins/Common/Wallet/views/default/credit_card.html"),"manual"===value&&($scope.form_fields[value]="scripts/plugins/Common/Wallet/views/default/manual.html"),$scope.show_form[value]=!0}),$scope.gateway_id=ConstPaymentGateways.ZazPay)})},$scope.paneChanged=function(pane){"Manual / Offline"===pane&&($scope.payment_note_enabled=!0),"paypal"===pane&&($scope.gateway_id=ConstPaymentGateways.PayPal),$scope.defaultselect(pane);var keepGoing=!0;$scope.buyer={},$scope.PaymentForm.$setPristine(),$scope.PaymentForm.$setUntouched(),angular.forEach($scope.form_fields_tpls,function(key,value){$scope.show_form[value]=!1}),$scope.gateway_id=ConstPaymentGateways.ZazPay,angular.forEach($scope.gateway_groups,function(res){if(res.display_name===pane&&"Wallet"!==pane){var selPayment="";angular.forEach($scope.payment_gateways,function(response){keepGoing&&response.group_id===res.id&&(selPayment=response,keepGoing=!1,$scope.rdoclick(selPayment.id,selPayment.form_fields))}),$scope.sel_payment_gateway="sp_"+selPayment.id,$scope.group_gateway_id=selPayment.group_id}})},$scope.defaultselect=function(pane){var selectedTab,selectedPayment;$scope.gateways=[];var keepGoing=!0;angular.forEach($scope.gateway_groups,function(res){keepGoing&&res.display_name==pane&&(selectedTab=res,$scope.selectedTab=res,keepGoing=!1)}),keepGoing=!0,angular.forEach($scope.payment_gateways,function(res){keepGoing&&res.group_id==selectedTab.id&&(selectedPayment=res,keepGoing=!1,$scope.rdoclick(selectedPayment.id,selectedPayment.form_fields))}),$scope.gateways="sp_"+selectedPayment.id},$scope.rdoclick=function(res,res1){$scope.paynow_is_disabled=!1,$scope.sel_payment_gateway="sp_"+res,$scope.array=res1.split(","),angular.forEach($scope.array,function(value){$scope.show_form[value]=!0})},$scope.WalletFormSubmit=function(form){var payment_id="";if($scope.sel_payment_gateway&&$scope.gateway_id===ConstPaymentGateways.ZazPay&&(payment_id=$scope.sel_payment_gateway.split("_")[1]),$scope.buyer.user_id=$rootScope.user.id,$scope.buyer.amount=$scope.amount,$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=payment_id,angular.isDefined($scope.buyer.credit_card_expired)&&($scope.buyer.credit_card_expired.month||$scope.buyer.credit_card_expired.year)&&($scope.buyer.credit_card_expired.month>0&&$scope.buyer.credit_card_expired.month<10&&($scope.buyer.credit_card_expired.month="0"+$scope.buyer.credit_card_expired.month),$scope.buyer.credit_card_expire=$scope.buyer.credit_card_expired.month+"/"+$scope.buyer.credit_card_expired.year),form){$scope.paynow_is_disabled=!0;var flashMessage;wallet.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.payment_response.gateway_callback_url?$window.location.href=response.payment_response.gateway_callback_url:"Pending"===response.payment_response.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.payment_response.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.payment_response.error.code?(flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload()):512===response.payment_response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):($scope.gatewayError=$filter("translate")(response.payment_response.error.message),flashMessage=$filter("translate")("Payment could not be completed.Please try again..."),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.payment_response.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.payment_response.error.message),"error",!1),$scope.paynow_is_disabled=!1})}},$scope.site_url=$location.absUrl().split("?")[1];var flashMessage;"error_code=0"===$scope.site_url&&(flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1)),$scope.payNowPayPalClick=function(){var flashMessage;angular.isDefined($scope.amount)?($scope.buyer.user_id=$rootScope.user.id,$scope.buyer.amount=$scope.amount,$scope.buyer.payment_gateway_id=ConstPaymentGateways.PayPal,$scope.buyer.gateway_id=$scope.buyer.payment_gateway_id,$scope.paynow_is_disabled=!0,wallet.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.payment_response.gateway_callback_url?$window.location.href=response.payment_response.gateway_callback_url:"Pending"===response.payment_response.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.payment_response.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.payment_response.error.code?(flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload()):512===response.payment_response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):($scope.gatewayError=$filter("translate")(response.payment_response.error.message),flashMessage=$filter("translate")("Payment could not be completed.Please try again..."),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.payment_response.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.payment_response.error.message),"error",!1),$scope.paynow_is_disabled=!1})):(flashMessage=$filter("translate")("please enter amount."),flash.set(flashMessage,"error",!1))},countries.get({limit:"all"},function(response){angular.isDefined(response.data)&&($scope.countries=response.data)}),$scope.index()}]),angular.module("getlancerApp.Common.Wallet").factory("wallet",["$resource",function($resource){return $resource("/api/v1/wallets",{},{create:{method:"POST"}})}]),angular.module("getlancerApp.Common.Wallet").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Common/Wallet/views/default/buyer.html",'<div class="row"> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_email.$touched) && (PaymentForm.buyer_email.$pristine || PaymentForm.buyer_email.$invalid) }"> <input name="buyer_email" ng-model="buyer.buyer_email" class="form-control" id="buyer_email" type="email" placeholder="{{\'Email\'|translate}}" ng-required="true"> <div ng-show="((PaymentForm.$submitted || PaymentForm.buyer_email.$touched) && (PaymentForm.buyer_email.$pristine || PaymentForm.buyer_email.$invalid))"> <div class="help-block" ng-show="(PaymentForm.buyer_email.$error.required)">{{\'Required\'|translate}}</div> <div class="help-block" ng-show="(PaymentForm.buyer_email.$error.email)">{{\'Enter Valid Email\'|translate}}</div> </div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_address.$touched) && (PaymentForm.buyer_address.$pristine || PaymentForm.buyer_address.$invalid) }"> <input name="buyer_address" ng-model="buyer.buyer_address" class="form-control" id="buyer_address" type="text" ng-required="true" placeholder="{{\'Address\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_address.$touched) && (PaymentForm.buyer_address.$pristine || PaymentForm.buyer_address.$invalid) && (PaymentForm.buyer_address.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_city.$touched) && (PaymentForm.buyer_city.$pristine || PaymentForm.buyer_city.$invalid) }"> <input name="buyer_city" id="buyer_city" class="form-control" ng-model="buyer.buyer_city" type="text" ng-required="true" placeholder="{{\'City\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_city.$touched) && (PaymentForm.buyer_city.$pristine || PaymentForm.buyer_city.$invalid) &&(PaymentForm.buyer_city.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_state.$touched) && (PaymentForm.buyer_state.$pristine || PaymentForm.buyer_state.$invalid) }"> <input name="buyer_state" ng-model="buyer.buyer_state" class="form-control" id="buyer_state" type="text" ng-required="true" placeholder="{{\'State\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_state.$touched) && (PaymentForm.buyer_state.$pristine || PaymentForm.buyer_state.$invalid) && (PaymentForm.buyer_state.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_country_iso2.$touched) && (PaymentForm.buyer_country_iso2.$pristine || PaymentForm.buyer_country_iso2.$invalid) }"> <select name="buyer_country_iso2" id="buyer_country_iso2" class="form-control" ng-model="buyer.buyer_country_iso2" ng-options="country.iso_alpha2 as country.name for country in countries" ng-required="true"> <option value="">{{\'Country\'|translate}}</option> </select> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_country_iso2.$touched) && (PaymentForm.buyer_country_iso2.$pristine || PaymentForm.buyer_country_iso2.$invalid) && (PaymentForm.buyer_country_iso2.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_zip_code.$touched) && (PaymentForm.buyer_zip_code.$pristine || PaymentForm.buyer_zip_code.$invalid) }"> <input name="buyer_zip_code" ng-model="buyer.buyer_zip_code" class="form-control" id="buyer_zip_code" type="number" ng-required="true" placeholder="{{\'Zip Code\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_zip_code.$touched) && (PaymentForm.buyer_zip_code.$pristine || PaymentForm.buyer_zip_code.$invalid)"> <div class="help-block" ng-show="(PaymentForm.buyer_zip_code.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_phone.$touched) && (PaymentForm.buyer_phone.$pristine || PaymentForm.buyer_phone.$invalid) }"> <input name="buyer_phone" ng-model="buyer.buyer_phone" class="form-control" id="buyer_phone" type="number" ng-required="true" placeholder="{{\'Phone\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_phone.$touched) && (PaymentForm.buyer_phone.$pristine || PaymentForm.buyer_phone.$invalid)"> <div class="help-block" ng-show="(PaymentForm.buyer_phone.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/credit_card.html",'<div class="row"> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_number.$touched) && (PaymentForm.credit_card_number.$pristine || PaymentForm.credit_card_number.$invalid) }"> <card-number-input ng-model="buyer.credit_card_number" class="form-control" name="credit_card_number" card-type="cardType" placeholder="{{\'Card Number\'|translate}}" ng-required="true"></card-number-input> <span class="{{cardType}}"><span class="cc-type"></span></span> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_number.$touched) && (PaymentForm.credit_card_number.$pristine || PaymentForm.credit_card_number.$invalid) && (PaymentForm.credit_card_number.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_expired.$touched) && (PaymentForm.credit_card_expired.$pristine || PaymentForm.credit_card_expired.$invalid) }"> <card-expiry-input class="form-control" name="credit_card_expired" ng-model="buyer.credit_card_expired" placeholder="{{\'MM / YYYY\'|translate}}" ng-required="true"></card-expiry-input> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_expired.$touched) && (PaymentForm.credit_card_expired.$pristine || PaymentForm.credit_card_expired.$invalid) && (PaymentForm.credit_card_expired.$error.required)">{{\'Required\'|translate}}</div> <div class="help-block" ng-show="(PaymentForm.credit_card_expired.$error.cardExpiry &&  !PaymentForm.credit_card_expired.$error.required) && PaymentForm.credit_card_expired.$touched">{{\'Please enter a future date\'|translate}}</div> </div> </div> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_name_on_card.$touched) && (PaymentForm.credit_card_name_on_card.$pristine || PaymentForm.credit_card_name_on_card.$invalid) }"> <input name="credit_card_name_on_card" ng-model="buyer.credit_card_name_on_card" class="form-control" id="ZazpayCreditCardNameOnCard" type="text" class="card_name" placeholder="{{\'Name on Card\'|translate}}" ng-required="true"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_name_on_card.$touched) && (PaymentForm.credit_card_name_on_card.$pristine || PaymentForm.credit_card_name_on_card.$invalid) && (PaymentForm.credit_card_name_on_card.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_code.$touched) && (PaymentForm.ccNumcredit_card_codeber.$pristine || PaymentForm.credit_card_code.$invalid) }"> <card-cvc-input class="form-control" name="credit_card_code" ng-model="buyer.credit_card_code" placeholder="{{\'Card Code\'|translate}}" ng-required="true"></card-cvc-input> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_code.$touched) && (PaymentForm.credit_card_code.$pristine || PaymentForm.credit_card_code.$invalid) && (PaymentForm.credit_card_code.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/gateway.html",'<div ng-if="gatewayError"><div class="well-sm"></div><div class="alert alert-danger">{{gatewayError}}</div></div> <article id="get-gateways-index"> <div class="get-gateways"> <div class="ver-space"> <div id="paymentgateways-tab-container" class="navbar-btn"> <ul class="nav nav-tabs cur text-center">  <li class="col-xs-6 col-sm-3" ng-if="paypal_enabled" ng-class="{active:paypal_enabled}"> <a data-target="#Paypal" data-toggle="tab" ng-click="paneChanged(\'paypal\')"> <div> <img src="images/paypal.png" data-target="#Paypal"> </div> </a> </li>  <li class="col-xs-6 col-sm-4 act-{{gateway_group.id}}" ng-repeat="gateway_group in gateway_groups" ng-hide="!gateway_group.gateways.length" ng-class="{active:$first && !paypal_enabled}"> <a data-target="#{{gateway_group.id}}" data-toggle="tab" ng-click="paneChanged(gateway_group.display_name)"> <div> <img ng-src="{{gateway_group.thumb_url}}" data-target="#{{gateway_group.id}}"> </div> </a> </li> </ul> </div> <div class="tab-content qwerty">  <div class="tab-pane" ng-class="{active:paypal_enabled}" id="Paypal"> <div class="js-form col-xs-12 js-form navbar-btn"> <div class="clearfix btn-group"> <button type="button" ng-disabled="paynow_is_disabled" ng-click="payNowPayPalClick()" class="textb text-13 btn btn-lg btn-primary" title="{{\'Pay Now\'|translate}}">{{\'Pay Now\'|translate}} <span ng-show="paynow_is_disabled"><i class="fa fa-spinner fa-pulse fa-lg"></i></span> </button> </div> <div class="ver-space ver-mspace navbar-btn mob-clr col-xs-12 row"> <span class="text-info">{{\'By clicking the "Pay Now" button, you agree to these \'|translate}} <a target="_blank" href="pages/7/terms-and-conditions" title="{{\'Terms of Service\'|translate}}">{{\'Terms of Service.\'|translate}}</a> </span> </div> </div> </div> <div ng-repeat="gateway_group in gateway_groups" ng-hide="!gateway_group.gateways.length" id="{{gateway_group.id}}" class="tab-pane js-set-deact act-{{gateway_group.id}}" ng-class="{active:$first && !paypal_enabled }"> <ul class="list-inline"> <li ng-repeat="payment_gateway in payment_gateways" ng-if="payment_gateway.group_id == gateway_group.id" class=""> <div ng-if="payment_gateway.group_id == first_gateway_id" class="payment-note top-space text-info">{{\'Please enter your credit card details below\'|translate}}.</div> <div ng-if="payment_gateway.group_id != first_gateway_id" class="input radio no-mar hor-mspace radio_buttons"> <label for="PaymentGatewayIdSp{{payment_gateway.id}}" class="bot-space-20"> <input type="radio" name="data" ng-model="sel_payment_gateway" id="PaymentGatewayIdSp{{payment_gateway.id}}" class="js-payment-type js-no-pjax pull-left no-mar" value="sp_{{payment_gateway.id}}" ng-click="rdoclick(payment_gateway.id, payment_gateway.form_fields) "> <span> <img ng-src="{{payment_gateway.thumb_url}}" alt="{{payment_gateway.name}}"> </span> </label> <p ng-bind-html="payment_gateway.instruction_for_manual" ng-show="payment_gateway.instruction_for_manual" class="payment-note"></p> </div> </li> </ul> <div class="js-form js-form navbar-btn"> <div class="js-gatway_form_tpl clearfix" ng-repeat="(key, value) in form_fields_tpls" id="form_tpl_{{key}}" ng-if="gateway_group.id == group_gateway_id"> <div ng-if="show_form[key]"> <div class="no-mar clearfix" ng-if="key == \'credit_card\'"> <h3>{{\'Credit card Details\'|translate}}</h3> <hr class="row"> <div ng-include="form_fields[key]" ng-if="key === \'credit_card\'" class="payment-form cc-section"></div> </div> <div class="no-mar clearfix" ng-if="key == \'buyer\' && payer_form_enabled"> <h3 class="no-mar">{{\'Payer Details\'|translate}}</h3> <hr class="row"> <div ng-include="form_fields[key]" ng-if="key === \'buyer\'" class="payment-form"></div> </div> <div class="no-mar clearfix" ng-if="key == \'manual\' && payment_note_enabled"> <h3 class="no-mar">{{\'Payer Details\'|translate}}</h3> <hr class="row"> <div ng-include="form_fields[key]" ng-if="key === \'manual\'" class="payment-form"></div> </div> </div> </div> </div> <div class="navbar-btn mob-clr"> <div class="bot-15-mspace">{{\'By clicking the "Pay Now" button, you agree to these \'|translate}} <a target="_blank" href="pages/7/terms-and-conditions" title="{{\'Terms of Service\'|translate}}" class="text-primary">{{\'Terms of Service.\'|translate}}</a> </div> <div class="clearfix"> <button type="submit" ng-disabled="paynow_is_disabled" class="btn btn-primary" title="{{\'Pay Now\'|translate}}">{{\'Pay Now\'|translate}} <span ng-show="paynow_is_disabled"><i class="fa fa-spinner fa-pulse fa-lg"></i></span> </button> </div> </div> </div> </div> </div> </div> </article>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/manual.html",'<div class="row"> <div class="col-md-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.payment_note.$touched) && (PaymentForm.payment_note.$pristine || PaymentForm.payment_note.$invalid) }"> <label for="payment_note">{{\'Payment Note\'|translate}}</label> <textarea class="form-control ta" ng-model="buyer.payment_note" name="payment_note" id="payment_note" placeholder="{{\'Payment Note\'|translate}}" ng-required="true"></textarea> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.payment_note.$touched) && (PaymentForm.payment_note.$pristine || PaymentForm.payment_note.$invalid) && (PaymentForm.payment_note.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/wallet.html",'<div class="gray-bg top-space top-mspace-10"> <div class="container"> <div class="row"> <div class="col-md-12"> <ul class="breadcrumb panel"> <li> <a href="/">{{\'Home\'|translate}}</a> </li> <li class="active">{{\'Add to wallet\'|translate}}</li> </ul> </div> </div> </div> <div class="container"> <div class="row"> <div class="col-md-4 col-lg-3"> <div ng-include="\'views/users_account_left_side_menu.html\'"></div> </div> <div class="col-md-8 col-lg-9 navbar-btn"> <div class="section navbar-default" ng-show="!loader" ng-controller="WalletController"> <div class="panel"> <div class="panel-heading sep-bot"> <h3 class="no-mar">{{\'Add to wallet\'|translate}}</h3> </div> <div class="panel-heading space-alert"> <p ng-if="user_available_balance == 0 || user_available_balance == null " class="alert alert-danger custom-alert"> <span>{{\'Your Current Available Balance\'|translate}}: </span> <span class="textb text-34"> <amount-display amount="{{user_available_balance}}" ng-if="user_available_balance"></amount-display> </span> </p> <p ng-if="user_available_balance > 0" class="alert alert-success custom-alert"> <span>{{\'Your Current Available Balance\'|translate}}:</span> <span class="textb text-34"><amount-display amount="{{user_available_balance}}" ng-if="user_available_balance"></amount-display> </span> </p> <form class="clearfix form-horizontal wallet-form row" role="form" name="PaymentForm" ng-submit="WalletFormSubmit(PaymentForm.$valid)"> <div class="col-sm-10 col-sm-offset-2"> <div class="form-group col-sm-10" ng-class="{ \'has-error\' : ((PaymentForm.$submitted || PaymentForm.amount.$touched) && (PaymentForm.amount.$pristine || PaymentForm.amount.$invalid)) || amountErr }"> <div class="row"> <label class="col-sm-4 control-label text-right" for="amount">{{\'Amount\'|translate}}</label> <div class="col-sm-8"> <input type="number" min="{{minimum_wallet_amount}}" max="{{maximum_wallet_amount}}" class="form-control" name="amount" id="amount" placeholder="{{\'Amount\'|translate}}" ng-model="amount" ng-change="amountErr=\'\'" required> <div ng-show="((PaymentForm.$submitted || PaymentForm.amount.$touched) && (PaymentForm.amount.$pristine || PaymentForm.amount.$invalid)) || amountErr"> <span class="help-block error" ng-show="(PaymentForm.amount.$error.required)"> {{\'You must enter the amount\' | translate}} </span> <span class="help-block error" ng-show="(PaymentForm.amount.$error.number)"> {{\'Please enter a valid amount\' | translate}} </span> <span class="help-block error" ng-show="(PaymentForm.amount.$error.min)"> {{\'Your field value is lesser than minimum value\' | translate}} </span> <span class="help-block error" ng-show="(PaymentForm.amount.$error.max)"> {{\'Your field value is greater than maximum value\' | translate}} </span> <span class="help-block error" ng-show="amountErr"> {{amountErr}} </span> </div> </div> </div> <ul class="list-unstyled col-sm-offset-4 space text-muted text-12"> <li>{{\'Minimum Amount\'|translate}}: <span> <amount-display amount="{{minimum_wallet_amount}}" ng-if="minimum_wallet_amount"></amount-display> </span></li> <li>{{\'Maximum Amount\'|translate}}: <span> <amount-display amount="{{maximum_wallet_amount}}" ng-if="maximum_wallet_amount"></amount-display> </span></li> </ul> </div> <div class="clearfix"></div> </div> <div class="col-xs-12"> <div ng-include="\'scripts/plugins/Common/Wallet/views/default/gateway.html\'"></div> </div> </form> </div> </div> </div> </div> </div> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Common.Wallet');"use strict";angular.module("getlancerApp.Common.Withdrawal",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","ui.select","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","builder","builder.components","validator.rules","angularMoment","ngFileUpload","oitozero.ngSweetAlert","720kb.socialshare","slugifier"]).config(function($stateProvider,$urlRouterProvider){var getToken={TokenServiceData:function(TokenService,$q){return $q.all({AuthServiceData:TokenService.promise,SettingServiceData:TokenService.promiseSettings})}};$urlRouterProvider.otherwise("/"),$stateProvider.state("user_cash_withdrawals",{url:"/users/cash_withdrawals",templateUrl:"scripts/plugins/Common/Withdrawal/views/default/cash_withdrawals.html",resolve:getToken})}),angular.module("getlancerApp.Common.Withdrawal").controller("CashWithdrawalsController",["$rootScope","$scope","cashWithdrawals","moneyTransferAccount","flash","$filter","$state","UserMeFactory","$location","myUserFactory",function($rootScope,$scope,cashWithdrawals,moneyTransferAccount,flash,$filter,$state,UserMeFactory,$location,myUserFactory){$rootScope.url_split=$location.path().split("/")[2],$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Cash Withdrawals"),$scope.minimum_withdraw_amount=$rootScope.settings.USER_MINIMUM_WITHDRAW_AMOUNT,$scope.maximum_withdraw_amount=$rootScope.settings.USER_MAXIMUM_WITHDRAW_AMOUNT,$scope.user_available_balance=$rootScope.user.available_wallet_amount,$scope.withDrawAmount=200,$scope.mul=$scope.withDrawAmount*$rootScope.settings.WITHDRAW_REQUEST_FEE,$scope.ExampleAmount=$scope.withDrawAmount-$rootScope.settings.WITHDRAW_REQUEST_FEE,$scope.total=$scope.mul/100,$scope.account_error=!1;var params={},cashparams={};params.user_id=$rootScope.user.id,cashparams.user_id=$rootScope.user.id,$scope.index=function(){$scope.loader=!0,UserMeFactory.get({},function(response){$scope.user_available_balance=response.data.available_wallet_amount,0===parseInt($scope.user_available_balance)?($scope.getMyuser(),$scope.is_show_wallet_paybtn=!1):$scope.is_show_wallet_paybtn=!0}),void 0===$scope.currentPage?cashparams.page=1:cashparams.page=$scope.currentPage,cashWithdrawals.get(cashparams,function(response){angular.isDefined(response._metadata)&&($scope.currentPage=response._metadata.current_page,$scope.totalItems=response._metadata.total,$scope.itemsPerPage=response._metadata.per_page,$scope.noOfPages=response._metadata.last_page),angular.isDefined(response.data)&&($scope.cashWithdrawalsList=response.data),$scope.loader=!1}),moneyTransferAccount.get(params,function(response){angular.isDefined(response.data)&&($scope.moneyTransferList=response.data)})},$scope.selectedAcc=function(id){$scope.account_id=id,$scope.account_error=!1},$scope.getMyuser=function(){$rootScope.isAuth&&myUserFactory.get(function(response){$scope.my_user=response.data})},$scope.userCashWithdrawSubmit=function($valid){void 0===$scope.account_id?$scope.account_error=!0:$scope.account_error=!1,$valid&&$scope.account_error===!1&&($scope.amount=parseFloat($("#amount").val()),parseFloat($scope.user_available_balance)>$scope.amount?(params.amount=$scope.amount,params.money_transfer_account_id=$scope.account_id,params.remark="",cashWithdrawals.save(params,function(response){0===response.error.code&&($scope.my_user.available_wallet_amount=$scope.my_user.available_wallet_amount-parseInt($scope.amount),flash.set($filter("translate")("Your request submitted successfully."),"success",!0),$state.reload())},function(){flash.set($filter("translate")("Withdraw request could not be added"),"error",!1)})):flash.set("You Dont have sufficient amount in your wallet.","error",!1))},$scope.paginate=function(currentpg){$scope.currentPage=parseInt(currentpg),$scope.index()},$scope.index()}]),angular.module("getlancerApp.Common.Withdrawal").factory("cashWithdrawals",["$resource",function($resource){return $resource("/api/v1/users/:user_id/user_cash_withdrawals",{},{get:{method:"GET",params:{user_id:"@user_id"}},save:{method:"POST",params:{user_id:"@user_id"}}})}]),angular.module("getlancerApp.Common.Withdrawal").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Common/Withdrawal/views/default/cash_withdrawals.html",'<div class="gray-bg top-space top-mspace-10"> <div class="container"> <div class="row"> <div class="col-md-12"> <ul class="breadcrumb panel"> <li> <a href="/">{{\'Home\'|translate}}</a> </li> <li class="active">{{\'Cash Withdrawals\'|translate}}</li> </ul> </div> </div> </div> <div class="container"> <div class="row"> <div class="col-md-4 col-lg-3"> <div ng-include="\'views/users_account_left_side_menu.html\'"></div> </div> <div class="col-md-8 col-lg-9 navbar-btn"> <div class="section navbar-default" ng-show="!loader" ng-controller="CashWithdrawalsController"> <div class="panel"> <div class="panel-heading sep-bot"> <h3 class="no-mar">{{\'Cash Withdrawals\'|translate}}</h3> </div> <div class="add-wallet-table" ng-if="moneyTransferList.length !== 0"> <div class="panel-heading"> <div class="alert alert-info" ng-if="settings.WITHDRAW_REQUEST_FEE != 0 && settings.WITHDRAW_REQUEST_FEE_TYPE == \'Percentage\'"> <p> {{\'Site will charge\'|translate}} <span>{{settings.WITHDRAW_REQUEST_FEE}}</span>% {{\'as site commission from the requested amount\'|translate}}. </p><p> e.g., {{\'If you request to withdraw \'|translate}} <amount-display amount="{{withDrawAmount}}" ng-if="withDrawAmount"></amount-display>, {{\'admin will transfer\' |translate}} <amount-display amount="{{withDrawAmount - total}}" ng-if="total"></amount-display> {{\' to your account\'|translate}}. </p>  </div> <div class="alert alert-info" ng-if="settings.WITHDRAW_REQUEST_FEE != 0 && settings.WITHDRAW_REQUEST_FEE_TYPE == \'Fixed Fee\' && settings.WITHDRAW_REQUEST_FEE != \'\'"> <p> {{\'Site will charge\'|translate}} <amount-display amount="{{settings.WITHDRAW_REQUEST_FEE}}" ng-if="withDrawAmount"></amount-display> {{\'as site commission from the requested amount\'|translate}}. </p><p> e.g., {{\'If you request to withdraw\'|translate}} <amount-display amount="{{withDrawAmount}}" ng-if="withDrawAmount"></amount-display> {{\'and admin will be transfer\'|translate}} <amount-display amount="{{ExampleAmount}}" ng-if="ExampleAmount"></amount-display> {{\'to your account\'|translate}}. </p>  </div> <form class="clearfix" role="form" name="moneyTransfer" ng-submit="userCashWithdrawSubmit(moneyTransfer.$valid)" novalidate> <div class="form-group clearfix"> <label class="col-sm-4 control-label">{{\'Choose your payment option\'|translate}}</label> <ul class="col-sm-8 list-inline transfer-option"> <li ng-show="!moneyTransferList.length"> {{\'No account found\'|translate}} <a href="users/money_transfer_account"> {{\'Click here to add account\' | translate}}</a> </li> <li class="show" ng-repeat="moneyTransfer in moneyTransferList" ng-init="money_transfer_account_id = moneyTransferList[0].id;selectedAcc(moneyTransferList[0].id);"> <div class="radio"> <label> <input type="radio" value="{{moneyTransfer.id}}" id="moneyTransfer_{{moneyTransfer.id}}" name="money_transfer_account_id" ng-model="money_transfer_account_id" ng-click="selectedAcc(moneyTransfer.id)"> <span ng-bind-html="moneyTransfer.account"></span> </label> </div> </li> <span ng-show="((moneyTransfer.$submitted || moneyTransfer.money_transfer_account_id.$touched) && (moneyTransfer.money_transfer_account_id.$pristine))"> <span class="error" ng-show="account_error"> {{\'You must select one account\' | translate}} </span> </span> </ul> </div> <div class="form-group clearfix"> <label class="col-sm-4 control-label" for="amount">{{\'Amount\'|translate}}</label> <div class="col-sm-6"> <input type="number" min="{{minimum_withdraw_amount}}" max="{{maximum_withdraw_amount}}" class="form-control" name="amount" id="amount" placeholder="{{\'Amount\'|translate}}" ng-model="amount" ng-change="amountErr=\'\'" required> <div ng-show="((moneyTransfer.$submitted || moneyTransfer.amount.$touched) && (moneyTransfer.amount.$pristine || moneyTransfer.amount.$invalid)) || amountErr"> <span class="error" ng-show="(moneyTransfer.amount.$error.required)"> {{\'You must enter the amount\' | translate}} </span> <span class="error" ng-show="(moneyTransfer.amount.$error.number)"> {{\'You did not enter a valid number\' | translate}} </span> <span class="error" ng-show="(moneyTransfer.amount.$error.min)"> {{\'Your field value is lesser than minimum value\' | translate}} </span> <span class="error" ng-show="(moneyTransfer.amount.$error.max)"> {{\'Your field value is greater than maximum value\' | translate}} </span> <span class="error" ng-show="amountErr"> {{amountErr}} </span> </div> <ul class="list-unstyled left-space navbar-btn text-muted text-12"> <li>{{\'Minimum Withdrawal\'|translate}}&nbsp; <span> <amount-display amount="{{minimum_withdraw_amount}}" ng-if="minimum_withdraw_amount"></amount-display> </span> </li> <li>{{\'Maximum Withdrawal\'|translate}}&nbsp; <span> <amount-display amount="{{maximum_withdraw_amount}}" ng-if="maximum_withdraw_amount"></amount-display> </span> </li> </ul> </div> </div> <div class="form-group clearfix"> <label class="sr-only col-sm-4" for="submit">{{\'Submit\'|translate}}</label> <div class="col-sm-8 col-sm-offset-4"> <button id="submit" class="btn btn-primary" type="submit">{{\'Submit\' | translate }}</button> </div> </div> </form> </div> <div class="panel-heading" ng-show="cashWithdrawalsList.length && !loader"> <div class="add-wallet-table"> <h4 class="">{{\'Cash Withdraw Requests\'|translate}}</h4> <div class="table-responsive pg-table"> <table class="table no-mar table-striped table-bordered table-center"> <thead> <tr> <th>{{\'Date\' |translate}}</th> <th>{{\'Account\'|translate}} </th><th class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE != 0"> {{\'Requested Amount \' |translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}}) </span> </th> <th class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE != 0">{{\'Site Commission \' |translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span> <span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}}) </span></th> <th class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE != 0">{{\'Final Amount\' |translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span><span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'">({{$root.settings.CURRENCY_CODE}}) </span> </th> <th class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE == 0">{{\'Requested Amount \' |translate}} <span ng-if="$root.settings.CURRENCY_SYMBOL !== \'\'">({{$root.settings.CURRENCY_SYMBOL}})</span><span ng-if="$root.settings.CURRENCY_SYMBOL === \'\'"></span></th> <th>{{\'Status\' |translate}}</th> </tr> </thead> <tbody> <tr ng-repeat="userCashWithdrawals in cashWithdrawalsList"> <td class="col-sm-3">{{userCashWithdrawals.created_at}}</td> <td>{{userCashWithdrawals.money_transfer_account.account}}</td> <td class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE != 0"> {{userCashWithdrawals.amount}} </td> <td class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE != 0"> {{userCashWithdrawals.withdrawal_fee}} </td> <td class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE != 0"> {{userCashWithdrawals.amount - userCashWithdrawals.withdrawal_fee}} </td> <td class="text-center" ng-if="settings.WITHDRAW_REQUEST_FEE == 0"> {{userCashWithdrawals.amount}} </td> <td> <span ng-show="userCashWithdrawals.withdrawal_status_id == 1">{{\'Pending\' |translate}}</span> <span ng-show="userCashWithdrawals.withdrawal_status_id == 2">{{\'Under Process\' |translate}}</span> <span ng-show="userCashWithdrawals.withdrawal_status_id == 3">{{\'Success\' |translate}}</span> <span ng-show="userCashWithdrawals.withdrawal_status_id == 4">{{\'Rejected\' |translate}}</span> </td> </tr> </tbody> </table> </div> </div> </div> <div class="binding-pagination"> <div class="pagnation-content"> <div class="clearfix pagnation-inner"> <div class="col-md-12 text-center" ng-hide="(cashWithdrawalsList.length > itemsPerPage) && currentPage==1"> <uib-pagination ng-hide="!cashWithdrawalsList.length" previous-text="Previous" next-text="Next" total-items="totalItems" ng-model="currentPage" max-size="maxSize" class="pagination-sm" boundary-link-numbers="true" rotate="false" items-per-page="itemsPerPage" num-pages="numPages" num-pages="noOfPages" ng-click="paginate(currentPage)"></uib-pagination> </div> </div> </div> </div>  <div ng-include="\'views/loader.html\'"></div> <div class="panel-heading"> <div class="" ng-show="!loader && !cashWithdrawalsList.length"> <p class="text-center text-danger">{{\'No records available\'|translate}}</p> </div> </div> </div> <div class="panel-heading" ng-if="moneyTransferList.length === 0"> <div ng-show="!loader && !cashWithdrawalsList.length"> <p class="text-center text-danger"> <a href="users/money_transfer_account"> {{\'Your money transfer account is empty, so click here to update money transfer account.\' | translate}} </a> </p> </div> </div> </div> </div> </div> </div> </div> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Common.Withdrawal');"use strict";angular.module("getlancerApp.Common.UserFollow",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","ui.select","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","builder","builder.components","validator.rules","angularMoment","ngFileUpload","oitozero.ngSweetAlert","720kb.socialshare","slugifier"]),angular.module("getlancerApp.Common.UserFollow").directive("profileViewFollower",function(){return{restrict:"EA",replace:!0,templateUrl:"scripts/plugins/Common/UserFollow/views/default/user_follow.html",controller:function($rootScope,$scope,$state,$filter,UnfollowFactory,FollowersFactory,$stateParams,flash){$scope.user_id=$stateParams.id;var flash;$scope.userFollow=function(){var follow={};follow.foreign_id=$scope.user_id,follow["class"]="User",FollowersFactory.create(follow,function(response){0===response.error.code?(flash.set($filter("translate")("Follow successfully."),"success",!1),$scope.follow_id=response.id,$scope.isfollow=!0):flash.set($filter("translate")("Follow failure."),"error",!1)})},$scope.UserUnFollow=function(follow_id){var follow={};follow.followerId=follow_id,UnfollowFactory.remove(follow,function(response){0===response.error.code?(flash.set($filter("translate")("UnFollow successfully."),"success",!1),$scope.follow_id=0,$scope.isfollow=!1):flash.set($filter("translate")("UnFollow failure."),"error",!1)})}}}}),angular.module("getlancerApp.Common.UserFollow").factory("FollowersFactory",["$resource",function($resource){return $resource("/api/v1/followers",{},{get:{method:"GET"},create:{method:"POST"}})}]).factory("UnfollowFactory",["$resource",function($resource){return $resource("/api/v1/followers/:followerId",{},{remove:{method:"DELETE",params:{followerId:"@followerId"}}})}]),angular.module("getlancerApp.Common.UserFollow").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Common/UserFollow/views/default/user_follow.html",'<div ng-show="(userprofile.id != user.id && settings.SITE_ENABLED_PLUGINS.indexOf(\'Common/UserFollow\') > -1)" class="space no-pad"> <ul ng-show="!isfollow && isAuth" class="list-inline share user-share"> <li> <ul class="list-inline"> <li class="share-border cursor"> <a href="" ng-click="userFollow()" class="text-primary"><i class="fa fa-heart"></i></a> </li> <li> <a href="" ng-click="userFollow()" class="grayc" title="{{\'Follow\'| translate}}">{{\'Follow\'| translate}}</a> </li> </ul> </li> </ul> <ul ng-show="isfollow && isAuth" class="list-inline share user-share"> <li> <ul class="list-inline"> <li class="share-border"><a href="" ng-click="UserUnFollow(follow_id)" class="text-primary"><i class="fa fa-heart"></i></a></li> <li><a href="" ng-click="UserUnFollow(follow_id)" class="grayc" title="{{\'Unfollow\'| translate}}">{{\'Unfollow\'| translate}}</a></li> </ul> </li> </ul> </div>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Common.UserFollow');angular.module("getlancerApp.Common.UserFlag",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","http-auth-interceptor","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngFileUpload","infinite-scroll","ngTagsInput","angularMoment","bc.Flickity","afkl.lazyImage","angular-loading-bar","ngAnimate","oitozero.ngSweetAlert","ngMessages","slugifier"]),angular.module("getlancerApp.Common.UserFlag").directive("profileViewFlag",function($uibModal,$rootScope){return{restrict:"EA",replace:!0,templateUrl:"scripts/plugins/Common/UserFlag/views/default/users_profile_flag.html",link:function(scope,element,attr){scope.flag={},scope.FlagModel=function(user_id){$rootScope.quote_user_id=user_id,scope.modalInstance=$uibModal.open({templateUrl:"scripts/plugins/Common/UserFlag/views/default/users_flag_model.html",backdrop:"true",controller:"UserFlagController"})}}}}),angular.module("getlancerApp.Common.UserFlag").controller("UserFlagController",["$rootScope","$scope","$stateParams","$state","flash","$uibModal","$uibModalStack","FlagCategoriesFactory","FlagsFactory","$filter",function($rootScope,$scope,$stateParams,$state,flash,$uibModal,$uibModalStack,FlagCategoriesFactory,FlagsFactory,$filter){$scope.user_id=$stateParams.id;$scope.init=function(){$scope.getFlagCategories()},$scope.getFlagCategories=function(){var params={};params.foreign_id=$scope.user_id,params["class"]="User",FlagCategoriesFactory.get(params,function(response){$scope.flagcategories=response.data})},$scope.submit=function(){var params={};$scope.flagform.$valid&&(params.foreign_id=$state.params.id,params.flag_category_id=$scope.flag.flag_category_id,params.message=$scope.flag.message,params["class"]="User",FlagsFactory.create(params,function(response){0===response.error.code&&($scope.is_flag=!0,flash.set($filter("translate")("Flagged successfully."),"success",!1),$state.reload(),$uibModalStack.dismissAll())}))},$scope.closeInstance=function(){$uibModalStack.dismissAll()},$scope.init()}]),angular.module("getlancerApp.Common.UserFlag").factory("FlagsFactory",["$resource",function($resource){return $resource("/api/v1/flags",{},{create:{method:"POST"}})}]).factory("FlagCategoriesFactory",["$resource",function($resource){return $resource("/api/v1/flag_categories",{},{get:{method:"GET"}})}]),angular.module("getlancerApp.Common.UserFlag").run(["$templateCache",function($templateCache){"use strict";$templateCache.put("scripts/plugins/Common/UserFlag/views/default/users_flag_model.html",'<div class="modal-content"> <form ng-submit="submit(flagform.$isvalid)" name="flagform" novalidate> <div class="modal-header"> <button type="button" class="close" data-dismiss="modal" ng-click="closeInstance()">&times;</button> <h3 class="no-mar">{{\'Report this User\'|translate}}</h3> </div> <div class="modal-body"> <div class="form-group"> <div class="row"> <label for="inputCategory" class="col-sm-4">{{\'Flag Category\'|translate}} </label> <div class="frm-select col-sm-8"> <select id="inputCategory" name="categoryname" ng-model="flag.flag_category_id" class="form-control" required> <option value="">{{\'Please Select\'|translate}}</option> <option value="{{flagcategory.id}}" ng-repeat="flagcategory in flagcategories">{{flagcategory.name}}</option> </select> </div> <span class="error" ng-show="(flagform.$submitted || flagform.categoryname.$touched) && (flagform.categoryname.$pristine ||\n                    flagform.categoryname.$invalid) && (flagform.categoryname.$error.required)">{{\'Required\'| translate}} </span> </div> </div> <div class="form-group"> <div class="row"> <label for="inputMessage" class="col-sm-4">{{\'Message\'|translate}}<span class="error">&nbsp;*</span></label> <div class="col-sm-8"> <textarea type="text" name="message" ng-model="flag.message" class="form-control" id="inputMessage" ng-required="true"></textarea> <span class="error" ng-show="(flagform.$submitted || flagform.message.$touched) && (flagform.message.$pristine || flagform.message.$invalid) && (flagform.message.$error.required)">{{\'Required\'| translate}} </span> </div> </div> </div> <div class="form-group"> <div class="row"> <div class="col-sm-offset-4 col-sm-8"> <button type="submit" class="btn btn-primary" ng-show="!flag_hide">{{\'Send\'|translate}}</button> <button type="submit" ng-show="flag_hide" class="btn btn-success" disabled>{{\'Send\'|translate}}</button> <button class="btn btn-danger" type="button" ng-click="closeInstance()">{{\'Cancel\'|translate}}</button> </div> </div> </div> </div> </form> </div>'),$templateCache.put("scripts/plugins/Common/UserFlag/views/default/users_profile_flag.html",'<li> <p ng-show="(userprofile.id !== user.id && settings.SITE_ENABLED_PLUGINS.indexOf(\'Common/UserFlag\') > -1)"> <a href="javascript:;" ng-if="isAuth"> <span class="report-link" ng-click="FlagModel(userprofile.id)">{{\'Report this User\'|translate}}?</span> </a> <a href="javascript:;" ng-if="!isAuth"> <span class="report-link" ng-click="openLoginModal(\'login\')">{{\'Report this User\'|translate}}?</span> </a> </p> </li>')}]);angular.module('getlancerApp').requires.push('getlancerApp.Common.UserFlag');"use strict";angular.module("getlancerApp.Common.PaypalREST",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","ui.select","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","builder","builder.components","validator.rules","angularMoment","ngFileUpload","oitozero.ngSweetAlert","720kb.socialshare","slugifier"]);angular.module('getlancerApp').requires.push('getlancerApp.Common.PaypalREST');