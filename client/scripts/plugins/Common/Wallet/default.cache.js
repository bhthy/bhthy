"use strict";angular.module("getlancerApp.Common.Wallet",["ngResource","ngSanitize","satellizer","ngAnimate","ui.bootstrap","ui.bootstrap.datetimepicker","ui.router","angular-growl","google.places","angular.filter","ngCookies","angular-md5","ui.select2","ui.select","http-auth-interceptor","vcRecaptcha","angulartics","pascalprecht.translate","angulartics.google.analytics","tmh.dynamicLocale","ngMap","chieffancypants.loadingBar","payment","builder","builder.components","validator.rules","angularMoment","ngFileUpload","oitozero.ngSweetAlert","720kb.socialshare","slugifier"]).config(function($stateProvider,$urlRouterProvider){var getToken={TokenServiceData:function(TokenService,$q){return $q.all({AuthServiceData:TokenService.promise,SettingServiceData:TokenService.promiseSettings})}};$urlRouterProvider.otherwise("/"),$stateProvider.state("wallets",{url:"/wallets",templateUrl:"scripts/plugins/Common/Wallet/views/default/wallet.html",resolve:getToken})}),angular.module("getlancerApp.Common.Wallet").controller("WalletController",["$rootScope","$scope","$window","countries","states","cities","usersAddresses","wallet","flash","$location","$filter","$state","paymentGateways","userSettings","ConstPaymentGateways","UserMeFactory","$timeout",function($rootScope,$scope,$window,countries,states,cities,usersAddresses,wallet,flash,$location,$filter,$state,paymentGateways,userSettings,ConstPaymentGateways,UserMeFactory,$timeout){$rootScope.url_split=$location.path().split("/")[1],$rootScope.header=$rootScope.settings.SITE_NAME+" | "+$filter("translate")("Add to wallet"),$scope.minimum_wallet_amount=$rootScope.settings.WALLET_MIN_WALLET_AMOUNT,$scope.maximum_wallet_amount=$rootScope.settings.WALLET_MAX_WALLET_AMOUNT,$scope.buyer={},$scope.paynow_is_disabled=!1,$scope.payment_note_enabled=!1,$scope.payer_form_enabled=!0,$scope.is_wallet_page=!0,$scope.existing_new_address=1,$scope.user_address_id="",$scope.user_address_add={},$scope.save_btn=!1,$scope.first_gateway_id="",$scope.gatewayError="",$scope.index=function(){UserMeFactory.get({},function(response){$scope.user_available_balance=response.data.available_wallet_amount||0,0===parseInt($scope.user_available_balance)?$scope.is_show_wallet_paybtn=!1:$scope.is_show_wallet_paybtn=!0});var payment_gateways=[];paymentGateways.get({},function(payment_response){if(payment_response.PayPalREST){var response=payment_response.PayPalREST;response.paypalrest_enabled&&($scope.paypal_enabled=!0)}$scope.group_gateway_id="",0===payment_response.error.code&&void 0!==payment_response.zazpay&&(angular.forEach(payment_response.zazpay.gateways,function(gateway_group_value,gateway_group_key){0===gateway_group_key&&($scope.group_gateway_id=gateway_group_value.id,$scope.first_gateway_id=gateway_group_value.id),angular.forEach(gateway_group_value.gateways,function(payment_geteway_value,payment_geteway_key){var payment_gateway={},suffix="sp_";0===gateway_group_key&&($scope.sel_payment_gateway="sp_"+payment_geteway_value.id),suffix+=payment_geteway_value.id,payment_gateway.id=payment_geteway_value.id,payment_gateway.payment_id=suffix,payment_gateway.group_id=gateway_group_value.id,payment_gateway.display_name=payment_geteway_value.display_name,payment_gateway.thumb_url=payment_geteway_value.thumb_url,payment_gateway.suffix=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.form_fields=payment_geteway_value._form_fields._extends_tpl.join(),payment_gateway.instruction_for_manual=payment_geteway_value.instruction_for_manual,payment_gateways.push(payment_gateway)})}),$scope.gateway_groups=payment_response.zazpay.gateways,$scope.payment_gateways=payment_gateways,$scope.form_fields_tpls=payment_response.zazpay._form_fields_tpls,$scope.show_form=[],$scope.form_fields=[],angular.forEach($scope.form_fields_tpls,function(key,value){"buyer"===value&&($scope.form_fields[value]="scripts/plugins/Common/Wallet/views/default/buyer.html"),"credit_card"===value&&($scope.form_fields[value]="scripts/plugins/Common/Wallet/views/default/credit_card.html"),"manual"===value&&($scope.form_fields[value]="scripts/plugins/Common/Wallet/views/default/manual.html"),$scope.show_form[value]=!0}),$scope.gateway_id=ConstPaymentGateways.ZazPay)})},$scope.paneChanged=function(pane){"Manual / Offline"===pane&&($scope.payment_note_enabled=!0),"paypal"===pane&&($scope.gateway_id=ConstPaymentGateways.PayPal),$scope.defaultselect(pane);var keepGoing=!0;$scope.buyer={},$scope.PaymentForm.$setPristine(),$scope.PaymentForm.$setUntouched(),angular.forEach($scope.form_fields_tpls,function(key,value){$scope.show_form[value]=!1}),$scope.gateway_id=ConstPaymentGateways.ZazPay,angular.forEach($scope.gateway_groups,function(res){if(res.display_name===pane&&"Wallet"!==pane){var selPayment="";angular.forEach($scope.payment_gateways,function(response){keepGoing&&response.group_id===res.id&&(selPayment=response,keepGoing=!1,$scope.rdoclick(selPayment.id,selPayment.form_fields))}),$scope.sel_payment_gateway="sp_"+selPayment.id,$scope.group_gateway_id=selPayment.group_id}})},$scope.defaultselect=function(pane){var selectedTab,selectedPayment;$scope.gateways=[];var keepGoing=!0;angular.forEach($scope.gateway_groups,function(res){keepGoing&&res.display_name==pane&&(selectedTab=res,$scope.selectedTab=res,keepGoing=!1)}),keepGoing=!0,angular.forEach($scope.payment_gateways,function(res){keepGoing&&res.group_id==selectedTab.id&&(selectedPayment=res,keepGoing=!1,$scope.rdoclick(selectedPayment.id,selectedPayment.form_fields))}),$scope.gateways="sp_"+selectedPayment.id},$scope.rdoclick=function(res,res1){$scope.paynow_is_disabled=!1,$scope.sel_payment_gateway="sp_"+res,$scope.array=res1.split(","),angular.forEach($scope.array,function(value){$scope.show_form[value]=!0})},$scope.WalletFormSubmit=function(form){var payment_id="";if($scope.sel_payment_gateway&&$scope.gateway_id===ConstPaymentGateways.ZazPay&&(payment_id=$scope.sel_payment_gateway.split("_")[1]),$scope.buyer.user_id=$rootScope.user.id,$scope.buyer.amount=$scope.amount,$scope.buyer.payment_gateway_id=$scope.gateway_id,$scope.buyer.gateway_id=payment_id,angular.isDefined($scope.buyer.credit_card_expired)&&($scope.buyer.credit_card_expired.month||$scope.buyer.credit_card_expired.year)&&($scope.buyer.credit_card_expired.month>0&&$scope.buyer.credit_card_expired.month<10&&($scope.buyer.credit_card_expired.month="0"+$scope.buyer.credit_card_expired.month),$scope.buyer.credit_card_expire=$scope.buyer.credit_card_expired.month+"/"+$scope.buyer.credit_card_expired.year),form){$scope.paynow_is_disabled=!0;var flashMessage;wallet.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.payment_response.gateway_callback_url?$window.location.href=response.payment_response.gateway_callback_url:"Pending"===response.payment_response.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.payment_response.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.payment_response.error.code?(flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload()):512===response.payment_response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):($scope.gatewayError=$filter("translate")(response.payment_response.error.message),flashMessage=$filter("translate")("Payment could not be completed.Please try again..."),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.payment_response.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.payment_response.error.message),"error",!1),$scope.paynow_is_disabled=!1})}},$scope.site_url=$location.absUrl().split("?")[1];var flashMessage;"error_code=0"===$scope.site_url&&(flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1)),$scope.payNowPayPalClick=function(){var flashMessage;angular.isDefined($scope.amount)?($scope.buyer.user_id=$rootScope.user.id,$scope.buyer.amount=$scope.amount,$scope.buyer.payment_gateway_id=ConstPaymentGateways.PayPal,$scope.buyer.gateway_id=$scope.buyer.payment_gateway_id,$scope.paynow_is_disabled=!0,wallet.create($scope.buyer,function(response){0===response.error.code?void 0!==response.redirect_url?$window.location.href=response.redirect_url:void 0!==response.payment_response.gateway_callback_url?$window.location.href=response.payment_response.gateway_callback_url:"Pending"===response.payment_response.status?(flashMessage=$filter("translate")("Your request is in pending."),flash.set(flashMessage,"error",!1),$state.reload()):"Captured"===response.payment_response.status?(flashMessage=$filter("translate")("Amount added successfully."),flash.set(flashMessage,"success",!1),$state.reload()):0===response.payment_response.error.code?(flashMessage=$filter("translate")("Payment successfully completed."),flash.set(flashMessage,"success",!1),$state.reload()):512===response.payment_response.error.code&&(flashMessage=$filter("translate")("Process Failed. Please, try again."),flash.set(flashMessage,"error",!1)):($scope.gatewayError=$filter("translate")(response.payment_response.error.message),flashMessage=$filter("translate")("Payment could not be completed.Please try again..."),flash.set(flashMessage,"error",!1)),$scope.paynow_is_disabled=!1},function(error){(angular.isDefined(error.payment_response.error.message)||null!==error.data.error.message)&&flash.set($filter("translate")(error.payment_response.error.message),"error",!1),$scope.paynow_is_disabled=!1})):(flashMessage=$filter("translate")("please enter amount."),flash.set(flashMessage,"error",!1))},countries.get({limit:"all"},function(response){angular.isDefined(response.data)&&($scope.countries=response.data)}),$scope.index()}]),angular.module("getlancerApp.Common.Wallet").factory("wallet",["$resource",function($resource){return $resource("/api/v1/wallets",{},{create:{method:"POST"}})}]),angular.module("getlancerApp.Common.Wallet").run(["$templateCache",function($templateCache){$templateCache.put("scripts/plugins/Common/Wallet/views/default/buyer.html",'<div class="row"> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_email.$touched) && (PaymentForm.buyer_email.$pristine || PaymentForm.buyer_email.$invalid) }"> <input name="buyer_email" ng-model="buyer.buyer_email" class="form-control" id="buyer_email" type="email" placeholder="{{\'Email\'|translate}}" ng-required="true"> <div ng-show="((PaymentForm.$submitted || PaymentForm.buyer_email.$touched) && (PaymentForm.buyer_email.$pristine || PaymentForm.buyer_email.$invalid))"> <div class="help-block" ng-show="(PaymentForm.buyer_email.$error.required)">{{\'Required\'|translate}}</div> <div class="help-block" ng-show="(PaymentForm.buyer_email.$error.email)">{{\'Enter Valid Email\'|translate}}</div> </div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_address.$touched) && (PaymentForm.buyer_address.$pristine || PaymentForm.buyer_address.$invalid) }"> <input name="buyer_address" ng-model="buyer.buyer_address" class="form-control" id="buyer_address" type="text" ng-required="true" placeholder="{{\'Address\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_address.$touched) && (PaymentForm.buyer_address.$pristine || PaymentForm.buyer_address.$invalid) && (PaymentForm.buyer_address.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_city.$touched) && (PaymentForm.buyer_city.$pristine || PaymentForm.buyer_city.$invalid) }"> <input name="buyer_city" id="buyer_city" class="form-control" ng-model="buyer.buyer_city" type="text" ng-required="true" placeholder="{{\'City\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_city.$touched) && (PaymentForm.buyer_city.$pristine || PaymentForm.buyer_city.$invalid) &&(PaymentForm.buyer_city.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div> <div class="row"> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_state.$touched) && (PaymentForm.buyer_state.$pristine || PaymentForm.buyer_state.$invalid) }"> <input name="buyer_state" ng-model="buyer.buyer_state" class="form-control" id="buyer_state" type="text" ng-required="true" placeholder="{{\'State\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_state.$touched) && (PaymentForm.buyer_state.$pristine || PaymentForm.buyer_state.$invalid) && (PaymentForm.buyer_state.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_country_iso2.$touched) && (PaymentForm.buyer_country_iso2.$pristine || PaymentForm.buyer_country_iso2.$invalid) }"> <select name="buyer_country_iso2" id="buyer_country_iso2" class="form-control" ng-model="buyer.buyer_country_iso2" ng-options="country.iso_alpha2 as country.name for country in countries" ng-required="true"> <option value="">{{\'Country\'|translate}}</option> </select> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_country_iso2.$touched) && (PaymentForm.buyer_country_iso2.$pristine || PaymentForm.buyer_country_iso2.$invalid) && (PaymentForm.buyer_country_iso2.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_zip_code.$touched) && (PaymentForm.buyer_zip_code.$pristine || PaymentForm.buyer_zip_code.$invalid) }"> <input name="buyer_zip_code" ng-model="buyer.buyer_zip_code" class="form-control" id="buyer_zip_code" type="number" ng-required="true" placeholder="{{\'Zip Code\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_zip_code.$touched) && (PaymentForm.buyer_zip_code.$pristine || PaymentForm.buyer_zip_code.$invalid)"> <div class="help-block" ng-show="(PaymentForm.buyer_zip_code.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div> <div class="col-sm-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.buyer_phone.$touched) && (PaymentForm.buyer_phone.$pristine || PaymentForm.buyer_phone.$invalid) }"> <input name="buyer_phone" ng-model="buyer.buyer_phone" class="form-control" id="buyer_phone" type="number" ng-required="true" placeholder="{{\'Phone\'|translate}}"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.buyer_phone.$touched) && (PaymentForm.buyer_phone.$pristine || PaymentForm.buyer_phone.$invalid)"> <div class="help-block" ng-show="(PaymentForm.buyer_phone.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/credit_card.html",'<div class="row"> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_number.$touched) && (PaymentForm.credit_card_number.$pristine || PaymentForm.credit_card_number.$invalid) }"> <card-number-input ng-model="buyer.credit_card_number" class="form-control" name="credit_card_number" card-type="cardType" placeholder="{{\'Card Number\'|translate}}" ng-required="true"></card-number-input> <span class="{{cardType}}"><span class="cc-type"></span></span> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_number.$touched) && (PaymentForm.credit_card_number.$pristine || PaymentForm.credit_card_number.$invalid) && (PaymentForm.credit_card_number.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_expired.$touched) && (PaymentForm.credit_card_expired.$pristine || PaymentForm.credit_card_expired.$invalid) }"> <card-expiry-input class="form-control" name="credit_card_expired" ng-model="buyer.credit_card_expired" placeholder="{{\'MM / YYYY\'|translate}}" ng-required="true"></card-expiry-input> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_expired.$touched) && (PaymentForm.credit_card_expired.$pristine || PaymentForm.credit_card_expired.$invalid) && (PaymentForm.credit_card_expired.$error.required)">{{\'Required\'|translate}}</div> <div class="help-block" ng-show="(PaymentForm.credit_card_expired.$error.cardExpiry &&  !PaymentForm.credit_card_expired.$error.required) && PaymentForm.credit_card_expired.$touched">{{\'Please enter a future date\'|translate}}</div> </div> </div> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_name_on_card.$touched) && (PaymentForm.credit_card_name_on_card.$pristine || PaymentForm.credit_card_name_on_card.$invalid) }"> <input name="credit_card_name_on_card" ng-model="buyer.credit_card_name_on_card" class="form-control" id="ZazpayCreditCardNameOnCard" type="text" class="card_name" placeholder="{{\'Name on Card\'|translate}}" ng-required="true"> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_name_on_card.$touched) && (PaymentForm.credit_card_name_on_card.$pristine || PaymentForm.credit_card_name_on_card.$invalid) && (PaymentForm.credit_card_name_on_card.$error.required)">{{\'Required\'|translate}}</div> </div> </div> <div class="col-sm-6 pr25"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.credit_card_code.$touched) && (PaymentForm.ccNumcredit_card_codeber.$pristine || PaymentForm.credit_card_code.$invalid) }"> <card-cvc-input class="form-control" name="credit_card_code" ng-model="buyer.credit_card_code" placeholder="{{\'Card Code\'|translate}}" ng-required="true"></card-cvc-input> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.credit_card_code.$touched) && (PaymentForm.credit_card_code.$pristine || PaymentForm.credit_card_code.$invalid) && (PaymentForm.credit_card_code.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/gateway.html",'<div ng-if="gatewayError"><div class="well-sm"></div><div class="alert alert-danger">{{gatewayError}}</div></div> <article id="get-gateways-index"> <div class="get-gateways"> <div class="ver-space"> <div id="paymentgateways-tab-container" class="navbar-btn"> <ul class="nav nav-tabs cur text-center">  <li class="col-xs-6 col-sm-3" ng-if="paypal_enabled" ng-class="{active:paypal_enabled}"> <a data-target="#Paypal" data-toggle="tab" ng-click="paneChanged(\'paypal\')"> <div> <img src="images/paypal.png" data-target="#Paypal"> </div> </a> </li>  <li class="col-xs-6 col-sm-4 act-{{gateway_group.id}}" ng-repeat="gateway_group in gateway_groups" ng-hide="!gateway_group.gateways.length" ng-class="{active:$first && !paypal_enabled}"> <a data-target="#{{gateway_group.id}}" data-toggle="tab" ng-click="paneChanged(gateway_group.display_name)"> <div> <img ng-src="{{gateway_group.thumb_url}}" data-target="#{{gateway_group.id}}"> </div> </a> </li> </ul> </div> <div class="tab-content qwerty">  <div class="tab-pane" ng-class="{active:paypal_enabled}" id="Paypal"> <div class="js-form col-xs-12 js-form navbar-btn"> <div class="clearfix btn-group"> <button type="button" ng-disabled="paynow_is_disabled" ng-click="payNowPayPalClick()" class="textb text-13 btn btn-lg btn-primary" title="{{\'Pay Now\'|translate}}">{{\'Pay Now\'|translate}} <span ng-show="paynow_is_disabled"><i class="fa fa-spinner fa-pulse fa-lg"></i></span> </button> </div> <div class="ver-space ver-mspace navbar-btn mob-clr col-xs-12 row"> <span class="text-info">{{\'By clicking the "Pay Now" button, you agree to these \'|translate}} <a target="_blank" href="pages/7/terms-and-conditions" title="{{\'Terms of Service\'|translate}}">{{\'Terms of Service.\'|translate}}</a> </span> </div> </div> </div> <div ng-repeat="gateway_group in gateway_groups" ng-hide="!gateway_group.gateways.length" id="{{gateway_group.id}}" class="tab-pane js-set-deact act-{{gateway_group.id}}" ng-class="{active:$first && !paypal_enabled }"> <ul class="list-inline"> <li ng-repeat="payment_gateway in payment_gateways" ng-if="payment_gateway.group_id == gateway_group.id" class=""> <div ng-if="payment_gateway.group_id == first_gateway_id" class="payment-note top-space text-info">{{\'Please enter your credit card details below\'|translate}}.</div> <div ng-if="payment_gateway.group_id != first_gateway_id" class="input radio no-mar hor-mspace radio_buttons"> <label for="PaymentGatewayIdSp{{payment_gateway.id}}" class="bot-space-20"> <input type="radio" name="data" ng-model="sel_payment_gateway" id="PaymentGatewayIdSp{{payment_gateway.id}}" class="js-payment-type js-no-pjax pull-left no-mar" value="sp_{{payment_gateway.id}}" ng-click="rdoclick(payment_gateway.id, payment_gateway.form_fields) "> <span> <img ng-src="{{payment_gateway.thumb_url}}" alt="{{payment_gateway.name}}"> </span> </label> <p ng-bind-html="payment_gateway.instruction_for_manual" ng-show="payment_gateway.instruction_for_manual" class="payment-note"></p> </div> </li> </ul> <div class="js-form js-form navbar-btn"> <div class="js-gatway_form_tpl clearfix" ng-repeat="(key, value) in form_fields_tpls" id="form_tpl_{{key}}" ng-if="gateway_group.id == group_gateway_id"> <div ng-if="show_form[key]"> <div class="no-mar clearfix" ng-if="key == \'credit_card\'"> <h3>{{\'Credit card Details\'|translate}}</h3> <hr class="row"> <div ng-include="form_fields[key]" ng-if="key === \'credit_card\'" class="payment-form cc-section"></div> </div> <div class="no-mar clearfix" ng-if="key == \'buyer\' && payer_form_enabled"> <h3 class="no-mar">{{\'Payer Details\'|translate}}</h3> <hr class="row"> <div ng-include="form_fields[key]" ng-if="key === \'buyer\'" class="payment-form"></div> </div> <div class="no-mar clearfix" ng-if="key == \'manual\' && payment_note_enabled"> <h3 class="no-mar">{{\'Payer Details\'|translate}}</h3> <hr class="row"> <div ng-include="form_fields[key]" ng-if="key === \'manual\'" class="payment-form"></div> </div> </div> </div> </div> <div class="navbar-btn mob-clr"> <div class="bot-15-mspace">{{\'By clicking the "Pay Now" button, you agree to these \'|translate}} <a target="_blank" href="pages/7/terms-and-conditions" title="{{\'Terms of Service\'|translate}}" class="text-primary">{{\'Terms of Service.\'|translate}}</a> </div> <div class="clearfix"> <button type="submit" ng-disabled="paynow_is_disabled" class="btn btn-primary" title="{{\'Pay Now\'|translate}}">{{\'Pay Now\'|translate}} <span ng-show="paynow_is_disabled"><i class="fa fa-spinner fa-pulse fa-lg"></i></span> </button> </div> </div> </div> </div> </div> </div> </article>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/manual.html",'<div class="row"> <div class="col-md-6"> <div class="form-group" ng-class="{ \'has-error\' : (PaymentForm.$submitted || PaymentForm.payment_note.$touched) && (PaymentForm.payment_note.$pristine || PaymentForm.payment_note.$invalid) }"> <label for="payment_note">{{\'Payment Note\'|translate}}</label> <textarea class="form-control ta" ng-model="buyer.payment_note" name="payment_note" id="payment_note" placeholder="{{\'Payment Note\'|translate}}" ng-required="true"></textarea> <div class="help-block" ng-show="(PaymentForm.$submitted || PaymentForm.payment_note.$touched) && (PaymentForm.payment_note.$pristine || PaymentForm.payment_note.$invalid) && (PaymentForm.payment_note.$error.required)">{{\'Required\'|translate}}</div> </div> </div> </div>'),$templateCache.put("scripts/plugins/Common/Wallet/views/default/wallet.html",'<div class="gray-bg top-space top-mspace-10"> <div class="container"> <div class="row"> <div class="col-md-12"> <ul class="breadcrumb panel"> <li> <a href="/">{{\'Home\'|translate}}</a> </li> <li class="active">{{\'Add to wallet\'|translate}}</li> </ul> </div> </div> </div> <div class="container"> <div class="row"> <div class="col-md-4 col-lg-3"> <div ng-include="\'views/users_account_left_side_menu.html\'"></div> </div> <div class="col-md-8 col-lg-9 navbar-btn"> <div class="section navbar-default" ng-show="!loader" ng-controller="WalletController"> <div class="panel"> <div class="panel-heading sep-bot"> <h3 class="no-mar">{{\'Add to wallet\'|translate}}</h3> </div> <div class="panel-heading space-alert"> <p ng-if="user_available_balance == 0 || user_available_balance == null " class="alert alert-danger custom-alert"> <span>{{\'Your Current Available Balance\'|translate}}: </span> <span class="textb text-34"> <amount-display amount="{{user_available_balance}}" ng-if="user_available_balance"></amount-display> </span> </p> <p ng-if="user_available_balance > 0" class="alert alert-success custom-alert"> <span>{{\'Your Current Available Balance\'|translate}}:</span> <span class="textb text-34"><amount-display amount="{{user_available_balance}}" ng-if="user_available_balance"></amount-display> </span> </p> <form class="clearfix form-horizontal wallet-form row" role="form" name="PaymentForm" ng-submit="WalletFormSubmit(PaymentForm.$valid)"> <div class="col-sm-10 col-sm-offset-2"> <div class="form-group col-sm-10" ng-class="{ \'has-error\' : ((PaymentForm.$submitted || PaymentForm.amount.$touched) && (PaymentForm.amount.$pristine || PaymentForm.amount.$invalid)) || amountErr }"> <div class="row"> <label class="col-sm-4 control-label text-right" for="amount">{{\'Amount\'|translate}}</label> <div class="col-sm-8"> <input type="number" min="{{minimum_wallet_amount}}" max="{{maximum_wallet_amount}}" class="form-control" name="amount" id="amount" placeholder="{{\'Amount\'|translate}}" ng-model="amount" ng-change="amountErr=\'\'" required> <div ng-show="((PaymentForm.$submitted || PaymentForm.amount.$touched) && (PaymentForm.amount.$pristine || PaymentForm.amount.$invalid)) || amountErr"> <span class="help-block error" ng-show="(PaymentForm.amount.$error.required)"> {{\'You must enter the amount\' | translate}} </span> <span class="help-block error" ng-show="(PaymentForm.amount.$error.number)"> {{\'Please enter a valid amount\' | translate}} </span> <span class="help-block error" ng-show="(PaymentForm.amount.$error.min)"> {{\'Your field value is lesser than minimum value\' | translate}} </span> <span class="help-block error" ng-show="(PaymentForm.amount.$error.max)"> {{\'Your field value is greater than maximum value\' | translate}} </span> <span class="help-block error" ng-show="amountErr"> {{amountErr}} </span> </div> </div> </div> <ul class="list-unstyled col-sm-offset-4 space text-muted text-12"> <li>{{\'Minimum Amount\'|translate}}: <span> <amount-display amount="{{minimum_wallet_amount}}" ng-if="minimum_wallet_amount"></amount-display> </span></li> <li>{{\'Maximum Amount\'|translate}}: <span> <amount-display amount="{{maximum_wallet_amount}}" ng-if="maximum_wallet_amount"></amount-display> </span></li> </ul> </div> <div class="clearfix"></div> </div> <div class="col-xs-12"> <div ng-include="\'scripts/plugins/Common/Wallet/views/default/gateway.html\'"></div> </div> </form> </div> </div> </div> </div> </div> </div> </div>')}]);